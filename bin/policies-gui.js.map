{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/admin/PoliciesGUI.js","src/admin/PoliciesManager.js"],"names":[],"mappings":"AAAA;;;;;;;;;ACAA;;;;;;;;IAEM,W;AAEJ,uBAAY,SAAZ,EAAuB,MAAvB,EAA+B,UAA/B,EAA2C;AAAA;;AACzC,QAAI,QAAQ,IAAZ;AACA,UAAM,eAAN,GAAwB,8BAAoB,SAApB,EAA+B,MAA/B,EAAuC,UAAvC,CAAxB;AACA;AACD;;;;wCAEmB;AAClB,UAAI,QAAQ,IAAZ;AACA,aAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,cAAM,eAAN,CAAsB,iBAAtB,GAA0C,IAA1C,CAA+C,YAAM;AACnD,gBAAM,QAAN,GAAiB,MAAM,YAAN,EAAjB;AACA,gBAAM,aAAN;AACA;AACD,SAJD;AAKD,OANM,CAAP;AAOD;;;iCAEY;AACX,UAAI,QAAQ,IAAZ;AACA,UAAI,QAAQ,MAAM,MAAN,CAAa,EAAzB;AACA,QAAE,mBAAF,EAAuB,IAAvB,CAA4B,iFAAiF,KAAjF,GAAyF,cAArH;AACA,QAAE,mBAAF,EAAuB,SAAvB;AACA,QAAE,gBAAF,EAAoB,GAApB;AACA,QAAE,gBAAF,EAAoB,EAApB,CAAuB,OAAvB,EAAgC,UAAC,KAAD,EAAW;AACzC,YAAI,SAAS,EAAE,aAAF,EAAiB,GAAjB,EAAb;AACA,UAAE,aAAF,EAAiB,GAAjB,CAAqB,EAArB;AACA,cAAM,eAAN,CAAsB,UAAtB,CAAiC,KAAjC,EAAwC,MAAxC,EAAgD,IAAhD,CAAqD,YAAM;AACzD,YAAE,mBAAF,EAAuB,UAAvB;AACA,gBAAM,aAAN;AACD,SAHD;AAID,OAPD;AAQD;;;mCAEc;AACb,UAAI,QAAQ,IAAZ;AACA,QAAE,iBAAF,EAAqB,GAArB,CAAyB,EAAzB;AACA,QAAE,kBAAF,EAAsB,SAAtB;AACA,QAAE,eAAF,EAAmB,EAAnB,CAAsB,OAAtB,EAA+B,UAAC,KAAD,EAAW;AACxC,YAAI,YAAY,EAAE,iBAAF,EAAqB,GAArB,EAAhB;AACA,cAAM,eAAN,CAAsB,WAAtB,CAAkC,SAAlC,EAA6C,IAA7C,CAAkD,YAAM;AACtD,gBAAM,aAAN;AACD,SAFD;AAGD,OALD;AAMD;;;iCAEY;AACX,UAAI,QAAQ,IAAZ;AACA,QAAE,mBAAF,EAAuB,GAAvB,CAA2B,EAA3B;AACA,QAAE,YAAF,EAAgB,IAAhB,CAAqB,EAArB;AACA,UAAI,aAAa,CAAC,iBAAD,EAAoB,iBAApB,EAAuC,kBAAvC,CAAjB;AACA,QAAE,YAAF,EAAgB,MAAhB,CAAuB,KAAK,WAAL,CAAiB,gBAAjB,EAAmC,8BAAnC,EAAmE,UAAnE,CAAvB;AACA,QAAE,aAAF,EAAiB,SAAjB;;AAEA,QAAE,gBAAF,EAAoB,GAApB;AACA,QAAE,gBAAF,EAAoB,EAApB,CAAuB,OAAvB,EAAgC,UAAC,KAAD,EAAW;AACzC,YAAI,cAAc,EAAE,mBAAF,EAAuB,GAAvB,EAAlB;AACA,YAAI,CAAC,WAAL,EAAkB;AAChB,sBAAY,KAAZ,CAAkB,sBAAlB,EAA0C,IAA1C;AACD,SAFD,MAEO;AACL,cAAI,qBAAqB,EAAE,iBAAF,EAAqB,GAArB,EAAzB;AACA,gBAAM,eAAN,CAAsB,SAAtB,CAAgC,WAAhC,EAA6C,kBAA7C,EAAiE,IAAjE,CAAsE,YAAM;AAC1E,cAAE,YAAF,EAAgB,QAAhB,CAAyB,MAAzB;AACA,cAAE,aAAF,EAAiB,UAAjB;AACA,kBAAM,OAAN;AACD,WAJD;AAKD;AACF,OAZD;AAaA,QAAE,WAAF,EAAe,GAAf;AACA,QAAE,WAAF,EAAe,EAAf,CAAkB,OAAlB,EAA2B,UAAC,KAAD,EAAW;AACpC,UAAE,YAAF,EAAgB,WAAhB,CAA4B,MAA5B;AACD,OAFD;AAGD;;;4CAEuB;AACtB,UAAI,QAAQ,IAAZ;AACA,UAAI,KAAK,MAAM,MAAN,CAAa,OAAb,CAAqB,IAArB,EAA2B,EAApC;AACA,UAAI,UAAU,GAAG,KAAH,CAAS,GAAT,CAAd;AACA,UAAI,eAAe,SAAS,QAAQ,QAAQ,MAAR,GAAiB,CAAzB,CAAT,CAAnB;AACA,cAAQ,GAAR;AACA,UAAI,cAAc,QAAQ,IAAR,CAAa,GAAb,CAAlB;AACA,YAAM,eAAN,CAAsB,SAAtB,CAAgC,WAAhC,EAA6C,IAA7C,CAAkD,UAAC,MAAD,EAAY;AAC5D,YAAI,eAAe,OAAO,eAAP,EAAnB;AACA,YAAI,gBAAgB,YAApB,EAAkC;AAChC,cAAI,cAAc,SAAS,eAAe,CAAxB,CAAlB;AACA,gBAAM,eAAN,CAAsB,oBAAtB,CAA2C,WAA3C,EAAwD,YAAxD,EAAsE,WAAtE,EAAmF,IAAnF,CAAwF,YAAM;AAC5F,kBAAM,OAAN;AACD,WAFD;AAGD;AACF,OARD;AASD;;;oCAEe;AACd,UAAI,QAAQ,IAAZ;AACA,UAAI,KAAK,MAAM,MAAN,CAAa,OAAb,CAAqB,IAArB,EAA2B,EAApC;AACA,UAAI,UAAU,GAAG,KAAH,CAAS,IAAT,CAAd;AACA,UAAI,SAAS,QAAQ,QAAQ,MAAR,GAAiB,CAAzB,CAAb;AACA,cAAQ,GAAR;AACA,UAAI,QAAQ,QAAQ,IAAR,CAAa,IAAb,CAAZ;AACA,YAAM,eAAN,CAAsB,eAAtB,CAAsC,KAAtC,EAA6C,MAA7C,EAAqD,IAArD,CAA0D,YAAM;AAC9D,cAAM,aAAN;AACD,OAFD;AAGD;;;mCAEc;AACb,UAAI,QAAQ,IAAZ;AACA,UAAI,YAAY,MAAM,MAAN,CAAa,OAAb,CAAqB,IAArB,EAA2B,QAA3B,CAAoC,CAApC,EAAuC,EAAvD;AACA,YAAM,eAAN,CAAsB,WAAtB,CAAkC,SAAlC,EAA6C,IAA7C,CAAkD,YAAM;AACtD,cAAM,aAAN;AACD,OAFD;AAGD;;;oCAEe;AACd,UAAI,QAAQ,IAAZ;AACA,UAAI,cAAc,MAAM,MAAN,CAAa,OAAb,CAAqB,IAArB,EAA2B,EAA7C;AACA,YAAM,eAAN,CAAsB,YAAtB,CAAmC,WAAnC,EAAgD,IAAhD,CAAqD,YAAM;AACzD,cAAM,OAAN;AACD,OAFD;AAGD;;;kCAEa;AACZ,UAAI,QAAQ,IAAZ;AACA,UAAI,KAAK,MAAM,MAAN,CAAa,OAAb,CAAqB,IAArB,EAA2B,EAApC;AACA,UAAI,UAAU,GAAG,KAAH,CAAS,GAAT,CAAd;AACA,UAAI,WAAW,QAAQ,QAAQ,MAAR,GAAiB,CAAzB,CAAf;AACA,cAAQ,GAAR;AACA,UAAI,cAAc,QAAQ,IAAR,CAAa,GAAb,CAAlB;AACA,UAAI,OAAO,MAAM,eAAN,CAAsB,eAAtB,CAAsC,WAAtC,EAAmD,QAAnD,CAAX;;AAEA,YAAM,eAAN,CAAsB,UAAtB,CAAiC,WAAjC,EAA8C,IAA9C,EAAoD,IAApD,CAAyD,YAAM;AAC7D,cAAM,OAAN;AACD,OAFD;AAGD;;;uCAEkB;AACjB,UAAI,QAAQ,IAAZ;AACA,YAAM,eAAN,CAAsB,eAAtB,GAAwC,IAAxC,CAA6C,UAAC,gBAAD,EAAsB;AACjE,UAAE,gBAAF,EAAoB,IAApB,CAAyB,EAAzB;AACA,cAAM,eAAN,CAAsB,iBAAtB,GAA0C,IAA1C,CAA+C,UAAC,QAAD,EAAc;AAC3D,mBAAS,IAAT,CAAc,yBAAd;;AAEA,YAAE,gBAAF,EAAoB,MAApB,CAA2B,MAAM,WAAN,CAAkB,eAAlB,EAAmC,4BAAnC,EAAiE,QAAjE,EAA2E,gBAA3E,CAA3B;;AAEA,YAAE,gBAAF,EAAoB,EAApB,CAAuB,OAAvB,EAAgC,UAAC,KAAD,EAAW;AACzC,gBAAI,cAAc,EAAE,gBAAF,EAAoB,IAApB,CAAyB,WAAzB,EAAsC,CAAtC,EAAyC,WAA3D;AACA,gBAAI,gBAAgB,yBAApB,EAA+C;AAC7C,4BAAc,SAAd;AACD;AACD,kBAAM,eAAN,CAAsB,kBAAtB,CAAyC,WAAzC;AACD,WAND;AAOD,SAZD;AAaD,OAfD;AAgBD;;;qCAEgB,K,EAAO,I,EAAM,M,EAAQ,K,EAAO;AAC3C,UAAI,OAAO,+BAA+B,KAA/B,GAAuC,WAAlD;;AAEA,WAAK,IAAI,CAAT,IAAc,IAAd,EAAoB;AAClB,gBAAQ,qBAAqB,KAAK,CAAL,CAArB,GAA+B,GAAvC;AACA,aAAK,IAAI,CAAT,IAAc,MAAM,CAAN,CAAd,EAAwB;AACtB,kBAAQ,iBAAiB,OAAO,CAAP,CAAjB,GAA6B,IAA7B,GAAoC,MAAM,CAAN,EAAS,CAAT,CAApC,GAAkD,WAA1D;AACD;AACF;;AAED,aAAO,IAAP;AACD;;;6BAEQ,Q,EAAU;AACjB,UAAI,aAAJ;;AAEA,cAAO,QAAP;AACE,aAAK,MAAL;AACE,iBAAO,EAAE,SAAF,EAAa,IAAb,CAAkB,OAAlB,EAA2B,GAA3B,EAAP;AACA,cAAI,KAAK,OAAL,CAAa,GAAb,MAAsB,CAAC,CAA3B,EAA8B;AAAE;AAC9B,gBAAI,YAAY,KAAK,KAAL,CAAW,GAAX,CAAhB,CAD4B,CACK;AACjC,sBAAU,CAAV,IAAe,UAAU,CAAV,EAAa,SAAb,CAAuB,CAAvB,EAA0B,UAAU,CAAV,EAAa,MAAb,GAAsB,CAAhD,CAAf,CAF4B,CAEuC;AACnE,gBAAI,SAAS,CAAC,SAAD,EAAY,UAAZ,EAAwB,OAAxB,EAAiC,OAAjC,EAA0C,KAA1C,EAAiD,MAAjD,EAAyD,MAAzD,EAAiE,QAAjE,EAA2E,WAA3E,EAAwF,SAAxF,EAAmG,UAAnG,EAA+G,UAA/G,CAAb;AACA,mBAAO,UAAU,CAAV,IAAe,GAAf,IAAsB,OAAO,OAAP,CAAe,UAAU,CAAV,CAAf,IAA+B,CAArD,IAA0D,GAA1D,GAAgE,UAAU,CAAV,CAAvE;AACD,WALD,MAKO;AAAE;AACP,gBAAI,aAAY,KAAK,KAAL,CAAW,GAAX,CAAhB;AACA,mBAAO,WAAU,CAAV,IAAe,GAAf,GAAqB,WAAU,CAAV,CAArB,GAAoC,GAApC,GAA0C,WAAU,CAAV,CAAjD;AACD;AACD;AACF,aAAK,gBAAL;AACE,iBAAO,EAAE,QAAF,EAAY,IAAZ,CAAiB,WAAjB,EAA8B,IAA9B,EAAP;AACA;AACF,aAAK,0BAAL;AACE,cAAI,OAAO,EAAE,6CAAF,EAAiD,CAAjD,MAAwD,SAAnE,EAA8E;AAC5E,mBAAO,EAAE,6CAAF,EAAiD,CAAjD,EAAoD,EAA3D;AACD;AACD;AACF,aAAK,SAAL;AACE,iBAAO,EAAE,UAAF,EAAc,IAAd,CAAmB,WAAnB,EAAgC,IAAhC,EAAP;AACA;AACF;AACE,iBAAO,EAAE,SAAF,EAAa,IAAb,CAAkB,OAAlB,EAA2B,GAA3B,EAAP;AACA;AA1BJ;;AA6BA,aAAO,IAAP;AACD;;;6BAEQ,K,EAAO;AACZ,UAAI,OAAO,EAAX;AACA,UAAI,WAAW,MAAM,MAArB;;AAEA,WAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,QAApB,EAA8B,GAA9B,EAAmC;AACjC,gBAAQ,2BAAR;AACA,gBAAQ,iCAAiC,MAAM,CAAN,CAAjC,GAA4C,WAApD;AACD;;AAED,aAAO,IAAP;AACD;;;gCAES,E,EAAI,K,EAAO,I,EAAM,Q,EAAU;AACrC,UAAI,UAAU,iBAAiB,EAAjB,GAAsB,sDAAtB,GAA+E,KAA/E,GAAuF,WAArG;AACA,WAAK,IAAI,CAAT,IAAc,IAAd,EAAoB;AAClB,YAAI,aAAa,SAAb,GAAyB,aAAa,KAAK,CAAL,CAA1C,EAAmD;AACjD,qBAAW,0BAA0B,EAA1B,GAA+B,IAA/B,GAAsC,KAAK,CAAL,CAAtC,GAAgD,WAA3D;AACD,SAFD,MAEO;AACL,qBAAW,iBAAiB,EAAjB,GAAsB,IAAtB,GAA6B,KAAK,CAAL,CAA7B,GAAuC,WAAlD;AACD;AACF;AACD,iBAAW,WAAX;;AAEA,aAAO,OAAP;AACD;;;wCAEmB;AAClB,UAAI,QAAQ,IAAZ;;AAEA,YAAM,eAAN,CAAsB,oBAAtB,GAA6C,IAA7C,CAAkD,UAAC,QAAD,EAAc;AAC9D,UAAE,cAAF,EAAkB,QAAlB,CAA2B,MAA3B;AACA,UAAE,mBAAF,EAAuB,IAAvB,CAA4B,EAA5B;;AAEA,YAAI,iBAAiB,EAArB;AACA,YAAI,cAAc,EAAlB;AACA,YAAI,MAAM,EAAV;;AAEA,aAAK,IAAI,CAAT,IAAc,QAAd,EAAwB;AACtB,yBAAe,IAAf,CAAoB,SAAS,CAAT,EAAY,KAAhC;AACA,sBAAY,IAAZ,CAAiB,SAAS,CAAT,EAAY,WAA7B;AACA,cAAI,IAAJ,CAAS,SAAS,CAAT,EAAY,GAArB;AACD;;AAED,YAAI,QAAQ,SAAZ;AACA,YAAI,UAAU,eAAe,MAAf,KAA0B,CAAxC;;AAEA,aAAK,IAAI,EAAT,IAAc,cAAd,EAA8B;AAC5B,mBAAS,oBAAoB,eAAe,EAAf,CAApB,GAAwC,+CAAxC,GAA0F,eAAe,EAAf,CAA1F,GAA8G,6JAAvH;;AAEA,eAAK,IAAI,CAAT,IAAc,YAAY,EAAZ,CAAd,EAA8B;AAC5B,qBAAS,aAAa,IAAI,EAAJ,EAAO,CAAP,CAAb,GAAyB,sVAAzB,GAAkX,YAAY,EAAZ,EAAe,CAAf,CAAlX,GAAsY,mIAA/Y;AACD;AACD,mBAAS,aAAa,eAAe,EAAf,CAAb,GAAiC,wKAA1C;AACD;AACD,YAAI,CAAC,OAAL,EAAc;AACZ,mBAAS,kBAAT;AACA,YAAE,mBAAF,EAAuB,MAAvB,CAA8B,KAA9B;AACD,SAHD,MAGO;AACL,YAAE,cAAF,EAAkB,WAAlB,CAA8B,MAA9B;AACD;AACD,UAAE,WAAF,EAAe,EAAf,CAAkB,OAAlB,EAA2B,UAAC,KAAD,EAAW;AAAE,gBAAM,mBAAN;AAA8B,SAAtE;AACA,UAAE,cAAF,EAAkB,EAAlB,CAAqB,OAArB,EAA8B,UAAC,KAAD,EAAW;AAAE,gBAAM,WAAN;AAAsB,SAAjE;AACA,UAAE,YAAF,EAAgB,EAAhB,CAAmB,OAAnB,EAA4B,UAAC,KAAD,EAAW;AAAE,gBAAM,SAAN;AAAoB,SAA7D;AACA,UAAE,yBAAF,EAA6B,EAA7B,CAAgC,OAAhC,EAAyC,UAAC,KAAD,EAAW;AAAE,gBAAM,qBAAN;AAAgC,SAAtF;AACA,UAAE,yBAAF,EAA6B,EAA7B,CAAgC,OAAhC,EAAyC,UAAC,KAAD,EAAW;AAAE,gBAAM,qBAAN;AAAgC,SAAtF;AACA,UAAE,aAAF,EAAiB,GAAjB;AACA,UAAE,aAAF,EAAiB,EAAjB,CAAoB,OAApB,EAA6B,UAAC,KAAD,EAAW;AAAE,gBAAM,UAAN;AAAqB,SAA/D;AACA,UAAE,gBAAF,EAAoB,EAApB,CAAuB,OAAvB,EAAgC,UAAC,KAAD,EAAW;AAAE,gBAAM,aAAN;AAAwB,SAArE;AACD,OAvCD;AAwCD;;;8BAES;AACR,WAAK,gBAAL;AACA,WAAK,iBAAL;AACD;;;4CAEuB;AACtB,UAAI,QAAQ,IAAZ;AACA,UAAI,KAAK,MAAM,MAAN,CAAa,OAAb,CAAqB,IAArB,EAA2B,EAApC;AACA,UAAI,UAAU,GAAG,KAAH,CAAS,GAAT,CAAd;AACA,UAAI,eAAe,SAAS,QAAQ,QAAQ,MAAR,GAAiB,CAAzB,CAAT,CAAnB;AACA,UAAI,iBAAiB,CAArB,EAAwB;AACtB,gBAAQ,GAAR;AACA,YAAI,cAAc,QAAQ,IAAR,CAAa,GAAb,CAAlB;AACA,YAAI,cAAc,eAAe,CAAjC;;AAEA,cAAM,eAAN,CAAsB,oBAAtB,CAA2C,WAA3C,EAAwD,YAAxD,EAAsE,WAAtE,EAAmF,IAAnF,CAAwF,YAAM;AAC5F,gBAAM,OAAN;AACD,SAFD;AAGD;AACF;;;oCAEe;AACd,UAAI,QAAQ,IAAZ;AACA,YAAM,eAAN,CAAsB,SAAtB,GAAkC,IAAlC,CAAuC,UAAC,QAAD,EAAc;AACnD,UAAE,iBAAF,EAAqB,IAArB,CAA0B,EAA1B;AACA,YAAI,SAAS,SAAS,WAAtB;AACA,YAAI,UAAU,SAAS,OAAvB;AACA,YAAI,MAAM,SAAS,GAAnB;;AAEA,YAAI,QAAQ,SAAZ;AACA,YAAI,UAAU,OAAO,MAAP,KAAkB,CAAhC;;AAEA,aAAK,IAAI,CAAT,IAAc,MAAd,EAAsB;AACpB,mBAAS,wBAAwB,OAAO,CAAP,CAAxB,GAAoC,IAApC,GAA2C,OAAO,CAAP,CAA3C,GAAuD,qLAAhE;AACA,eAAK,IAAI,CAAT,IAAc,QAAQ,CAAR,CAAd,EAA0B;AACxB,qBAAS,aAAa,IAAI,CAAJ,EAAO,CAAP,CAAb,GAAyB,iCAAzB,GAA6D,QAAQ,CAAR,EAAW,CAAX,CAA7D,GAA6E,8JAAtF;AACD;;AAED,mBAAS,aAAa,OAAO,CAAP,CAAb,GAAyB,gEAAzB,GAA4F,OAAO,CAAP,CAA5F,GAAwG,oDAAjH;AACD;;AAED,YAAI,CAAC,OAAL,EAAc;AACZ,mBAAS,kBAAT;AACA,YAAE,iBAAF,EAAqB,MAArB,CAA4B,KAA5B;AACD,SAHD,MAGO;AACL,YAAE,iBAAF,EAAqB,MAArB,CAA4B,iCAA5B;AACD;;AAED,UAAE,aAAF,EAAiB,GAAjB;AACA,UAAE,aAAF,EAAiB,EAAjB,CAAoB,OAApB,EAA6B,UAAC,KAAD,EAAW;AAAE,gBAAM,UAAN;AAAqB,SAA/D;AACA,UAAE,gBAAF,EAAoB,EAApB,CAAuB,OAAvB,EAAgC,UAAC,KAAD,EAAW;AAAE,gBAAM,aAAN;AAAwB,SAArE;AACA,UAAE,YAAF,EAAgB,GAAhB;AACA,UAAE,YAAF,EAAgB,EAAhB,CAAmB,OAAnB,EAA4B,UAAC,KAAD,EAAW;AAAE,gBAAM,YAAN;AAAuB,SAAhE;AACA,UAAE,eAAF,EAAmB,EAAnB,CAAsB,OAAtB,EAA+B,UAAC,KAAD,EAAW;AAAE,gBAAM,YAAN;AAAuB,SAAnE;AACD,OA/BD;AAgCD;;;sCAEiB,O,EAAS;AACzB,UAAI,gBAAgB,KAAK,KAAL,CAAW,OAAX,CAApB;AACA,WAAK,IAAI,CAAT,IAAc,aAAd,EAA6B;AAC3B,aAAK,eAAL,CAAqB,SAArB,CAA+B,CAA/B,EAAkC,SAAlC,EAA6C,cAAc,CAAd,CAA7C;AACD;AACD,QAAE,aAAF,EAAiB,UAAjB;AACD;;;mCAEc;AAAA;;AACb,aAAO;AACL,cAAM,cAAC,MAAD,EAAY;AAAE,iBAAO,wCAAP;AAAkD,SADjE;AAEL,gBAAQ,gBAAC,MAAD,EAAY;AAAE,iBAAO,OAAK,WAAL,CAAiB,OAAO,CAAP,CAAjB,EAA4B,OAAO,CAAP,CAA5B,EAAuC,OAAO,CAAP,CAAvC,CAAP;AAA2D,SAF5E;AAGL,cAAM,cAAC,MAAD,EAAY;AAAE,iBAAO,2CAA2C,MAA3C,GAAoD,mBAA3D;AAAiF;AAHhG,OAAP;AAKD;;;+CAE0B,W,EAAa;AAAA;;AACtC,UAAI,WAAW,MAAM,MAAN,CAAa,IAA5B;AACA,QAAE,WAAF,EAAe,IAAf,CAAoB,KAAK,oBAAL,CAA0B,WAA1B,EAAuC,QAAvC,CAApB;AACA,QAAE,SAAF,EAAa,KAAb,GAAqB,IAArB,CAA0B,EAA1B;;AAEA,UAAI,OAAO,CAAC,OAAD,EAAU,SAAV,EAAqB,KAArB,CAAX;AACA,UAAI,SAAS,CAAC,UAAD,EAAa,SAAb,EAAwB,QAAxB,CAAb;AACA,UAAI,QAAQ,EAAZ;;AAEA,WAAK,eAAL,CAAqB,WAArB,GAAmC,IAAnC,CAAwC,UAAC,MAAD,EAAY;AAClD,cAAM,IAAN,CAAW,MAAX;AACA,eAAK,eAAL,CAAqB,cAArB,GAAsC,IAAtC,CAA2C,UAAC,SAAD,EAAe;AACxD,gBAAM,IAAN,CAAW,SAAX;AACA,gBAAM,IAAN,CAAW,CAAC,8BAAD,CAAX;AACA,YAAE,SAAF,EAAa,MAAb,CAAoB,OAAK,gBAAL,CAAsB,8BAAtB,EAAsD,IAAtD,EAA4D,MAA5D,EAAoE,KAApE,CAApB;AACA,YAAE,WAAF,EAAe,WAAf,CAA2B,MAA3B;AACD,SALD;AAMD,OARD;AASD;;;wCAEmB,K,EAAO;AAAA;;AACzB,UAAI,cAAc,MAAM,MAAN,CAAa,OAAb,CAAqB,IAArB,EAA2B,EAA7C;;AAEA,QAAE,kBAAF,EAAsB,KAAtB,GAA8B,IAA9B,CAAmC,EAAnC;AACA,UAAI,YAAY,KAAK,eAAL,CAAqB,YAArB,EAAhB;AACA,QAAE,kBAAF,EAAsB,MAAtB,CAA6B,KAAK,QAAL,CAAc,SAAd,CAA7B;AACA,QAAE,WAAF,EAAe,QAAf,CAAwB,MAAxB;AACA,QAAE,WAAF,EAAe,SAAf;AACA,QAAE,kBAAF,EAAsB,GAAtB;AACA,QAAE,kBAAF,EAAsB,EAAtB,CAAyB,OAAzB,EAAkC,UAAC,KAAD,EAAW;AAAE,eAAK,0BAAL,CAAgC,WAAhC;AAA+C,OAA9F;AACD;;;yCAEoB,W,EAAa,Q,EAAU;AAC1C,UAAI,QAAQ,IAAZ;AACA,UAAI,OAAO,MAAM,eAAN,CAAsB,eAAtB,CAAsC,QAAtC,CAAX;AACA,QAAE,iBAAF,EAAqB,IAArB,CAA0B,KAAK,KAA/B;AACA,QAAE,cAAF,EAAkB,IAAlB,CAAuB,KAAK,WAA5B;AACA,QAAE,SAAF,EAAa,IAAb,CAAkB,EAAlB;;AAEA,UAAI,aAAa,0BAAjB,EAA6C;AAC3C,UAAE,oBAAF,EAAwB,WAAxB,CAAoC,MAApC;AACD,OAFD,MAEO;AAAA;AACL,YAAE,oBAAF,EAAwB,QAAxB,CAAiC,MAAjC;AACA,cAAI,OAAO,KAAK,KAAhB;;AAFK,qCAGI,CAHJ;AAIH,kBAAM,eAAN,CAAsB,cAAtB,GAAuC,IAAvC,CAA4C,UAAC,WAAD,EAAiB;AAC3D,kBAAI,aAAa,gBAAjB,EAAmC;AACjC,qBAAK,CAAL,EAAQ,CAAR,EAAW,IAAX,CAAgB,WAAhB;AACD;AACD,gBAAE,SAAF,EAAa,MAAb,CAAoB,MAAM,QAAN,CAAe,KAAK,CAAL,EAAQ,CAAR,CAAf,EAA2B,KAAK,CAAL,EAAQ,CAAR,CAA3B,CAApB;AACA,kBAAI,aAAa,gBAAjB,EAAmC;AACjC,qBAAK,CAAL,EAAQ,CAAR,EAAW,GAAX;AACD;AACF,aARD;AAJG;;AAGL,eAAK,IAAI,CAAT,IAAc,IAAd,EAAoB;AAAA,kBAAX,CAAW;AAUnB;AACD,cAAI,aAAY,MAAhB,EAAwB;AACtB,cAAE,aAAF,EAAiB,SAAjB,CAA2B;AACzB,4BAAc,IADW;AAEzB,2BAAa;AAFY,aAA3B;AAID;AAnBI;AAoBN;AACD,eAAS,cAAT,CAAwB,OAAxB,EAAiC,OAAjC,GAA2C,KAA3C;AACA,eAAS,cAAT,CAAwB,OAAxB,EAAiC,OAAjC,GAA2C,KAA3C;AACA,QAAE,SAAF,EAAa,GAAb;AACA,QAAE,SAAF,EAAa,EAAb,CAAgB,OAAhB,EAAyB,UAAC,KAAD,EAAW;AAClC,YAAI,EAAE,yCAAF,EAA6C,CAA7C,MAAoD,SAAxD,EAAmE;AACjE,cAAI,QAAO,MAAM,QAAN,CAAe,QAAf,CAAX;AACA,cAAI,WAAW,EAAE,yCAAF,EAA6C,CAA7C,EAAgD,EAA/D;AACA,qBAAW,aAAa,OAAxB;AACA,cAAI,QAAQ,EAAE,SAAF,EAAa,IAAb,CAAkB,WAAlB,EAA+B,CAA/B,EAAkC,EAA9C;AACA,cAAI,SAAS,EAAE,SAAF,EAAa,IAAb,CAAkB,WAAlB,EAA+B,CAA/B,EAAkC,WAA/C;AACA,mBAAU,WAAW,8BAAZ,GAA8C,QAA9C,GAAyD,MAAlE;AACA,gBAAM,eAAN,CAAsB,OAAtB,CAA8B,QAA9B,EAAwC,WAAxC,EAAqD,KAArD,EAA2D,QAA3D,EAAqE,KAArE,EAA4E,MAA5E,EAAoF,IAApF,CAAyF,YAAM;AAC7F,cAAE,WAAF,EAAe,UAAf;AACA,kBAAM,OAAN;AACD,WAHD;AAID,SAXD,MAWO;AACL,gBAAM,MAAM,gEAAN,CAAN;AACD;AACF,OAfD;AAgBD;;;gCAEW,Y,EAAc;AACxB,UAAI,KAAK,MAAM,MAAN,CAAa,OAAb,CAAqB,IAArB,EAA2B,EAApC;AACA,UAAI,UAAU,GAAG,KAAH,CAAS,GAAT,CAAd;AACA,UAAI,QAAQ,QAAQ,CAAR,CAAZ;AACA,cAAQ,KAAR;AACA,UAAI,SAAS,QAAQ,IAAR,CAAa,EAAb,CAAb;AACA,UAAI,YAAY,MAAM,MAAN,CAAa,OAAb,CAAqB,IAArB,EAA2B,QAA3B,CAAoC,CAApC,EAAuC,EAAvD;AACA,WAAK,eAAL,CAAqB,UAArB,CAAgC,YAAhC,EAA8C,KAA9C,EAAqD,MAArD,EAA6D,SAA7D;AACA,WAAK,OAAL;AACD;;;oCAEe;AAAA;;AACd,QAAE,eAAF,EAAmB,EAAnB,CAAsB,OAAtB,EAA+B,UAAC,KAAD,EAAW;AACxC,eAAO,WAAP,CAAmB,EAAE,MAAM,EAAE,QAAQ,eAAV,EAAR,EAAqC,IAAI,qBAAzC,EAAnB,EAAqF,GAArF;AACA,UAAE,aAAF,EAAiB,WAAjB,CAA6B,MAA7B;AACA;AACD,OAJD;;AAMA,QAAE,qBAAF,EAAyB,EAAzB,CAA4B,OAA5B,EAAqC,UAAC,KAAD,EAAW;AAC9C,UAAE,mBAAF,EAAuB,WAAvB,CAAmC,MAAnC;AACA,UAAE,qBAAF,EAAyB,QAAzB,CAAkC,MAAlC;AACA,eAAK,OAAL;AACA,eAAK,aAAL;AACD,OALD;;AAOA,QAAE,kBAAF,EAAsB,EAAtB,CAAyB,OAAzB,EAAkC,UAAC,KAAD,EAAW;AAC3C,eAAO,WAAP,CAAmB,EAAE,MAAM,EAAE,QAAQ,eAAV,EAAR,EAAqC,IAAI,qBAAzC,EAAnB,EAAqF,GAArF;AACA,UAAE,aAAF,EAAiB,QAAjB,CAA0B,MAA1B;AACA;AACD,OAJD;;AAMA,QAAE,WAAF,EAAe,EAAf,CAAkB,OAAlB,EAA2B,UAAC,KAAD,EAAW;AACpC,UAAE,oBAAF,EAAwB,QAAxB,CAAiC,MAAjC;AACA,UAAE,YAAF,EAAgB,QAAhB,CAAyB,MAAzB;AACD,OAHD;;AAKA,QAAE,cAAF,EAAkB,EAAlB,CAAqB,QAArB,EAA+B,UAAC,KAAD,EAAW;AACxC,YAAI,OAAO,MAAM,MAAN,CAAa,KAAb,CAAmB,CAAnB,CAAX;AACA,YAAI,SAAS,IAAI,UAAJ,EAAb;AACA,eAAO,UAAP,CAAkB,IAAlB,EAAwB,OAAxB;AACA,eAAO,MAAP,GAAgB,UAAC,KAAD,EAAW;AACzB,iBAAK,iBAAL,CAAuB,MAAM,MAAN,CAAa,MAApC;AACA,iBAAK,OAAL;AACD,SAHD;AAIA,eAAO,OAAP,GAAiB,UAAC,KAAD,EAAW;AAC1B,gBAAM,MAAM,wBAAN,CAAN;AACD,SAFD;AAGD,OAXD;AAYD;;;8BAES,K,EAAO;AAAA;;AACf,UAAI,YAAY,MAAM,MAAN,CAAa,WAA7B;AACA,UAAI,KAAK,MAAM,MAAN,CAAa,OAAb,CAAqB,IAArB,EAA2B,EAApC;AACA,UAAI,UAAU,GAAG,KAAH,CAAS,GAAT,CAAd;AACA,UAAI,WAAW,QAAQ,QAAQ,MAAR,GAAiB,CAAzB,CAAf;AACA,cAAQ,GAAR;AACA,UAAI,cAAc,QAAQ,IAAR,CAAa,GAAb,CAAlB;AACA,WAAK,eAAL,CAAqB,eAArB,CAAqC,WAArC,EAAkD,QAAlD,EAA4D,IAA5D,CAAiE,UAAC,IAAD,EAAU;AACzE,YAAI,KAAK,SAAL,CAAe,SAAf,KAA6B,cAA7B,IAA+C,KAAK,SAAL,CAAe,MAAf,KAA0B,eAA7E,EAA8F;AAC5F,YAAE,iBAAF,EAAqB,QAArB,CAA8B,MAA9B;AACD,SAFD,MAEO;AACL,cAAI,gBAAJ;AACA,cAAI,KAAK,QAAT,EAAmB;AACjB,sBAAU,SAAS,cAAT,CAAwB,WAAxB,CAAV;AACD,WAFD,MAEO;AACL,sBAAU,SAAS,cAAT,CAAwB,WAAxB,CAAV;AACD;AACD,kBAAQ,OAAR,GAAkB,IAAlB;AACA,YAAE,iBAAF,EAAqB,WAArB,CAAiC,MAAjC;AACD;AACD,UAAE,aAAF,EAAiB,QAAjB,CAA0B,MAA1B;AACA,UAAE,iBAAF,EAAqB,QAArB,CAA8B,MAA9B;;AAEA,UAAE,eAAF,EAAmB,SAAnB;AACA,UAAE,aAAF,EAAiB,IAAjB,CAAsB,YAAY,SAAZ,GAAwB,WAA9C;AACA,YAAI,KAAK,SAAL,CAAe,SAAf,KAA6B,cAAjC,EAAiD;AAC/C,YAAE,oBAAF,EAAwB,WAAxB,CAAoC,MAApC;AACD;AACD,UAAE,wBAAF,EAA4B,EAA5B,CAA+B,OAA/B,EAAwC,UAAC,KAAD,EAAW;AAAE,iBAAK,WAAL,CAAiB,cAAjB,EAAiC,WAAjC,EAA8C,IAA9C;AAAsD,SAA3G;AACA,UAAE,WAAF,EAAe,GAAf;AACA,UAAE,WAAF,EAAe,EAAf,CAAkB,OAAlB,EAA2B,UAAC,KAAD,EAAW;AAAE,iBAAK,WAAL,CAAiB,eAAjB,EAAkC,WAAlC,EAA+C,IAA/C;AAAsD,SAA9F;AACD,OAxBD;AAyBD;;;gCAEW,I,EAAM,W,EAAa,I,EAAM;AACnC,UAAI,QAAQ,IAAZ;AACA,UAAI,QAAQ,EAAE,aAAF,EAAiB,IAAjB,EAAZ;AACA,UAAI,aAAa,MAAM,KAAN,CAAY,GAAZ,CAAjB;AACA,UAAI,QAAQ,WAAW,OAAX,CAAmB,IAAnB,CAAZ;AACA,UAAI,UAAU,CAAC,CAAf,EAAkB;AAChB,gBAAQ,WAAW,OAAX,CAAmB,KAAnB,CAAR;AACD;AACD,cAAQ,IAAR;AACE,aAAK,eAAL;AACE,cAAI,cAAc,EAAE,4CAAF,EAAgD,CAAhD,EAAmD,EAArE;;AAEA,cAAI,gBAAgB,WAApB,EAAiC;AAC/B,uBAAW,QAAQ,CAAnB,IAAwB,SAAxB;AACA,0BAAc,IAAd;AACD,WAHD,MAGO;AACL,uBAAW,QAAQ,CAAnB,IAAwB,SAAxB;AACA,0BAAc,KAAd;AACD;AACD,kBAAQ,WAAW,IAAX,CAAgB,GAAhB,CAAR;AACA,YAAE,aAAF,EAAiB,IAAjB,CAAsB,YAAY,KAAZ,GAAoB,WAA1C;AACA,gBAAM,eAAN,CAAsB,YAAtB,CAAmC,WAAnC,EAAgD,IAAhD,EAAsD,WAAtD,EAAmE,IAAnE,CAAwE,YAAM;AAC5E,kBAAM,OAAN;AACD,WAFD;AAGA;AACF,aAAK,cAAL;AACE,cAAI,sBAAsB,MAAM,MAAN,CAAa,MAAb,CAAoB,CAApB,EAAuB,WAAjD;;AAEA,cAAI,WAAW,WAAW,QAAQ,CAAnB,CAAf;AACA,uBAAa,MAAM,KAAN,CAAY,eAAZ,CAAb;AACA,cAAI,wBAAwB,iBAA5B,EAA+C;AAC7C,cAAE,iBAAF,EAAqB,WAArB,CAAiC,MAAjC;AACA,0BAAc,KAAK,QAAnB;AACA,kCAAsB,GAAtB;AACA,oBAAQ,yCAAyC,WAAW,CAAX,CAAjD;AACD,WALD,MAKO;AACL,cAAE,iBAAF,EAAqB,QAArB,CAA8B,MAA9B;AACA,0BAAc,IAAd;AACA,kCAAsB,eAAtB;AACA,oBAAQ,2DAA2D,WAAW,CAAX,CAAnE;AACD;;AAED,YAAE,aAAF,EAAiB,IAAjB,CAAsB,YAAY,KAAZ,GAAoB,WAA1C;AACA,gBAAM,eAAN,CAAsB,YAAtB,CAAmC,WAAnC,EAAgD,IAAhD,EAAsD,WAAtD,EAAmE,mBAAnE,EAAwF,IAAxF,CAA6F,YAAM;AACjG,kBAAM,OAAN;AACD,WAFD;AAGA;AAtCJ;AAwCD;;;;;;kBAGY,W;;;;;;;;;;;;;ICvjBT,e;AAEJ,2BAAY,SAAZ,EAAuB,MAAvB,EAA+B,UAA/B,EAA2C;AAAA;;AACzC,QAAI,QAAQ,IAAZ;AACA,UAAM,OAAN,GAAgB,SAAhB;AACA,UAAM,OAAN,GAAgB,MAAhB;AACA,UAAM,WAAN,GAAoB,UAApB;;AAEA;AACD;;;;yCAEoB,U,EAAY,U,EAAY;AAC3C,UAAI,QAAQ,IAAZ;AACA,UAAI,gBAAJ;;AAEA,aAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,kBAAU,EAAE,MAAM,SAAR,EAAmB,IAAI,MAAM,OAA7B,EAAsC,MAAM,MAAM,OAAlD;AACR,gBAAM,EAAE,UAAU,QAAZ,EAAsB,QAAQ,UAA9B,EAA0C,QAAQ,UAAlD,EADE,EAAV;AAEA,cAAM,WAAN,CAAkB,WAAlB,CAA8B,OAA9B,EAAuC,UAAC,GAAD,EAAS;AAC9C,cAAI,SAAS,IAAI,IAAJ,CAAS,KAAtB;AACA,kBAAQ,MAAR;AACD,SAHD;AAID,OAPM,CAAP;AAQD;;;wCAEmB;AAAA;;AAClB,aAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,YAAI,cAAJ;AACA,cAAM,oBAAN,CAA2B,cAA3B,EAA2C,EAA3C,EAA+C,IAA/C,CAAoD,UAAC,YAAD,EAAkB;AACpE,gBAAM,QAAN,GAAiB,YAAjB;AACA,gBAAM,SAAN,GAAkB,MAAM,YAAN,EAAlB;AACA,gBAAM,QAAN,GAAiB,MAAM,kBAAN,EAAjB;AACA,gBAAM,UAAN,GAAmB,MAAM,oBAAN,EAAnB;AACA;AACD,SAND;AAOD,OATM,CAAP;AAUD;;;+BAEU,S,EAAW,I,EAAM;AAC1B,aAAO,KAAK,oBAAL,CAA0B,YAA1B,EAAwC,EAAC,WAAW,SAAZ,EAAuB,WAAW,IAAlC,EAAxC,CAAP;AACD;;;gCAEW,S,EAAW;AACrB,aAAO,KAAK,oBAAL,CAA0B,aAA1B,EAAyC,EAAC,WAAW,SAAZ,EAAzC,CAAP;AACD;;;8BAES,K,EAAO,kB,EAAoB,M,EAAQ;AAC3C,UAAI,WAAW,SAAf,EAA0B;AACxB,gBAAQ,kBAAR;AACE,eAAK,iBAAL;AACE,iCAAqB,gBAArB;AACA;AACF,eAAK,iBAAL;AACE,iCAAqB,gBAArB;AACA;AACF,eAAK,kBAAL;AACE,iCAAqB,iBAArB;AACA;AACF;AACE,iCAAqB,SAArB;AAXJ;AAaD;;AAED,aAAO,KAAK,oBAAL,CAA0B,WAA1B,EACL,EAAC,QAAQ,MAAT,EAAiB,KAAK,KAAtB,EAA6B,QAAQ,MAArC,EAA6C,oBAAoB,kBAAjE,EADK,CAAP;AAED;;;yCAEoB,W,EAAa,Y,EAAc,W,EAAa;AAC3D,WAAK,eAAL,CAAqB,WAArB,EAAkC,WAAlC,EAA+C,QAA/C,GAA0D,YAA1D;AACA,WAAK,eAAL,CAAqB,WAArB,EAAkC,YAAlC,EAAgD,QAAhD,GAA2D,WAA3D;AACA,aAAO,KAAK,oBAAL,CAA0B,cAA1B,EAA0C,EAAC,QAAQ,MAAT,EAA1C,CAAP;AACD;;;gCAEW,S,EAAW;AACrB,aAAO,KAAK,oBAAL,CAA0B,aAA1B,EAAyC,EAAC,WAAW,SAAZ,EAAzC,CAAP;AACD;;;iCAEY,K,EAAO;AAClB,aAAO,KAAK,oBAAL,CAA0B,cAA1B,EAA0C,EAAC,QAAQ,MAAT,EAAiB,KAAK,KAAtB,EAA1C,CAAP;AACD;;;+BAEU,W,EAAa,I,EAAM;AAC5B,UAAI,QAAQ,IAAZ;;AAEA,aAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,cAAM,oBAAN,CAA2B,cAA3B,EAA2C,EAA3C,EAA+C,IAA/C,CAAoD,UAAC,YAAD,EAAkB;AACpE,uBAAa,WAAb,EAA0B,UAA1B,CAAqC,IAArC;AACA,gBAAM,oBAAN,CAA2B,cAA3B,EAA2C,EAAC,QAAQ,MAAT,EAA3C,EAA6D,IAA7D,CAAkE,YAAM;AACtE;AACD,WAFD;AAGD,SALD;AAMD,OAPM,CAAP;AAQD;;;sCAEiB;AAChB,aAAO,KAAK,oBAAL,CAA0B,kBAA1B,EAA8C,EAA9C,CAAP;AACD;;;8BAES,G,EAAK;AACb,aAAO,KAAK,oBAAL,CAA0B,YAA1B,EAAwC,EAAC,KAAK,GAAN,EAAxC,CAAP;AACD;;;wCAEmB;AAClB,UAAI,QAAQ,IAAZ;AACA,aAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,cAAM,oBAAN,CAA2B,cAA3B,EAA2C,EAA3C,EAA+C,IAA/C,CAAoD,UAAC,QAAD,EAAc;AAChE,cAAI,SAAS,EAAb;;AAEA,eAAK,IAAI,CAAT,IAAc,QAAd,EAAwB;AACtB,mBAAO,IAAP,CAAY,CAAZ;AACD;;AAED,kBAAQ,MAAR;AACD,SARD;AASD,OAVM,CAAP;AAWD;;;+BAEU,K,EAAO;AAChB,UAAI,UAAU,EAAd;;AAEA,WAAK,IAAI,CAAT,IAAc,KAAK,QAAL,CAAc,KAAd,CAAd,EAAoC;AAClC,YAAI,QAAQ,OAAR,CAAgB,CAAhB,MAAuB,CAAC,CAA5B,EAA+B;AAC7B,kBAAQ,IAAR,CAAa,CAAb;AACD;AACF;;AAED,aAAO,OAAP;AACD;;;yCAEoB,W,EAAa,Y,EAAc,W,EAAa;AAC3D,UAAI,QAAQ,IAAZ;AACA,YAAM,eAAN,CAAsB,WAAtB,EAAmC,YAAnC,EAAiD,QAAjD,GAA4D,WAA5D;AACA,YAAM,eAAN,CAAsB,WAAtB,EAAmC,WAAnC,EAAgD,QAAhD,GAA2D,YAA3D;AACA,aAAO,MAAM,oBAAN,CAA2B,cAA3B,EAA2C,EAAC,QAAQ,MAAT,EAA3C,CAAP;AACD;;;mCAEc;AACb,aAAO;AACL,gBAAQ;AACN,iBAAO,uNADD;AAEN,uBAAa,cAFP;AAGN,iBAAO,CACL,CAAC,MAAD,EAAS,EAAT,CADK;AAHD,SADH;AAQL,kBAAU;AACR,iBAAO,2OADC;AAER,uBAAa,gBAFL;AAGR,iBAAO,CACL,CAAC,MAAD,EAAS,EAAT,CADK;AAHC,SARL;AAeL,0BAAkB;AAChB,iBAAO,gPADS;AAEhB,uBAAa,oBAFG;AAGhB,iBAAO,CACL,CAAC,QAAD,EAAW,CAAC,OAAD,EAAU,iBAAV,CAAX,CADK;AAHS,SAfb;AAsBL,oCAA4B;AAC1B,iBAAO,2NADmB;AAE1B,iBAAO;AAFmB,SAtBvB;AA0BL,2BAAmB;AACjB,iBAAO,qVADU;AAEjB,uBAAa,kBAFI;AAGjB,iBAAO,CACL,CAAC,MAAD,EAAS,EAAT,CADK;AAHU,SA1Bd;AAiCL,iBAAS;AACP,iBAAO,qNADA;AAEP,uBAAa,iBAFN;AAGP,iBAAO,CACL,CAAC,QAAD,EAAW,CAAC,SAAD,EAAY,mBAAZ,EAAiC,CAAC,UAAD,EAAa,QAAb,EAAuB,QAAvB,EAAiC,SAAjC,EAA4C,WAA5C,EAAyD,UAAzD,EAAqE,QAArE,CAAjC,CAAX,CADK;AAHA;AAjCJ,OAAP;AAyCD;;;yCAEoB;AACnB,UAAI,QAAQ,IAAZ;AACA,aAAO;AACL,cAAM,cAAC,MAAD,EAAY;AAChB,iBAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,gBAAI,cAAc,OAAO,CAAP,CAAlB;AACA,kBAAM,oBAAN,CAA2B,cAA3B,EAA2C,EAA3C,EAA+C,IAA/C,CAAoD,UAAC,YAAD,EAAkB;AACpE,2BAAa,WAAb,EAA0B,UAA1B,CAAqC,OAAO,CAAP,CAArC,EAAgD,EAAE,WAAW,MAAb,EAAqB,UAAU,QAA/B,EAAyC,QAAQ,OAAO,CAAP,CAAjD,EAAhD,EAA8G,OAAO,CAAP,CAA9G,EAAyH,OAAO,CAAP,CAAzH;AACA,oBAAM,oBAAN,CAA2B,cAA3B,EAA2C,EAAC,QAAQ,MAAT,EAA3C,EAA6D,IAA7D,CAAkE,YAAM;AACtE;AACD,eAFD;AAGD,aALD;AAMD,WARM,CAAP;AASD,SAXI;AAYL,gBAAQ,gBAAC,MAAD,EAAY;AAClB,iBAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,gBAAI,cAAc,OAAO,CAAP,CAAlB;AACA,kBAAM,oBAAN,CAA2B,cAA3B,EAA2C,EAA3C,EAA+C,IAA/C,CAAoD,UAAC,YAAD,EAAkB;AACpE,2BAAa,WAAb,EAA0B,UAA1B,CAAqC,OAAO,CAAP,CAArC,EAAgD,EAAE,WAAW,QAAb,EAAuB,UAAU,QAAjC,EAA2C,QAAQ,OAAO,CAAP,CAAnD,EAAhD,EAAgH,OAAO,CAAP,CAAhH,EAA2H,OAAO,CAAP,CAA3H;AACA,oBAAM,oBAAN,CAA2B,cAA3B,EAA2C,EAAC,QAAQ,MAAT,EAA3C,EAA6D,IAA7D,CAAkE,YAAM;AACtE;AACD,eAFD;AAGD,aALD;AAMD,WARM,CAAP;AASD,SAtBI;AAuBL,0BAAkB,sBAAC,MAAD,EAAY;AAC5B,iBAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,gBAAI,cAAc,OAAO,CAAP,CAAlB;AACA,kBAAM,oBAAN,CAA2B,cAA3B,EAA2C,EAA3C,EAA+C,IAA/C,CAAoD,UAAC,YAAD,EAAkB;AACpE,2BAAa,WAAb,EAA0B,UAA1B,CAAqC,OAAO,CAAP,CAArC,EAAgD,EAAE,WAAW,QAAb,EAAuB,UAAU,IAAjC,EAAuC,QAAQ,OAAO,CAAP,CAA/C,EAAhD,EAA4G,OAAO,CAAP,CAA5G,EAAuH,OAAO,CAAP,CAAvH;AACA,oBAAM,oBAAN,CAA2B,cAA3B,EAA2C,EAAC,QAAQ,MAAT,EAA3C,EAA6D,IAA7D,CAAkE,YAAM;AACtE;AACD,eAFD;AAGD,aALD;AAMD,WARM,CAAP;AASD,SAjCI;AAkCL,oCAA4B,iCAAC,MAAD,EAAY;AACtC,iBAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,gBAAI,cAAc,OAAO,CAAP,CAAlB;AACA,kBAAM,oBAAN,CAA2B,cAA3B,EAA2C,EAA3C,EAA+C,IAA/C,CAAoD,UAAC,YAAD,EAAkB;AACpE,kBAAI,WAAW,QAAf;AACA,kBAAI,OAAO,CAAP,MAAc,eAAlB,EAAmC;AACjC,2BAAW,IAAX;AACD;;AAED;AACA,2BAAa,WAAb,EAA0B,UAA1B,CAAqC,OAAO,CAAP,CAArC,EAAgD,EAAE,WAAW,cAAb,EAA6B,UAAU,QAAvC,EAAiD,QAAQ,OAAO,CAAP,CAAzD,EAAhD,EAAsH,OAAO,CAAP,CAAtH,EAAiI,OAAO,CAAP,CAAjI;AACA,oBAAM,oBAAN,CAA2B,cAA3B,EAA2C,EAAC,QAAQ,MAAT,EAA3C,EAA6D,IAA7D,CAAkE,YAAM;AACtE;AACD,eAFD;AAGD,aAXD;AAYD,WAdM,CAAP;AAeD,SAlDI;AAmDL,2BAAmB,sBAAC,MAAD,EAAY;AAC7B,iBAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,gBAAI,cAAc,OAAO,CAAP,CAAlB;AACA,kBAAM,oBAAN,CAA2B,cAA3B,EAA2C,EAA3C,EAA+C,IAA/C,CAAoD,UAAC,YAAD,EAAkB;AACpE,qBAAO,CAAP,IAAY,OAAO,CAAP,EAAU,KAAV,CAAgB,MAAhB,CAAZ;AACA,kBAAI,QAAQ,OAAO,CAAP,EAAU,CAAV,EAAa,KAAb,CAAmB,GAAnB,CAAZ;AACA,sBAAQ,MAAM,IAAN,CAAW,EAAX,CAAR;AACA,kBAAI,MAAM,OAAO,CAAP,EAAU,CAAV,EAAa,KAAb,CAAmB,GAAnB,CAAV;AACA,oBAAM,IAAI,IAAJ,CAAS,EAAT,CAAN;AACA,2BAAa,WAAb,EAA0B,UAA1B,CAAqC,OAAO,CAAP,CAArC,EAAgD,EAAE,WAAW,MAAb,EAAqB,UAAU,SAA/B,EAA0C,QAAQ,CAAC,KAAD,EAAQ,GAAR,CAAlD,EAAhD,EAAkH,OAAO,CAAP,CAAlH,EAA6H,OAAO,CAAP,CAA7H;AACA,oBAAM,oBAAN,CAA2B,cAA3B,EAA2C,EAAC,QAAQ,MAAT,EAA3C,EAA6D,IAA7D,CAAkE,YAAM;AACtE;AACD,eAFD;AAGD,aAVD;AAWD,WAbM,CAAP;AAcD,SAlEI;;AAoEL,iBAAS,iBAAC,MAAD,EAAY;AACnB,iBAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,gBAAI,WAAW,CAAC,QAAD,EAAW,QAAX,EAAqB,SAArB,EAAgC,WAAhC,EAA6C,UAA7C,EAAyD,QAAzD,EAAmE,UAAnE,CAAf;AACA,mBAAO,CAAP,IAAY,SAAS,OAAT,CAAiB,OAAO,CAAP,CAAjB,CAAZ;AACA,gBAAI,cAAc,OAAO,CAAP,CAAlB;AACA,kBAAM,oBAAN,CAA2B,cAA3B,EAA2C,EAA3C,EAA+C,IAA/C,CAAoD,UAAC,YAAD,EAAkB;AACpE,2BAAa,WAAb,EAA0B,UAA1B,CAAqC,OAAO,CAAP,CAArC,EAAgD,EAAE,WAAW,SAAb,EAAwB,UAAU,QAAlC,EAA4C,QAAQ,OAAO,CAAP,CAApD,EAAhD,EAAiH,OAAO,CAAP,CAAjH,EAA4H,OAAO,CAAP,CAA5H;AACA,oBAAM,oBAAN,CAA2B,cAA3B,EAA2C,EAAC,QAAQ,MAAT,EAA3C,EAA6D,IAA7D,CAAkE,YAAM;AACtE;AACD,eAFD;AAGD,aALD;AAMD,WAVM,CAAP;AAWD;AAhFI,OAAP;AAkFD;;;2CAEsB;AAAA;;AACrB,aAAO;AACL,cAAM,cAAC,KAAD,EAAQ,IAAR,EAAiB;AAAE,iBAAO,OAAK,WAAL,CAAiB,IAAjB,IAAyB,OAAK,YAAL,CAAkB,KAAlB,CAAhC;AAA2D,SAD/E;AAEL,0BAAkB,sBAAC,KAAD,EAAQ,IAAR,EAAiB;AAAE,iBAAO,OAAK,aAAL,CAAmB,IAAnB,IAA2B,OAAK,YAAL,CAAkB,KAAlB,CAAlC;AAA6D,SAF7F;AAGL,gBAAQ,gBAAC,KAAD,EAAQ,IAAR,EAAiB;AAAE,iBAAO,OAAK,aAAL,CAAmB,IAAnB,IAA2B,OAAK,YAAL,CAAkB,KAAlB,CAAlC;AAA6D,SAHnF;AAIL,iBAAS,iBAAC,KAAD,EAAQ,IAAR,EAAiB;AAAE,iBAAO,OAAO,OAAK,YAAL,CAAkB,KAAlB,CAAd;AAAyC,SAJhE;AAKL,oCAA4B,iCAAC,KAAD,EAAQ,IAAR,EAAiB;AAAE,iBAAO,OAAK,uBAAL,CAA6B,IAA7B,IAAqC,OAAK,YAAL,CAAkB,KAAlB,CAA5C;AAAuE,SALjH;AAML,2BAAmB,sBAAC,KAAD,EAAQ,IAAR,EAAiB;AAAE,iBAAO,OAAK,eAAL,CAAqB,IAArB,IAA6B,OAAK,YAAL,CAAkB,KAAlB,CAApC;AAA+D;AANhG,OAAP;AAQD;;;uCAEkB,K,EAAO;AACxB,UAAI,QAAQ,IAAZ;AACA,aAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,cAAM,oBAAN,CAA2B,kBAA3B,EAA+C,EAAC,YAAY,KAAb,EAA/C,EAAoE,IAApE,CAAyE,YAAM;AAC7E,gBAAM,oBAAN,CAA2B,kBAA3B,EAA+C,EAA/C,EAAmD,IAAnD,CAAwD,YAAM;AAC5D;AACD,WAFD;AAGD,SAJD;AAKD,OANM,CAAP;AAOD;;;iCAEY,I,EAAM;AACjB,UAAI,UAAU,yCAAd;AACA,aAAO,QAAQ,IAAR,CAAa,IAAb,CAAP;AACD;;;kCAEa,I,EAAM;AAClB,UAAI,UAAU,0BAAd;AACA,aAAO,QAAQ,IAAR,CAAa,IAAb,CAAP;AACD;;;kCAEa,I,EAAM;AAClB,UAAI,UAAU,aAAd;AACA,aAAO,QAAQ,IAAR,CAAa,IAAb,CAAP;AACD;;;4CAEuB,I,EAAM;AAC5B,aAAO,IAAP;AACD;;;gCAEW,I,EAAM;AAChB,UAAI,YAAY,KAAK,KAAL,CAAW,GAAX,CAAhB;AACA,UAAI,MAAM,SAAS,UAAU,CAAV,CAAT,CAAV;AACA,UAAI,QAAQ,SAAS,UAAU,CAAV,CAAT,CAAZ;AACA,UAAI,OAAO,SAAS,UAAU,CAAV,CAAT,CAAX;;AAEA,UAAI,OAAO,IAAI,IAAJ,CAAS,IAAT,EAAe,QAAM,CAArB,EAAwB,GAAxB,CAAX;AACA,UAAI,gBAAgB,KAAK,WAAL,OAAuB,IAAvB,IAA+B,KAAK,QAAL,KAAkB,CAAlB,KAAwB,KAAvD,IAAgE,KAAK,OAAL,OAAmB,GAAvG;AACA,UAAI,gBAAgB,KAAK,OAAL,KAAiB,GAAjB,IAAwB,KAAK,QAAL,KAAkB,CAA1C,IAA+C,GAA/C,GAAqD,KAAK,WAAL,EAAzE;AACA,UAAI,MAAM,IAAI,IAAJ,EAAV;AACA,UAAI,QAAQ,IAAI,OAAJ,KAAgB,GAAhB,IAAuB,IAAI,QAAJ,KAAiB,CAAxC,IAA6C,GAA7C,GAAmD,IAAI,WAAJ,EAA/D;;AAEA,UAAI,WAAW,KAAf;AACA,UAAI,KAAK,WAAL,KAAqB,IAAI,WAAJ,EAAzB,EAA4C;AAC1C,mBAAW,IAAX;AACD,OAFD,MAEO;AACL,YAAI,KAAK,WAAL,MAAsB,IAAI,WAAJ,EAA1B,EAA6C;AAC3C,cAAK,KAAK,QAAL,KAAkB,CAAnB,GAAyB,IAAI,QAAJ,KAAiB,CAA9C,EAAkD;AAChD,uBAAW,IAAX;AACD,WAFD,MAEO;AACL,gBAAK,KAAK,QAAL,KAAkB,CAAnB,IAA0B,IAAI,QAAJ,KAAiB,CAA/C,EAAmD;AACjD,kBAAI,KAAK,OAAL,MAAmB,IAAI,OAAJ,EAAvB,EAAuC;AACrC,2BAAW,IAAX;AACD;AACF;AACF;AACF;AACF;;AAED,aAAQ,iBAAiB,QAAzB;AACD;;;iCAEY,K,EAAO;AAClB,aAAO,UAAU,EAAjB;AACD;;;oCAEe,I,EAAM;AACpB,UAAI,CAAC,IAAL,EAAW;AACT,eAAO,KAAP;AACD;AACD,UAAI,YAAY,KAAK,KAAL,CAAW,MAAX,CAAhB,CAJoB,CAIgB;AACpC,UAAI,WAAW,UAAU,MAAV,KAAqB,CAApC;AACA,UAAI,CAAC,QAAL,EAAe;AACb,eAAO,KAAP;AACD;AACD,UAAI,aAAa,UAAU,CAAV,EAAa,KAAb,CAAmB,GAAnB,CAAjB,CAToB,CASsB;AAC1C,UAAI,WAAW,UAAU,CAAV,EAAa,KAAb,CAAmB,GAAnB,CAAf,CAVoB,CAUoB;AACxC,UAAI,WAAW,MAAX,KAAsB,CAAtB,IAA2B,SAAS,MAAT,KAAoB,CAAnD,EAAsD;AACpD,eAAO,KAAP;AACD;AACD,UAAI,SAAU,WAAW,CAAX,EAAc,MAAd,KAAyB,CAA1B,IAAiC,WAAW,CAAX,EAAc,MAAd,KAAyB,CAA1D,IAAiE,SAAS,CAAT,EAAY,MAAZ,KAAuB,CAAxF,IAA+F,SAAS,CAAT,EAAY,MAAZ,KAAuB,CAAnI;AACA,UAAI,cAAe,WAAW,CAAX,KAAiB,SAAS,WAAW,CAAX,CAAT,EAAwB,EAAxB,CAAlB,IAAmD,WAAW,CAAX,KAAiB,SAAS,WAAW,CAAX,CAAT,EAAwB,EAAxB,CAApE,IAAqG,SAAS,CAAT,KAAe,SAAS,SAAS,CAAT,CAAT,EAAsB,EAAtB,CAApH,IAAmJ,SAAS,CAAT,KAAe,SAAS,SAAS,CAAT,CAAT,EAAsB,EAAtB,CAApL;AACA,aAAO,YAAY,MAAZ,IAAsB,WAA7B;AACD;;;2CAEsB;AACrB,UAAI,QAAQ,IAAZ;AACA,aAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,cAAM,oBAAN,CAA2B,cAA3B,EAA2C,EAA3C,EAA+C,IAA/C,CAAoD,UAAC,UAAD,EAAgB;AAClE,cAAI,cAAc,EAAlB;;AAEA,eAAK,IAAI,CAAT,IAAc,UAAd,EAA0B;AACxB,gBAAI,SAAS;AACX,qBAAO,WAAW,CAAX,EAAc,GADV;AAEX,2BAAa,EAFF;AAGX,mBAAK;AAHM,aAAb;;AAMA,gBAAI,WAAW,CAAX,EAAc,KAAd,CAAoB,MAApB,KAA+B,CAAnC,EAAsC;AACpC,yBAAW,CAAX,EAAc,KAAd,GAAsB,WAAW,CAAX,EAAc,SAAd,EAAtB;AACA,mBAAK,IAAI,CAAT,IAAc,WAAW,CAAX,EAAc,KAA5B,EAAmC;AACjC,oBAAI,QAAQ,MAAM,SAAN,CAAgB,WAAW,CAAX,EAAc,KAAd,CAAoB,CAApB,CAAhB,CAAZ;AACA,uBAAO,WAAP,CAAmB,IAAnB,CAAwB,KAAxB;AACA,uBAAO,GAAP,CAAW,IAAX,CAAgB,OAAO,KAAP,GAAe,GAAf,GAAqB,WAAW,CAAX,EAAc,KAAd,CAAoB,CAApB,EAAuB,QAA5D;AACD;AACF;;AAED,wBAAY,IAAZ,CAAiB,MAAjB;AACD;;AAED,kBAAQ,WAAR;AACD,SAvBD;AAwBD,OAzBM,CAAP;AA0BD;;;oCAEe,K,EAAO,Q,EAAU;AAC/B,UAAI,QAAQ,IAAZ;AACA,aAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,cAAM,oBAAN,CAA2B,cAA3B,EAA2C,EAA3C,EAA+C,IAA/C,CAAoD,UAAC,QAAD,EAAc;AAChE,cAAI,SAAS,SAAS,KAAT,CAAb;AACA,kBAAQ,OAAO,iBAAP,CAAyB,QAAzB,CAAR;AACD,SAHD;AAID,OALM,CAAP;AAMD;;;8BAES,I,EAAM;AACd,UAAI,YAAY,KAAK,SAArB;AACA,UAAI,YAAa,KAAK,QAAN,GAAkB,SAAlB,GAA8B,SAA9C;AACA,UAAI,SAAS,KAAK,MAAL,KAAgB,QAAhB,GAA2B,8BAA3B,GAA4D,KAAK,MAA9E;AACA,UAAI,YAAY,UAAU,SAA1B;AACA,cAAO,SAAP;AACE,aAAK,MAAL;AACE,iBAAO,UAAU,UAAU,MAApB,GAA6B,MAA7B,GAAsC,SAAtC,GAAkD,IAAlD,GAAyD,MAAzD,GAAkE,GAAzE;AACF,aAAK,QAAL;AACE,iBAAO,cAAc,UAAU,MAAxB,GAAiC,QAAjC,GAA4C,SAA5C,GAAwD,IAAxD,GAA+D,MAA/D,GAAwE,GAA/E;AACF,aAAK,QAAL;AACE,cAAI,UAAU,QAAV,KAAuB,IAA3B,EAAiC;AAC/B,mBAAO,aAAa,UAAU,MAAvB,GAAgC,QAAhC,GAA2C,SAA3C,GAAuD,IAAvD,GAA8D,MAA9D,GAAuE,GAA9E;AACD,WAFD,MAEO;AACL,gBAAI,UAAU,QAAV,KAAuB,QAA3B,EAAqC;AACnC,qBAAO,UAAU,UAAU,MAApB,GAA6B,MAA7B,GAAsC,SAAtC,GAAkD,IAAlD,GAAyD,MAAzD,GAAkE,GAAzE;AACD;AACF;AACH,aAAK,cAAL;AACE,cAAI,UAAU,MAAV,KAAqB,GAAzB,EAA8B;AAC5B,mBAAO,0CAA0C,SAA1C,GAAsD,IAAtD,GAA6D,MAA7D,GAAsE,GAA7E;AACD,WAFD,MAEO;AACL,gBAAI,UAAU,MAAV,KAAqB,eAAzB,EAA0C;AACxC,qBAAO,qEAAqE,MAArE,GAA8E,GAArF;AACD;AACF;AACH,aAAK,MAAL;AACE,cAAI,QAAQ,UAAU,MAAV,CAAiB,CAAjB,EAAoB,CAApB,IAAyB,UAAU,MAAV,CAAiB,CAAjB,EAAoB,CAApB,CAAzB,GAAkD,GAAlD,GAAwD,UAAU,MAAV,CAAiB,CAAjB,EAAoB,CAApB,CAAxD,GAAiF,UAAU,MAAV,CAAiB,CAAjB,EAAoB,CAApB,CAA7F;AACA,cAAI,MAAM,UAAU,MAAV,CAAiB,CAAjB,EAAoB,CAApB,IAAyB,UAAU,MAAV,CAAiB,CAAjB,EAAoB,CAApB,CAAzB,GAAkD,GAAlD,GAAwD,UAAU,MAAV,CAAiB,CAAjB,EAAoB,CAApB,CAAxD,GAAiF,UAAU,MAAV,CAAiB,CAAjB,EAAoB,CAApB,CAA3F;AACA,iBAAO,mBAAmB,KAAnB,GAA2B,MAA3B,GAAoC,GAApC,GAA0C,MAA1C,GAAmD,SAAnD,GAA+D,IAA/D,GAAsE,MAAtE,GAA+E,GAAtF;AACF,aAAK,SAAL;AACE,cAAI,WAAW,CAAC,QAAD,EAAW,QAAX,EAAqB,SAArB,EAAgC,WAAhC,EAA6C,UAA7C,EAAyD,QAAzD,EAAmE,UAAnE,CAAf;AACA,cAAI,YAAY,UAAU,MAA1B;AACA,iBAAO,eAAe,SAAS,SAAT,CAAf,GAAqC,QAArC,GAAgD,SAAhD,GAA4D,IAA5D,GAAmE,MAAnE,GAA4E,GAAnF;AACF;AACE,iBAAO,UAAU,KAAK,QAAf,GAA0B,MAA1B,GAAmC,SAAnC,GAA+C,IAA/C,GAAsD,MAAtD,GAA+D,GAAtE;AA9BJ;AAgCD;;;mCAEc;AACb,UAAI,kBAAkB,EAAtB;AACA,WAAK,IAAI,CAAT,IAAc,KAAK,SAAnB,EAA8B;AAC5B,wBAAgB,IAAhB,CAAqB,CAArB;AACD;AACD,aAAO,eAAP;AACD;;;oCAEe,Q,EAAU;AACxB,aAAO,KAAK,SAAL,CAAe,QAAf,CAAP;AACD;;;kCAEa;AACZ,aAAO,KAAK,oBAAL,CAA0B,aAA1B,EAAyC,EAAzC,CAAP;AACD;;;qCAEgB;AACf,aAAO,KAAK,oBAAL,CAA0B,gBAA1B,EAA4C,EAA5C,CAAP;AACD;;AAED;;;;4BACQ,Q,EAAU,W,EAAa,I,EAAM,S,EAAW,K,EAAO,M,EAAQ;AAC7D,UAAI,QAAQ,IAAZ;AACA,aAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,YAAI,MAAM,UAAN,CAAiB,QAAjB,EAA2B,KAA3B,EAAkC,IAAlC,CAAJ,EAA6C;AAC3C,gBAAM,QAAN,CAAe,QAAf,EAAyB,CAAC,WAAD,EAAc,KAAd,EAAqB,MAArB,EAA6B,IAA7B,EAAmC,SAAnC,CAAzB,EAAwE,IAAxE,CAA6E,YAAM;AACjF;AACD,WAFD;AAGD,SAJD,MAIO;AACL,iBAAO,uBAAP;AACD;AACF,OARM,CAAP;AASD;;;+BAEU,Q,EAAU,K,EAAO,M,EAAQ,I,EAAM;AACxC,UAAI,SAAS,CAAC,KAAD,EAAQ,MAAR,EAAgB,IAAhB,CAAb;AACA,UAAI,aAAa,QAAjB,EAA2B;AACzB,YAAI,iBAAiB,KAAK,KAAL,CAAW,GAAX,CAArB;AACA,YAAI,YAAY,eAAe,CAAf,CAAhB;AACA,iBAAS,CAAC,KAAD,EAAQ,SAAR,EAAmB,IAAnB,CAAT;AACD;AACD,WAAK,QAAL,CAAc,QAAd,EAAwB,MAAxB;AACD;;;gCAEW;AACV,UAAI,QAAQ,IAAZ;AACA,aAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,cAAM,oBAAN,CAA2B,QAA3B,EAAqC,EAArC,EAAyC,IAAzC,CAA8C,UAAC,MAAD,EAAY;AACxD,cAAI,YAAY;AACd,yBAAa,EADC;AAEd,qBAAS,EAFK;AAGd,iBAAK;AAHS,WAAhB;;AAMA,eAAK,IAAI,CAAT,IAAc,MAAd,EAAsB;AACpB,sBAAU,WAAV,CAAsB,IAAtB,CAA2B,CAA3B;AACA,sBAAU,OAAV,CAAkB,IAAlB,CAAuB,OAAO,CAAP,CAAvB;AACA,gBAAI,MAAM,EAAV;AACA,iBAAK,IAAI,CAAT,IAAc,OAAO,CAAP,CAAd,EAAyB;AACvB,kBAAI,IAAJ,CAAS,IAAI,IAAJ,GAAW,OAAO,CAAP,EAAU,CAAV,CAApB;AACD;AACD,sBAAU,GAAV,CAAc,IAAd,CAAmB,GAAnB;AACD;;AAED;AACA,kBAAQ,SAAR;AACD,SAnBD;AAoBD,OArBM,CAAP;AAsBD;;;qCAEgB;AACf,aAAO,KAAK,oBAAL,CAA0B,gBAA1B,EAA4C,EAA5C,CAAP;AACD;;;oCAEe,S,EAAW,I,EAAM;AAC/B,aAAO,KAAK,oBAAL,CAA0B,iBAA1B,EAA6C,EAAC,WAAW,SAAZ,EAAuB,WAAW,IAAlC,EAA7C,CAAP;AACD;;;iCAEY,W,EAAa,I,EAAM,W,EAAa,mB,EAAqB;AAChE,UAAI,QAAQ,IAAZ;AACA,aAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,cAAM,oBAAN,CAA2B,cAA3B,EAA2C,EAA3C,EAA+C,IAA/C,CAAoD,UAAC,YAAD,EAAkB;AACpE,uBAAa,WAAb,EAA0B,UAA1B,CAAqC,IAArC;AACA,cAAI,CAAC,mBAAL,EAA0B;AACxB,yBAAa,WAAb,EAA0B,UAA1B,CAAqC,WAArC,EAAkD,KAAK,SAAvD,EAAkE,KAAK,KAAvE,EAA8E,KAAK,MAAnF,EAA2F,KAAK,QAAhG;AACD,WAFD,MAEO;AACL,gBAAI,WAAY,wBAAwB,GAAzB,GAAgC,QAAhC,GAA2C,IAA1D;AACA,yBAAa,WAAb,EAA0B,UAA1B,CAAqC,WAArC,EAAkD,CAAC,EAAE,WAAW,cAAb,EAA6B,SAAS,QAAtC,EAAgD,QAAQ,mBAAxD,EAAD,CAAlD,EAAmI,KAAK,KAAxI,EAA+I,KAAK,MAApJ,EAA4J,KAAK,QAAjK;AACD;;AAED,gBAAM,oBAAN,CAA2B,kBAA3B,EAA+C,EAA/C,EAAmD,IAAnD,CAAwD,YAAM;AAC5D;AACD,WAFD;AAGD,SAZD;AAaD,OAdM,CAAP;AAeD;;;;;;kBAIY,e","file":"policies-gui.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()","import PoliciesManager from './PoliciesManager';\n\nclass PoliciesGUI {\n\n  constructor(pepGuiURL, pepURL, messageBus) {\n    let _this = this;\n    _this.policiesManager = new PoliciesManager(pepGuiURL, pepURL, messageBus);\n    // assume prepareAttributes is called after this\n  }\n\n  prepareAttributes() {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.policiesManager.prepareAttributes().then(() => {\n        _this.elements = _this._setElements();\n        _this._setListeners();\n        resolve();\n      });\n    });\n  }\n\n  _addMember() {\n    let _this = this;\n    let group = event.target.id;\n    $('.member-new-intro').html('<h5>Add a member to a group</h5><p>Insert a user email below to add to the \"' + group + '\" group.</p>');\n    $('.member-new-modal').openModal();\n    $('.member-new-ok').off();\n    $('.member-new-ok').on('click', (event) => {\n      let member = $('#member-new').val();\n      $('#member-new').val('');\n      _this.policiesManager.addToGroup(group, member).then(() => {\n        $('.member-new-modal').closeModal();\n        _this._manageGroups();\n      });\n    });\n  }\n\n  _createGroup() {\n    let _this = this;\n    $('#group-new-name').val('');\n    $('.group-new-modal').openModal();\n    $('.group-new-ok').on('click', (event) => {\n      let groupName = $('#group-new-name').val();\n      _this.policiesManager.createGroup(groupName).then(() => {\n        _this._manageGroups();\n      });\n    });\n  }\n\n  _addPolicy() {\n    let _this = this;\n    $('#policy-new-title').val('');\n    $('.combining').html('');\n    let algorithms = ['Block overrides', 'Allow overrides', 'First applicable'];\n    $('.combining').append(this._getOptions('comb-algorithm', 'Choose a combining algorithm', algorithms));\n    $('.policy-new').openModal();\n\n    $('.policy-new-ok').off();\n    $('.policy-new-ok').on('click', (event) => {\n      let policyTitle = $('#policy-new-title').val();\n      if (!policyTitle) {\n        Materialize.toast('Invalid policy title', 4000);\n      } else {\n        let combiningAlgorithm = $('#comb-algorithm').val();\n        _this.policiesManager.addPolicy(policyTitle, combiningAlgorithm).then(() => {\n          $('.help-menu').addClass('hide');\n          $('.policy-new').closeModal();\n          _this._goHome();\n        });\n      }\n    });\n    $('.help-btn').off();\n    $('.help-btn').on('click', (event) => {\n      $('.help-menu').removeClass('hide');\n    });\n  }\n\n  _decreaseRulePriority() {\n    let _this = this;\n    let id = event.target.closest('tr').id;\n    let splitId = id.split(':');\n    let thisPriority = parseInt(splitId[splitId.length - 1]);\n    splitId.pop();\n    let policyTitle = splitId.join(':');\n    _this.policiesManager.getPolicy(policyTitle).then((policy) => {\n      let lastPriority = policy.getLastPriority();\n      if (lastPriority != thisPriority) {\n        let newPriority = parseInt(thisPriority + 1);\n        _this.policiesManager.decreaseRulePriority(policyTitle, thisPriority, newPriority).then(() => {\n          _this._goHome();\n        });\n      }\n    });\n  }\n\n  _deleteMember() {\n    let _this = this;\n    let id = event.target.closest('tr').id;\n    let splitId = id.split('::');\n    let member = splitId[splitId.length - 1];\n    splitId.pop();\n    let group = splitId.join('::');\n    _this.policiesManager.removeFromGroup(group, member).then(() => {\n      _this._manageGroups();\n    });\n  }\n\n  _deleteGroup() {\n    let _this = this;\n    let groupName = event.target.closest('tr').children[0].id;\n    _this.policiesManager.deleteGroup(groupName).then(() => {\n      _this._manageGroups();\n    });\n  }\n\n  _deletePolicy() {\n    let _this = this;\n    let policyTitle = event.target.closest('tr').id;\n    _this.policiesManager.deletePolicy(policyTitle).then(() => {\n      _this._goHome();\n    });\n  }\n\n  _deleteRule() {\n    let _this = this;\n    let id = event.target.closest('tr').id;\n    let splitId = id.split(':');\n    let priority = splitId[splitId.length - 1];\n    splitId.pop();\n    let policyTitle = splitId.join(':');\n    let rule = _this.policiesManager.getRuleOfPolicy(policyTitle, priority);\n\n    _this.policiesManager.deleteRule(policyTitle, rule).then(() => {\n      _this._goHome();\n    });\n  }\n\n  _getActivePolicy() {\n    let _this = this;\n    _this.policiesManager.getActivePolicy().then((activeUserPolicy) => {\n      $('.policy-active').html('');\n      _this.policiesManager.getPoliciesTitles().then((policies) => {\n        policies.push('Deactivate all policies');\n\n        $('.policy-active').append(_this._getOptions('policies-list', 'Click to activate a policy', policies, activeUserPolicy));\n\n        $('#policies-list').on('click', (event) => {\n          let policyTitle = $('#policies-list').find(\":selected\")[0].textContent;\n          if (policyTitle === 'Deactivate all policies') {\n            policyTitle = undefined;\n          }\n          _this.policiesManager.updateActivePolicy(policyTitle);\n        });\n      });\n    });\n  }\n\n  _getGroupOptions(title, keys, scopes, lists) {\n    let list = '<option disabled selected>' + title + '</option>';\n\n    for (let i in keys) {\n      list += '<optgroup label=' + keys[i] + '>';\n      for (let j in lists[i]) {\n        list += '<option id=\"' + scopes[i] + '\">' + lists[i][j] + '</option>';\n      }\n    }\n\n    return list;\n  }\n\n  _getInfo(variable) {\n    let info;\n\n    switch(variable) {\n      case 'Date':\n        info = $('.config').find('input').val();\n        if (info.indexOf(',') !== -1) { //20 July, 2016\n          let splitInfo = info.split(' '); //['20', 'July,',' '2016']\n          splitInfo[1] = splitInfo[1].substring(0, splitInfo[1].length - 1); //'July'\n          let months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n          info = splitInfo[0] + '/' + (months.indexOf(splitInfo[1]) + 1) + '/' + splitInfo[2];\n        } else { // 2016-07-20\n          let splitInfo = info.split('-');\n          info = splitInfo[2] + '/' + splitInfo[1] + '/' + splitInfo[0];\n        }\n        break;\n      case 'Group of users':\n        info = $('#group').find(\":selected\").text();\n        break;\n      case 'Subscription preferences':\n        if (info = $(\"input[name='rule-new-subscription']:checked\")[0] !== undefined) {\n          info = $(\"input[name='rule-new-subscription']:checked\")[0].id;\n        }\n        break;\n      case 'Weekday':\n        info = $('#weekday').find(\":selected\").text();\n        break;\n      default:\n        info = $('.config').find('input').val();\n        break;\n    }\n\n    return info;\n  }\n\n  _getList(items) {\n      let list = '';\n      let numItems = items.length;\n\n      for (let i = 0; i < numItems; i++) {\n        list += '<li class=\"divider\"></li>';\n        list += '<li><a class=\"center-align\">' + items[i] + '</a></li>';\n      }\n\n      return list;\n    }\n\n  _getOptions(id, title, list, selected) {\n    let options = '<select id=\"' + id + '\" class=\"browser-default\"><option disabled selected>' + title + '</option>';\n    for (let i in list) {\n      if (selected !== undefined & selected === list[i]) {\n        options += '<option selected id=\"' + id + '\">' + list[i] + '</option>';\n      } else {\n        options += '<option id=\"' + id + '\">' + list[i] + '</option>';\n      }\n    }\n    options += '</select>';\n\n    return options;\n  }\n\n  _getPoliciesTable() {\n    let _this = this;\n\n    _this.policiesManager.getFormattedPolicies().then((policies) => {\n      $('.policies-no').addClass('hide');\n      $('.policies-current').html('');\n\n      let policiesTitles = [];\n      let rulesTitles = [];\n      let ids = [];\n\n      for (let i in policies) {\n        policiesTitles.push(policies[i].title);\n        rulesTitles.push(policies[i].rulesTitles);\n        ids.push(policies[i].ids);\n      }\n\n      let table = '<table>';\n      let isEmpty = policiesTitles.length === 0;\n\n      for (let i in policiesTitles) {\n        table += '<thead><tr id=\"' + policiesTitles[i] + '\"><td></td><td></td><th class=\"center-align\">' + policiesTitles[i] + '</th><td><i class=\"material-icons clickable-cell policy-delete\" style=\"cursor: pointer; vertical-align: middle\">delete_forever</i></td></tr></thead><tbody>';\n\n        for (let j in rulesTitles[i]) {\n          table += '<tr id=\"' + ids[i][j] + '\" ><td><i class=\"material-icons clickable-cell rule-priority-increase\" style=\"cursor: pointer; vertical-align: middle\">arrow_upward</i></td><td><i class=\"material-icons clickable-cell rule-priority-decrease\" style=\"cursor: pointer; vertical-align: middle\">arrow_downward</i></td><td class=\"rule-show clickable-cell\" style=\"cursor: pointer\">' + rulesTitles[i][j] + '</td><td><i class=\"material-icons clickable-cell rule-delete\" style=\"cursor: pointer; vertical-align: middle\">clear</i></td></tr>';\n        }\n        table += '<tr id=\"' + policiesTitles[i] + '\"></td><td></td><td></td><td style=\"text-align:center\"><i class=\"material-icons clickable-cell center-align rule-add\" style=\"cursor: pointer\">add_circle</i></td></tr>';\n      }\n      if (!isEmpty) {\n        table += '</tbody></table>';\n        $('.policies-current').append(table);\n      } else {\n        $('.policies-no').removeClass('hide');\n      }\n      $('.rule-add').on('click', (event) => { _this._showVariablesTypes(); });\n      $('.rule-delete').on('click', (event) => { _this._deleteRule(); });\n      $('.rule-show').on('click', (event) => { _this._showRule(); });\n      $('.rule-priority-increase').on('click', (event) => { _this._increaseRulePriority(); });\n      $('.rule-priority-decrease').on('click', (event) => { _this._decreaseRulePriority(); });\n      $('.policy-add').off();\n      $('.policy-add').on('click', (event) => { _this._addPolicy(); });\n      $('.policy-delete').on('click', (event) => { _this._deletePolicy(); });\n    });\n  }\n\n  _goHome() {\n    this._getActivePolicy();\n    this._getPoliciesTable();\n  }\n\n  _increaseRulePriority() {\n    let _this = this;\n    let id = event.target.closest('tr').id;\n    let splitId = id.split(':');\n    let thisPriority = parseInt(splitId[splitId.length - 1]);\n    if (thisPriority !== 0) {\n      splitId.pop();\n      let policyTitle = splitId.join(':');\n      let newPriority = thisPriority - 1;\n\n      _this.policiesManager.increaseRulePriority(policyTitle, thisPriority, newPriority).then(() => {\n        _this._goHome();\n      });\n    }\n  }\n\n  _manageGroups() {\n    let _this = this;\n    _this.policiesManager.getGroups().then((groupsPE) => {\n      $('.groups-current').html('');\n      let groups = groupsPE.groupsNames;\n      let members = groupsPE.members;\n      let ids = groupsPE.ids;\n\n      let table = '<table>';\n      let isEmpty = groups.length === 0;\n\n      for (let i in groups) {\n        table += '<thead><tr><th id=\"' + groups[i] + '\">' + groups[i] + '</th><td style=\"text-align:right\"><i class=\"material-icons clickable-cell group-delete\" style=\"cursor: pointer; vertical-align: middle\">delete_forever</i></td></tr></thead><tbody>';\n        for (let j in members[i]) {\n          table += '<tr id=\"' + ids[i][j] + '\" ><td style=\"cursor: pointer\">' + members[i][j] + '</td><td style=\"text-align:right\"><i class=\"material-icons clickable-cell member-delete\" style=\"cursor: pointer; vertical-align: middle\">clear</i></td></tr>';\n        }\n\n        table += '<tr id=\"' + groups[i] + '\"><td><i class=\"material-icons clickable-cell member-add\" id=\"' + groups[i] + '\" style=\"cursor: pointer\">add_circle</i></td></tr>';\n      }\n\n      if (!isEmpty) {\n        table += '</tbody></table>';\n        $('.groups-current').append(table);\n      } else {\n        $('.groups-current').append('<p>There are no groups set.</p>');\n      }\n\n      $('.member-add').off();\n      $('.member-add').on('click', (event) => { _this._addMember(); });\n      $('.member-delete').on('click', (event) => { _this._deleteMember(); });\n      $('.group-add').off();\n      $('.group-add').on('click', (event) => { _this._createGroup(); });\n      $('.group-delete').on('click', (event) => { _this._deleteGroup(); });\n    });\n  }\n\n  _parseFileContent(content) {\n    let parsedContent = JSON.parse(content);\n    for (let i in parsedContent) {\n      this.policiesManager.addPolicy(i, undefined, parsedContent[i]);\n    }\n    $('.policy-new').closeModal();\n  }\n\n  _setElements() {\n    return {\n      date: (params) => { return '<input type=\"date\" class=\"datepicker\">'; },\n      select: (params) => { return this._getOptions(params[0], params[1], params[2]); },\n      form: (params) => { return '<form><input type=\"text\" placeholder=\"' + params + '\"></input></form>'; }\n    };\n  }\n\n  _showNewConfigurationPanel(policyTitle) {\n    let variable = event.target.text;\n    $('.variable').html(this._getNewConfiguration(policyTitle, variable));\n    $('.scopes').empty().html('');\n\n    let keys = ['Email', 'Hyperty', 'All'];\n    let scopes = ['identity', 'hyperty', 'global'];\n    let lists = [];\n\n    this.policiesManager.getMyEmails().then((emails) => {\n      lists.push(emails);\n      this.policiesManager.getMyHyperties().then((hyperties) => {\n        lists.push(hyperties);\n        lists.push(['All identities and hyperties']);\n        $('.scopes').append(this._getGroupOptions('Apply this configuration to:', keys, scopes, lists));\n        $('.variable').removeClass('hide');\n      });\n    });\n  }\n\n  _showVariablesTypes(event) {\n    let policyTitle = event.target.closest('tr').id;\n\n    $('#variables-types').empty().html('');\n    let variables = this.policiesManager.getVariables();\n    $('#variables-types').append(this._getList(variables));\n    $('.variable').addClass('hide');\n    $('.rule-new').openModal();\n    $('#variables-types').off();\n    $('#variables-types').on('click', (event) => { this._showNewConfigurationPanel(policyTitle); });\n  }\n\n  _getNewConfiguration(policyTitle, variable) {\n    let _this = this;\n    let info = _this.policiesManager.getVariableInfo(variable);\n    $('.rule-new-title').html(info.title);\n    $('.description').html(info.description);\n    $('.config').html('');\n\n    if (variable === 'Subscription preferences') {\n      $('.subscription-type').removeClass('hide');\n    } else {\n      $('.subscription-type').addClass('hide');\n      let tags = info.input;\n      for (let i in tags) {\n        _this.policiesManager.getGroupsNames().then((groupsNames) => {\n          if (variable === 'Group of users') {\n            tags[i][1].push(groupsNames);\n          }\n          $('.config').append(_this.elements[tags[i][0]](tags[i][1]));\n          if (variable === 'Group of users') {\n            tags[i][1].pop();\n          }\n        });\n      }\n      if (variable ==='date') {\n        $('.datepicker').pickadate({\n          selectMonths: true,\n          selectYears: 15\n        });\n      }\n    }\n    document.getElementById('allow').checked = false;\n    document.getElementById('block').checked = false;\n    $('.ok-btn').off();\n    $('.ok-btn').on('click', (event) => {\n      if ($(\"input[name='rule-new-decision']:checked\")[0] !== undefined) {\n        let info = _this._getInfo(variable);\n        let decision = $(\"input[name='rule-new-decision']:checked\")[0].id;\n        decision = decision === 'allow';\n        let scope = $('.scopes').find(\":selected\")[0].id;\n        let target = $('.scopes').find(\":selected\")[0].textContent;\n        target = (target === 'All identities and hyperties') ? 'global' : target;\n        _this.policiesManager.setInfo(variable, policyTitle, info, decision, scope, target).then(() => {\n          $('.rule-new').closeModal();\n          _this._goHome();\n        });\n      } else {\n        throw Error('INFORMATION MISSING: please specify an authorisation decision.');\n      }\n    });\n  }\n\n  _deleteInfo(resourceType) {\n    let id = event.target.closest('tr').id;\n    let splitId = id.split(':');\n    let scope = splitId[0];\n    splitId.shift();\n    let target = splitId.join('');\n    let condition = event.target.closest('tr').children[0].id;\n    this.policiesManager.deleteInfo(resourceType, scope, target, condition);\n    this._goHome();\n  }\n\n  _setListeners() {\n    $('.settings-btn').on('click', (event) => {\n      parent.postMessage({ body: { method: 'showAdminPage' }, to: 'runtime:gui-manager' }, '*');\n      $('.admin-page').removeClass('hide');\n      // document.getElementsByTagName('body')[0].style = 'background-color:white;';\n    });\n\n    $('.policies-page-show').on('click', (event) => {\n      $('.policies-section').removeClass('hide');\n      $('.identities-section').addClass('hide');\n      this._goHome();\n      this._manageGroups();\n    });\n\n    $('.admin-page-exit').on('click', (event) => {\n      parent.postMessage({ body: { method: 'hideAdminPage' }, to: 'runtime:gui-manager' }, '*');\n      $('.admin-page').addClass('hide');\n      // document.getElementsByTagName('body')[0].style = 'background-color:transparent;';\n    });\n\n    $('.exit-btn').on('click', (event) => {\n      $('.subscription-type').addClass('hide');\n      $('.help-menu').addClass('hide');\n    });\n\n    $('#policy-file').on('change', (event) => {\n      let file = event.target.files[0];\n      let reader = new FileReader();\n      reader.readAsText(file, \"UTF-8\");\n      reader.onload = (event) => {\n        this._parseFileContent(event.target.result);\n        this._goHome();\n      }\n      reader.onerror = (event) => {\n        throw Error(\"Error reading the file\");\n      }\n    });\n  }\n\n  _showRule(event) {\n    let ruleTitle = event.target.textContent;\n    let id = event.target.closest('tr').id;\n    let splitId = id.split(':');\n    let priority = splitId[splitId.length - 1];\n    splitId.pop();\n    let policyTitle = splitId.join(':');\n    this.policiesManager.getRuleOfPolicy(policyTitle, priority).then((rule) => {\n      if (rule.condition.attribute === 'subscription' && rule.condition.params === 'preauthorised') {\n        $('.authorise-btns').addClass('hide');\n      } else {\n        let element;\n        if (rule.decision) {\n          element = document.getElementById('btn-allow');\n        } else {\n          element = document.getElementById('btn-block');\n        }\n        element.checked = true;\n        $('.authorise-btns').removeClass('hide');\n      }\n      $('.member-add').addClass('hide');\n      $('.member-new-btn').addClass('hide');\n\n      $('.rule-details').openModal();\n      $('.rule-title').html('<h5><b>' + ruleTitle + '</b></h5>');\n      if (rule.condition.attribute === 'subscription') {\n        $('.subscription-type').removeClass('hide');\n      }\n      $('.subscription-decision').on('click', (event) => { this._updateRule('subscription', policyTitle, rule); });\n      $('.decision').off();\n      $('.decision').on('click', (event) => { this._updateRule('authorisation', policyTitle, rule);});\n    });\n  }\n\n  _updateRule(type, policyTitle, rule) {\n    let _this = this;\n    let title = $('.rule-title').text();\n    let splitTitle = title.split(' ');\n    let index = splitTitle.indexOf('is');\n    if (index === -1) {\n      index = splitTitle.indexOf('are');\n    }\n    switch (type) {\n      case 'authorisation':\n        let newDecision = $(\"input[name='rule-update-decision']:checked\")[0].id;\n\n        if (newDecision === 'btn-allow') {\n          splitTitle[index + 1] = 'allowed';\n          newDecision = true;\n        } else {\n          splitTitle[index + 1] = 'blocked';\n          newDecision = false;\n        }\n        title = splitTitle.join(' ');\n        $('.rule-title').html('<h5><b>' + title + '</b></h5>');\n        _this.policiesManager.updatePolicy(policyTitle, rule, newDecision).then(() => {\n          _this._goHome();\n        });\n        break;\n      case 'subscription':\n        let newSubscriptionType = event.target.labels[0].textContent;\n\n        let decision = splitTitle[index + 1];\n        splitTitle = title.split('hyperties are');\n        if (newSubscriptionType === 'All subscribers') {\n          $('.authorise-btns').removeClass('hide');\n          newDecision = rule.decision;\n          newSubscriptionType = '*';\n          title = 'Subscriptions from all hyperties are' + splitTitle[1];\n        } else {\n          $('.authorise-btns').addClass('hide');\n          newDecision = true;\n          newSubscriptionType = 'preauthorised';\n          title = 'Subscriptions from previously authorised hyperties are' + splitTitle[1];\n        }\n\n        $('.rule-title').html('<h5><b>' + title + '</b></h5>');\n        _this.policiesManager.updatePolicy(policyTitle, rule, newDecision, newSubscriptionType).then(() => {\n          _this._goHome();\n        });\n        break;\n    }\n  }\n}\n\nexport default PoliciesGUI;\n","class PoliciesManager {\n\n  constructor(pepGuiURL, pepURL, messageBus) {\n    let _this = this;\n    _this._guiURL = pepGuiURL;\n    _this._pepURL = pepURL;\n    _this._messageBus = messageBus;\n\n    // assume prepare attributes is called after this\n  }\n\n  callPolicyEngineFunc(methodName, parameters) {\n    let _this = this;\n    let message;\n\n    return new Promise((resolve, reject) => {\n      message = { type: 'execute', to: _this._pepURL, from: _this._guiURL,\n        body: { resource: 'policy', method: methodName, params: parameters }, };\n      _this._messageBus.postMessage(message, (res) => {\n        let result = res.body.value;\n        resolve(result);\n      });\n    });\n  }\n\n  prepareAttributes() {\n    return new Promise((resolve, reject) => {\n      let _this = this;\n      _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n        _this.policies = userPolicies;\n        _this.variables = _this.setVariables();\n        _this.addition = _this.setAdditionMethods();\n        _this.validation = _this.setValidationMethods();\n        resolve();\n      });\n    });\n  }\n\n  addToGroup(groupName, user) {\n    return this.callPolicyEngineFunc('addToGroup', {groupName: groupName, userEmail: user});\n  }\n\n  createGroup(groupName) {\n    return this.callPolicyEngineFunc('createGroup', {groupName: groupName});\n  }\n\n  addPolicy(title, combiningAlgorithm, policy) {\n    if (policy === undefined) {\n      switch (combiningAlgorithm) {\n        case 'Block overrides':\n          combiningAlgorithm = 'blockOverrides';\n          break;\n        case 'Allow overrides':\n          combiningAlgorithm = 'allowOverrides';\n          break;\n        case 'First applicable':\n          combiningAlgorithm = 'firstApplicable';\n          break;\n        default:\n          combiningAlgorithm = undefined;\n      }\n    }\n\n    return this.callPolicyEngineFunc('addPolicy',\n      {source: 'USER', key: title, policy: policy, combiningAlgorithm: combiningAlgorithm});\n  }\n\n  decreaseRulePriority(policyTitle, thisPriority, newPriority) {\n    this.getRuleOfPolicy(policyTitle, newPriority).priority = thisPriority;\n    this.getRuleOfPolicy(policyTitle, thisPriority).priority = newPriority;\n    return this.callPolicyEngineFunc('savePolicies', {source: 'USER'});\n  }\n\n  deleteGroup(groupName) {\n    return this.callPolicyEngineFunc('deleteGroup', {groupName: groupName});\n  }\n\n  deletePolicy(title) {\n    return this.callPolicyEngineFunc('removePolicy', {source: 'USER', key: title});\n  }\n\n  deleteRule(policyTitle, rule) {\n    let _this = this;\n\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n        userPolicies[policyTitle].deleteRule(rule);\n        _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n          resolve();\n        });\n      });\n    });\n  }\n\n  getActivePolicy() {\n    return this.callPolicyEngineFunc('activeUserPolicy', {});\n  }\n\n  getPolicy(key) {\n    return this.callPolicyEngineFunc('userPolicy', {key: key});\n  }\n\n  getPoliciesTitles() {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('userPolicies', {}).then((policies) => {\n        let titles = [];\n\n        for (let i in policies) {\n          titles.push(i);\n        }\n\n        resolve(titles);\n      });\n    });\n  }\n\n  getTargets(scope) {\n    let targets = [];\n\n    for (let i in this.policies[scope]) {\n      if (targets.indexOf(i) === -1) {\n        targets.push(i);\n      }\n    }\n\n    return targets;\n  }\n\n  increaseRulePriority(policyTitle, thisPriority, newPriority) {\n    let _this = this;\n    _this.getRuleOfPolicy(policyTitle, thisPriority).priority = newPriority;\n    _this.getRuleOfPolicy(policyTitle, newPriority).priority = thisPriority;\n    return _this.callPolicyEngineFunc('savePolicies', {source: 'USER'});\n  }\n\n  setVariables() {\n    return {\n      'Date': {\n        title: '<br><h5>Updating date related configurations</h5><p>Incoming communications in the introduced date will be allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>',\n        description: '<p>Date:</p>',\n        input: [\n          ['date', []]\n        ]\n      },\n      'Domain': {\n        title: '<br><h5>Updating domain configurations</h5><p>Incoming communications from a user whose identity is from the introduced domain allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>',\n        description: '<p>Domain:</p>',\n        input: [\n          ['form', []]\n        ]\n      },\n      'Group of users': {\n        title: '<br><h5>Updating groups configurations</h5><p>Incoming communications from a user whose identity is in the introduced group will be allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>',\n        description: '<p>Group name:</p>',\n        input: [\n          ['select', ['group', 'Select a group:']]\n        ]\n      },\n      'Subscription preferences': {\n        title: '<br><h5>Updating subscriptions configurations</h5><p>The acceptance of subscriptions to your hyperties will be allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>',\n        input: []\n      },\n      'Time of the day': {\n        title: '<br><h5>Updating time configurations</h5><p>Incoming communications in the introduced timeslot will be blocked, but this can be changed in the preferences page.</p><p>Please introduce a new timeslot in the following format:</p><p class=\"center-align\">&lt;START-HOUR&gt;:&lt;START-MINUTES&gt; to &lt;END-HOUR&gt;:&lt;END-MINUTES&gt;</p><br>',\n        description: '<p>Timeslot:</p>',\n        input: [\n          ['form', []]\n        ]\n      },\n      Weekday: {\n        title: '<br><h5>Updating weekday configurations</h5><p>Incoming communications in the introduced weekday will be allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>',\n        description: '<p>Weekday:</p>',\n        input: [\n          ['select', ['weekday', 'Select a weekday:', ['Saturday', 'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday']]]\n        ]\n      }\n    };\n  }\n\n  setAdditionMethods() {\n    let _this = this;\n    return {\n      Date: (params) => {\n        return new Promise((resolve, reject) => {\n          let policyTitle = params[0];\n          _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n            userPolicies[policyTitle].createRule(params[4], { attribute: 'date', operator: 'equals', params: params[3] }, params[1], params[2]);\n            _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n              resolve();\n            });\n          });\n        });\n      },\n      Domain: (params) => {\n        return new Promise((resolve, reject) => {\n          let policyTitle = params[0];\n          _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n            userPolicies[policyTitle].createRule(params[4], { attribute: 'domain', operator: 'equals', params: params[3] }, params[1], params[2]);\n            _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n              resolve();\n            });\n          });\n        });\n      },\n      'Group of users': (params) => {\n        return new Promise((resolve, reject) => {\n          let policyTitle = params[0];\n          _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n            userPolicies[policyTitle].createRule(params[4], { attribute: 'source', operator: 'in', params: params[3] }, params[1], params[2]);\n            _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n              resolve();\n            });\n          });\n        });\n      },\n      'Subscription preferences': (params) => {\n        return new Promise((resolve, reject) => {\n          let policyTitle = params[0];\n          _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n            let operator = 'equals';\n            if (params[3] === 'preauthorised') {\n              operator = 'in';\n            }\n\n            // TIAGO: this is giving me an error...\n            userPolicies[policyTitle].createRule(params[4], { attribute: 'subscription', operator: operator, params: params[3] }, params[1], params[2]);\n            _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n              resolve();\n            });\n          });\n        });\n      },\n      'Time of the day': (params) => {\n        return new Promise((resolve, reject) => {\n          let policyTitle = params[0];\n          _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n            params[3] = params[3].split(' to ');\n            let start = params[3][0].split(':');\n            start = start.join('');\n            let end = params[3][1].split(':');\n            end = end.join('');\n            userPolicies[policyTitle].createRule(params[4], { attribute: 'time', operator: 'between', params: [start, end] }, params[1], params[2]);\n            _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n              resolve();\n            });\n          });\n        });\n      },\n\n      Weekday: (params) => {\n        return new Promise((resolve, reject) => {\n          let weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n          params[3] = weekdays.indexOf(params[3]);\n          let policyTitle = params[0];\n          _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n            userPolicies[policyTitle].createRule(params[4], { attribute: 'weekday', operator: 'equals', params: params[3] }, params[1], params[2]);\n            _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n              resolve();\n            });\n          });\n        });\n      }\n    };\n  }\n\n  setValidationMethods() {\n    return {\n      Date: (scope, info) => { return this.isValidDate(info) & this.isValidScope(scope); },\n      'Group of users': (scope, info) => { return this.isValidString(info) & this.isValidScope(scope); },\n      Domain: (scope, info) => { return this.isValidDomain(info) & this.isValidScope(scope); },\n      Weekday: (scope, info) => { return true & this.isValidScope(scope); },\n      'Subscription preferences': (scope, info) => { return this.isValidSubscriptionType(info) & this.isValidScope(scope); },\n      'Time of the day': (scope, info) => { return this.isValidTimeslot(info) & this.isValidScope(scope); }\n    };\n  }\n\n  updateActivePolicy(title) {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('activeUserPolicy', {userPolicy: title}).then(() => {\n        _this.callPolicyEngineFunc('saveActivePolicy', {}).then(() => {\n          resolve();\n        });\n      });\n    });\n  }\n\n  isValidEmail(info) {\n    let pattern = /[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$/;\n    return pattern.test(info);\n  }\n\n  isValidDomain(info) {\n    let pattern = /[a-z0-9.-]+\\.[a-z]{2,3}$/;\n    return pattern.test(info);\n  }\n\n  isValidString(info) {\n    let pattern = /[a-z0-9.-]$/;\n    return pattern.test(info);\n  }\n\n  isValidSubscriptionType(info) {\n    return true;\n  }\n\n  isValidDate(info) {\n    let infoSplit = info.split('/');\n    let day = parseInt(infoSplit[0]);\n    let month = parseInt(infoSplit[1]);\n    let year = parseInt(infoSplit[2]);\n\n    let date = new Date(year, month-1, day);\n    let isValidFormat = date.getFullYear() === year && date.getMonth() + 1 === month && date.getDate() === day;\n    let formattedDate = date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear()\n    let now = new Date();\n    let today = now.getDate() + '/' + (now.getMonth() + 1) + '/' + now.getFullYear();\n\n    let isFuture = false;\n    if (date.getFullYear() > now.getFullYear()) {\n      isFuture = true;\n    } else {\n      if (date.getFullYear() == now.getFullYear()) {\n        if ((date.getMonth() + 1) > (now.getMonth() + 1)) {\n          isFuture = true;\n        } else {\n          if ((date.getMonth() + 1) == (now.getMonth() + 1)) {\n            if (date.getDate() >= (now.getDate())) {\n              isFuture = true;\n            }\n          }\n        }\n      }\n    }\n\n    return (isValidFormat && isFuture);\n  }\n\n  isValidScope(scope) {\n    return scope !== '';\n  }\n\n  isValidTimeslot(info) {\n    if (!info) {\n      return false;\n    }\n    let splitInfo = info.split(' to '); // [12:00, 13:00]\n    let twoTimes = splitInfo.length === 2;\n    if (!twoTimes) {\n      return false;\n    }\n    let splitStart = splitInfo[0].split(':'); // [12, 00]\n    let splitEnd = splitInfo[1].split(':'); // [13, 00]\n    if (splitStart.length !== 2 || splitEnd.length !== 2) {\n      return false;\n    }\n    let okSize = (splitStart[0].length === 2) && (splitStart[1].length === 2) && (splitEnd[0].length === 2) && (splitEnd[1].length === 2);\n    let areIntegers = (splitStart[0] == parseInt(splitStart[0], 10)) && (splitStart[1] == parseInt(splitStart[1], 10)) && (splitEnd[0] == parseInt(splitEnd[0], 10)) && (splitEnd[1] == parseInt(splitEnd[1], 10));\n    return twoTimes && okSize && areIntegers;\n  }\n\n  getFormattedPolicies() {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('userPolicies', {}).then((policiesPE) => {\n        let policiesGUI = [];\n\n        for (let i in policiesPE) {\n          let policy = {\n            title: policiesPE[i].key,\n            rulesTitles: [],\n            ids: []\n          }\n\n          if (policiesPE[i].rules.length !== 0) {\n            policiesPE[i].rules = policiesPE[i].sortRules();\n            for (let j in policiesPE[i].rules) {\n              let title = _this._getTitle(policiesPE[i].rules[j]);\n              policy.rulesTitles.push(title);\n              policy.ids.push(policy.title + ':' + policiesPE[i].rules[j].priority);\n            }\n          }\n\n          policiesGUI.push(policy);\n        }\n\n        resolve(policiesGUI);\n      });\n    });\n  }\n\n  getRuleOfPolicy(title, priority) {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('userPolicies', {}).then((policies) => {\n        let policy = policies[title];\n        resolve(policy.getRuleByPriority(priority));\n      });\n    });\n  }\n\n  _getTitle(rule) {\n    let condition = rule.condition;\n    let authorise = (rule.decision) ? 'allowed' : 'blocked';\n    let target = rule.target === 'global' ? 'All identities and hyperties' : rule.target;\n    let attribute = condition.attribute;\n    switch(attribute) {\n      case 'date':\n        return 'Date ' + condition.params + ' is ' + authorise + ' (' + target + ')';\n      case 'domain':\n        return 'Domain \\\"' + condition.params + '\\\" is ' + authorise + ' (' + target + ')';\n      case 'source':\n        if (condition.operator === 'in') {\n          return 'Group \\\"' + condition.params + '\\\" is ' + authorise + ' (' + target + ')';\n        } else {\n          if (condition.operator === 'equals') {\n            return 'User ' + condition.params + ' is ' + authorise + ' (' + target + ')';\n          }\n        }\n      case 'subscription':\n        if (condition.params === '*') {\n          return 'Subscriptions from all hyperties are ' + authorise + ' (' + target + ')';\n        } else {\n          if (condition.params === 'preauthorised') {\n            return 'Subscriptions from previously authorised hyperties are allowed (' + target + ')';\n          }\n        }\n      case 'time':\n        let start = condition.params[0][0] + condition.params[0][1] + ':' + condition.params[0][2] + condition.params[0][3];\n        let end = condition.params[1][0] + condition.params[1][1] + ':' + condition.params[1][2] + condition.params[1][3];\n        return 'Timeslot from ' + start + ' to ' + end + ' is ' + authorise + ' (' + target + ')';\n      case 'weekday':\n        let weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n        let weekdayID = condition.params;\n        return 'Weekday \\\"' + weekdays[weekdayID] + '\\\" is ' + authorise + ' (' + target + ')';\n      default:\n        return 'Rule ' + rule.priority + ' is ' + authorise + ' (' + target + ')';\n    }\n  }\n\n  getVariables() {\n    let variablesTitles = [];\n    for (let i in this.variables) {\n      variablesTitles.push(i);\n    }\n    return variablesTitles;\n  }\n\n  getVariableInfo(variable) {\n    return this.variables[variable];\n  }\n\n  getMyEmails() {\n    return this.callPolicyEngineFunc('getMyEmails', {});\n  }\n\n  getMyHyperties() {\n    return this.callPolicyEngineFunc('getMyHyperties', {});\n  }\n\n  //TODO If there is a problem with the input, show it to the user\n  setInfo(variable, policyTitle, info, authorise, scope, target) {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      if (_this.validation[variable](scope, info)) {\n        _this.addition[variable]([policyTitle, scope, target, info, authorise]).then(() => {\n          resolve();\n        });\n      } else {\n        reject('Invalid configuration');\n      }\n    });\n  }\n\n  deleteInfo(variable, scope, target, info) {\n    let params = [scope, target, info];\n    if (variable === 'member') {\n      let conditionSplit = info.split(' ');\n      let groupName = conditionSplit[2];\n      params = [scope, groupName, info];\n    }\n    this.deletion[variable](params);\n  }\n\n  getGroups() {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('groups', {}).then((groups) => {\n        let groupsGUI = {\n          groupsNames: [],\n          members: [],\n          ids: []\n        };\n\n        for (let i in groups) {\n          groupsGUI.groupsNames.push(i);\n          groupsGUI.members.push(groups[i]);\n          let ids = [];\n          for (let j in groups[i]) {\n            ids.push(i + '::' + groups[i][j]);\n          }\n          groupsGUI.ids.push(ids);\n        }\n\n        //console.log('TIAGO groups', groupsGUI)\n        resolve(groupsGUI);\n      });\n    });\n  }\n\n  getGroupsNames() {\n    return this.callPolicyEngineFunc('getGroupsNames', {});\n  }\n\n  removeFromGroup(groupName, user) {\n    return this.callPolicyEngineFunc('removeFromGroup', {groupName: groupName, userEmail: user});\n  }\n\n  updatePolicy(policyTitle, rule, newDecision, newSubscriptionType) {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n        userPolicies[policyTitle].deleteRule(rule);\n        if (!newSubscriptionType) {\n          userPolicies[policyTitle].createRule(newDecision, rule.condition, rule.scope, rule.target, rule.priority);\n        } else {\n          let operator = (newSubscriptionType === '*') ? 'equals' : 'in';\n          userPolicies[policyTitle].createRule(newDecision, [{ attribute: 'subscription', opeator: operator, params: newSubscriptionType }], rule.scope, rule.target, rule.priority);\n        }\n\n        _this.callPolicyEngineFunc('saveActivePolicy', {}).then(() => {\n          resolve();\n        });\n      });\n    });\n  }\n\n}\n\nexport default PoliciesManager;\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYWRtaW4vUG9saWNpZXNHVUkuanMiLCJzcmMvYWRtaW4vUG9saWNpZXNNYW5hZ2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7SUFFTSxXO0FBRUosdUJBQVksU0FBWixFQUF1QixNQUF2QixFQUErQixVQUEvQixFQUEyQztBQUFBOztBQUN6QyxRQUFJLFFBQVEsSUFBWjtBQUNBLFVBQU0sZUFBTixHQUF3Qiw4QkFBb0IsU0FBcEIsRUFBK0IsTUFBL0IsRUFBdUMsVUFBdkMsQ0FBeEI7QUFDQTtBQUNEOzs7O3dDQUVtQjtBQUNsQixVQUFJLFFBQVEsSUFBWjtBQUNBLGFBQU8sSUFBSSxPQUFKLENBQVksVUFBQyxPQUFELEVBQVUsTUFBVixFQUFxQjtBQUN0QyxjQUFNLGVBQU4sQ0FBc0IsaUJBQXRCLEdBQTBDLElBQTFDLENBQStDLFlBQU07QUFDbkQsZ0JBQU0sUUFBTixHQUFpQixNQUFNLFlBQU4sRUFBakI7QUFDQSxnQkFBTSxhQUFOO0FBQ0E7QUFDRCxTQUpEO0FBS0QsT0FOTSxDQUFQO0FBT0Q7OztpQ0FFWTtBQUNYLFVBQUksUUFBUSxJQUFaO0FBQ0EsVUFBSSxRQUFRLE1BQU0sTUFBTixDQUFhLEVBQXpCO0FBQ0EsUUFBRSxtQkFBRixFQUF1QixJQUF2QixDQUE0QixpRkFBaUYsS0FBakYsR0FBeUYsY0FBckg7QUFDQSxRQUFFLG1CQUFGLEVBQXVCLFNBQXZCO0FBQ0EsUUFBRSxnQkFBRixFQUFvQixHQUFwQjtBQUNBLFFBQUUsZ0JBQUYsRUFBb0IsRUFBcEIsQ0FBdUIsT0FBdkIsRUFBZ0MsVUFBQyxLQUFELEVBQVc7QUFDekMsWUFBSSxTQUFTLEVBQUUsYUFBRixFQUFpQixHQUFqQixFQUFiO0FBQ0EsVUFBRSxhQUFGLEVBQWlCLEdBQWpCLENBQXFCLEVBQXJCO0FBQ0EsY0FBTSxlQUFOLENBQXNCLFVBQXRCLENB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LENBQW9ELFVBQUMsWUFBRCxFQUFrQjtBQUNwRSx1QkFBYSxXQUFiLEVBQTBCLFVBQTFCLENBQXFDLElBQXJDO0FBQ0EsY0FBSSxDQUFDLG1CQUFMLEVBQTBCO0FBQ3hCLHlCQUFhLFdBQWIsRUFBMEIsVUFBMUIsQ0FBcUMsV0FBckMsRUFBa0QsS0FBSyxTQUF2RCxFQUFrRSxLQUFLLEtBQXZFLEVBQThFLEtBQUssTUFBbkYsRUFBMkYsS0FBSyxRQUFoRztBQUNELFdBRkQsTUFFTztBQUNMLGdCQUFJLFdBQVksd0JBQXdCLEdBQXpCLEdBQWdDLFFBQWhDLEdBQTJDLElBQTFEO0FBQ0EseUJBQWEsV0FBYixFQUEwQixVQUExQixDQUFxQyxXQUFyQyxFQUFrRCxDQUFDLEVBQUUsV0FBVyxjQUFiLEVBQTZCLFNBQVMsUUFBdEMsRUFBZ0QsUUFBUSxtQkFBeEQsRUFBRCxDQUFsRCxFQUFtSSxLQUFLLEtBQXhJLEVBQStJLEtBQUssTUFBcEosRUFBNEosS0FBSyxRQUFqSztBQUNEOztBQUVELGdCQUFNLG9CQUFOLENBQTJCLGtCQUEzQixFQUErQyxFQUEvQyxFQUFtRCxJQUFuRCxDQUF3RCxZQUFNO0FBQzVEO0FBQ0QsV0FGRDtBQUdELFNBWkQ7QUFhRCxPQWRNLENBQVA7QUFlRDs7Ozs7O2tCQUlZLGUiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfXJldHVybiBlfSkoKSIsImltcG9ydCBQb2xpY2llc01hbmFnZXIgZnJvbSAnLi9Qb2xpY2llc01hbmFnZXInO1xuXG5jbGFzcyBQb2xpY2llc0dVSSB7XG5cbiAgY29uc3RydWN0b3IocGVwR3VpVVJMLCBwZXBVUkwsIG1lc3NhZ2VCdXMpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIF90aGlzLnBvbGljaWVzTWFuYWdlciA9IG5ldyBQb2xpY2llc01hbmFnZXIocGVwR3VpVVJMLCBwZXBVUkwsIG1lc3NhZ2VCdXMpO1xuICAgIC8vIGFzc3VtZSBwcmVwYXJlQXR0cmlidXRlcyBpcyBjYWxsZWQgYWZ0ZXIgdGhpc1xuICB9XG5cbiAgcHJlcGFyZUF0dHJpYnV0ZXMoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgX3RoaXMucG9saWNpZXNNYW5hZ2VyLnByZXBhcmVBdHRyaWJ1dGVzKCkudGhlbigoKSA9PiB7XG4gICAgICAgIF90aGlzLmVsZW1lbnRzID0gX3RoaXMuX3NldEVsZW1lbnRzKCk7XG4gICAgICAgIF90aGlzLl9zZXRMaXN0ZW5lcnMoKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBfYWRkTWVtYmVyKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGdyb3VwID0gZXZlbnQudGFyZ2V0LmlkO1xuICAgICQoJy5tZW1iZXItbmV3LWludHJvJykuaHRtbCgnPGg1PkFkZCBhIG1lbWJlciB0byBhIGdyb3VwPC9oNT48cD5JbnNlcnQgYSB1c2VyIGVtYWlsIGJlbG93IHRvIGFkZCB0byB0aGUgXCInICsgZ3JvdXAgKyAnXCIgZ3JvdXAuPC9wPicpO1xuICAgICQoJy5tZW1iZXItbmV3LW1vZGFsJykub3Blbk1vZGFsKCk7XG4gICAgJCgnLm1lbWJlci1uZXctb2snKS5vZmYoKTtcbiAgICAkKCcubWVtYmVyLW5ldy1vaycpLm9uKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgbGV0IG1lbWJlciA9ICQoJyNtZW1iZXItbmV3JykudmFsKCk7XG4gICAgICAkKCcjbWVtYmVyLW5ldycpLnZhbCgnJyk7XG4gICAgICBfdGhpcy5wb2xpY2llc01hbmFnZXIuYWRkVG9Hcm91cChncm91cCwgbWVtYmVyKS50aGVuKCgpID0+IHtcbiAgICAgICAgJCgnLm1lbWJlci1uZXctbW9kYWwnKS5jbG9zZU1vZGFsKCk7XG4gICAgICAgIF90aGlzLl9tYW5hZ2VHcm91cHMoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX2NyZWF0ZUdyb3VwKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgJCgnI2dyb3VwLW5ldy1uYW1lJykudmFsKCcnKTtcbiAgICAkKCcuZ3JvdXAtbmV3LW1vZGFsJykub3Blbk1vZGFsKCk7XG4gICAgJCgnLmdyb3VwLW5ldy1vaycpLm9uKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgbGV0IGdyb3VwTmFtZSA9ICQoJyNncm91cC1uZXctbmFtZScpLnZhbCgpO1xuICAgICAgX3RoaXMucG9saWNpZXNNYW5hZ2VyLmNyZWF0ZUdyb3VwKGdyb3VwTmFtZSkudGhlbigoKSA9PiB7XG4gICAgICAgIF90aGlzLl9tYW5hZ2VHcm91cHMoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX2FkZFBvbGljeSgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgICQoJyNwb2xpY3ktbmV3LXRpdGxlJykudmFsKCcnKTtcbiAgICAkKCcuY29tYmluaW5nJykuaHRtbCgnJyk7XG4gICAgbGV0IGFsZ29yaXRobXMgPSBbJ0Jsb2NrIG92ZXJyaWRlcycsICdBbGxvdyBvdmVycmlkZXMnLCAnRmlyc3QgYXBwbGljYWJsZSddO1xuICAgICQoJy5jb21iaW5pbmcnKS5hcHBlbmQodGhpcy5fZ2V0T3B0aW9ucygnY29tYi1hbGdvcml0aG0nLCAnQ2hvb3NlIGEgY29tYmluaW5nIGFsZ29yaXRobScsIGFsZ29yaXRobXMpKTtcbiAgICAkKCcucG9saWN5LW5ldycpLm9wZW5Nb2RhbCgpO1xuXG4gICAgJCgnLnBvbGljeS1uZXctb2snKS5vZmYoKTtcbiAgICAkKCcucG9saWN5LW5ldy1vaycpLm9uKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgbGV0IHBvbGljeVRpdGxlID0gJCgnI3BvbGljeS1uZXctdGl0bGUnKS52YWwoKTtcbiAgICAgIGlmICghcG9saWN5VGl0bGUpIHtcbiAgICAgICAgTWF0ZXJpYWxpemUudG9hc3QoJ0ludmFsaWQgcG9saWN5IHRpdGxlJywgNDAwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgY29tYmluaW5nQWxnb3JpdGhtID0gJCgnI2NvbWItYWxnb3JpdGhtJykudmFsKCk7XG4gICAgICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci5hZGRQb2xpY3kocG9saWN5VGl0bGUsIGNvbWJpbmluZ0FsZ29yaXRobSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgJCgnLmhlbHAtbWVudScpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgICAgICAgJCgnLnBvbGljeS1uZXcnKS5jbG9zZU1vZGFsKCk7XG4gICAgICAgICAgX3RoaXMuX2dvSG9tZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAkKCcuaGVscC1idG4nKS5vZmYoKTtcbiAgICAkKCcuaGVscC1idG4nKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICQoJy5oZWxwLW1lbnUnKS5yZW1vdmVDbGFzcygnaGlkZScpO1xuICAgIH0pO1xuICB9XG5cbiAgX2RlY3JlYXNlUnVsZVByaW9yaXR5KCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGlkID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ3RyJykuaWQ7XG4gICAgbGV0IHNwbGl0SWQgPSBpZC5zcGxpdCgnOicpO1xuICAgIGxldCB0aGlzUHJpb3JpdHkgPSBwYXJzZUludChzcGxpdElkW3NwbGl0SWQubGVuZ3RoIC0gMV0pO1xuICAgIHNwbGl0SWQucG9wKCk7XG4gICAgbGV0IHBvbGljeVRpdGxlID0gc3BsaXRJZC5qb2luKCc6Jyk7XG4gICAgX3RoaXMucG9saWNpZXNNYW5hZ2VyLmdldFBvbGljeShwb2xpY3lUaXRsZSkudGhlbigocG9saWN5KSA9PiB7XG4gICAgICBsZXQgbGFzdFByaW9yaXR5ID0gcG9saWN5LmdldExhc3RQcmlvcml0eSgpO1xuICAgICAgaWYgKGxhc3RQcmlvcml0eSAhPSB0aGlzUHJpb3JpdHkpIHtcbiAgICAgICAgbGV0IG5ld1ByaW9yaXR5ID0gcGFyc2VJbnQodGhpc1ByaW9yaXR5ICsgMSk7XG4gICAgICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci5kZWNyZWFzZVJ1bGVQcmlvcml0eShwb2xpY3lUaXRsZSwgdGhpc1ByaW9yaXR5LCBuZXdQcmlvcml0eSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgX3RoaXMuX2dvSG9tZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9kZWxldGVNZW1iZXIoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgaWQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgndHInKS5pZDtcbiAgICBsZXQgc3BsaXRJZCA9IGlkLnNwbGl0KCc6OicpO1xuICAgIGxldCBtZW1iZXIgPSBzcGxpdElkW3NwbGl0SWQubGVuZ3RoIC0gMV07XG4gICAgc3BsaXRJZC5wb3AoKTtcbiAgICBsZXQgZ3JvdXAgPSBzcGxpdElkLmpvaW4oJzo6Jyk7XG4gICAgX3RoaXMucG9saWNpZXNNYW5hZ2VyLnJlbW92ZUZyb21Hcm91cChncm91cCwgbWVtYmVyKS50aGVuKCgpID0+IHtcbiAgICAgIF90aGlzLl9tYW5hZ2VHcm91cHMoKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9kZWxldGVHcm91cCgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBncm91cE5hbWUgPSBldmVudC50YXJnZXQuY2xvc2VzdCgndHInKS5jaGlsZHJlblswXS5pZDtcbiAgICBfdGhpcy5wb2xpY2llc01hbmFnZXIuZGVsZXRlR3JvdXAoZ3JvdXBOYW1lKS50aGVuKCgpID0+IHtcbiAgICAgIF90aGlzLl9tYW5hZ2VHcm91cHMoKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9kZWxldGVQb2xpY3koKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgcG9saWN5VGl0bGUgPSBldmVudC50YXJnZXQuY2xvc2VzdCgndHInKS5pZDtcbiAgICBfdGhpcy5wb2xpY2llc01hbmFnZXIuZGVsZXRlUG9saWN5KHBvbGljeVRpdGxlKS50aGVuKCgpID0+IHtcbiAgICAgIF90aGlzLl9nb0hvbWUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9kZWxldGVSdWxlKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGlkID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ3RyJykuaWQ7XG4gICAgbGV0IHNwbGl0SWQgPSBpZC5zcGxpdCgnOicpO1xuICAgIGxldCBwcmlvcml0eSA9IHNwbGl0SWRbc3BsaXRJZC5sZW5ndGggLSAxXTtcbiAgICBzcGxpdElkLnBvcCgpO1xuICAgIGxldCBwb2xpY3lUaXRsZSA9IHNwbGl0SWQuam9pbignOicpO1xuICAgIGxldCBydWxlID0gX3RoaXMucG9saWNpZXNNYW5hZ2VyLmdldFJ1bGVPZlBvbGljeShwb2xpY3lUaXRsZSwgcHJpb3JpdHkpO1xuXG4gICAgX3RoaXMucG9saWNpZXNNYW5hZ2VyLmRlbGV0ZVJ1bGUocG9saWN5VGl0bGUsIHJ1bGUpLnRoZW4oKCkgPT4ge1xuICAgICAgX3RoaXMuX2dvSG9tZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgX2dldEFjdGl2ZVBvbGljeSgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci5nZXRBY3RpdmVQb2xpY3koKS50aGVuKChhY3RpdmVVc2VyUG9saWN5KSA9PiB7XG4gICAgICAkKCcucG9saWN5LWFjdGl2ZScpLmh0bWwoJycpO1xuICAgICAgX3RoaXMucG9saWNpZXNNYW5hZ2VyLmdldFBvbGljaWVzVGl0bGVzKCkudGhlbigocG9saWNpZXMpID0+IHtcbiAgICAgICAgcG9saWNpZXMucHVzaCgnRGVhY3RpdmF0ZSBhbGwgcG9saWNpZXMnKTtcblxuICAgICAgICAkKCcucG9saWN5LWFjdGl2ZScpLmFwcGVuZChfdGhpcy5fZ2V0T3B0aW9ucygncG9saWNpZXMtbGlzdCcsICdDbGljayB0byBhY3RpdmF0ZSBhIHBvbGljeScsIHBvbGljaWVzLCBhY3RpdmVVc2VyUG9saWN5KSk7XG5cbiAgICAgICAgJCgnI3BvbGljaWVzLWxpc3QnKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBsZXQgcG9saWN5VGl0bGUgPSAkKCcjcG9saWNpZXMtbGlzdCcpLmZpbmQoXCI6c2VsZWN0ZWRcIilbMF0udGV4dENvbnRlbnQ7XG4gICAgICAgICAgaWYgKHBvbGljeVRpdGxlID09PSAnRGVhY3RpdmF0ZSBhbGwgcG9saWNpZXMnKSB7XG4gICAgICAgICAgICBwb2xpY3lUaXRsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgX3RoaXMucG9saWNpZXNNYW5hZ2VyLnVwZGF0ZUFjdGl2ZVBvbGljeShwb2xpY3lUaXRsZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBfZ2V0R3JvdXBPcHRpb25zKHRpdGxlLCBrZXlzLCBzY29wZXMsIGxpc3RzKSB7XG4gICAgbGV0IGxpc3QgPSAnPG9wdGlvbiBkaXNhYmxlZCBzZWxlY3RlZD4nICsgdGl0bGUgKyAnPC9vcHRpb24+JztcblxuICAgIGZvciAobGV0IGkgaW4ga2V5cykge1xuICAgICAgbGlzdCArPSAnPG9wdGdyb3VwIGxhYmVsPScgKyBrZXlzW2ldICsgJz4nO1xuICAgICAgZm9yIChsZXQgaiBpbiBsaXN0c1tpXSkge1xuICAgICAgICBsaXN0ICs9ICc8b3B0aW9uIGlkPVwiJyArIHNjb3Blc1tpXSArICdcIj4nICsgbGlzdHNbaV1bal0gKyAnPC9vcHRpb24+JztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGlzdDtcbiAgfVxuXG4gIF9nZXRJbmZvKHZhcmlhYmxlKSB7XG4gICAgbGV0IGluZm87XG5cbiAgICBzd2l0Y2godmFyaWFibGUpIHtcbiAgICAgIGNhc2UgJ0RhdGUnOlxuICAgICAgICBpbmZvID0gJCgnLmNvbmZpZycpLmZpbmQoJ2lucHV0JykudmFsKCk7XG4gICAgICAgIGlmIChpbmZvLmluZGV4T2YoJywnKSAhPT0gLTEpIHsgLy8yMCBKdWx5LCAyMDE2XG4gICAgICAgICAgbGV0IHNwbGl0SW5mbyA9IGluZm8uc3BsaXQoJyAnKTsgLy9bJzIwJywgJ0p1bHksJywnICcyMDE2J11cbiAgICAgICAgICBzcGxpdEluZm9bMV0gPSBzcGxpdEluZm9bMV0uc3Vic3RyaW5nKDAsIHNwbGl0SW5mb1sxXS5sZW5ndGggLSAxKTsgLy8nSnVseSdcbiAgICAgICAgICBsZXQgbW9udGhzID0gWydKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsICdKdW5lJywgJ0p1bHknLCAnQXVndXN0JywgJ1NlcHRlbWJlcicsICdPY3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ107XG4gICAgICAgICAgaW5mbyA9IHNwbGl0SW5mb1swXSArICcvJyArIChtb250aHMuaW5kZXhPZihzcGxpdEluZm9bMV0pICsgMSkgKyAnLycgKyBzcGxpdEluZm9bMl07XG4gICAgICAgIH0gZWxzZSB7IC8vIDIwMTYtMDctMjBcbiAgICAgICAgICBsZXQgc3BsaXRJbmZvID0gaW5mby5zcGxpdCgnLScpO1xuICAgICAgICAgIGluZm8gPSBzcGxpdEluZm9bMl0gKyAnLycgKyBzcGxpdEluZm9bMV0gKyAnLycgKyBzcGxpdEluZm9bMF07XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdHcm91cCBvZiB1c2Vycyc6XG4gICAgICAgIGluZm8gPSAkKCcjZ3JvdXAnKS5maW5kKFwiOnNlbGVjdGVkXCIpLnRleHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdTdWJzY3JpcHRpb24gcHJlZmVyZW5jZXMnOlxuICAgICAgICBpZiAoaW5mbyA9ICQoXCJpbnB1dFtuYW1lPSdydWxlLW5ldy1zdWJzY3JpcHRpb24nXTpjaGVja2VkXCIpWzBdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpbmZvID0gJChcImlucHV0W25hbWU9J3J1bGUtbmV3LXN1YnNjcmlwdGlvbiddOmNoZWNrZWRcIilbMF0uaWQ7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdXZWVrZGF5JzpcbiAgICAgICAgaW5mbyA9ICQoJyN3ZWVrZGF5JykuZmluZChcIjpzZWxlY3RlZFwiKS50ZXh0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaW5mbyA9ICQoJy5jb25maWcnKS5maW5kKCdpbnB1dCcpLnZhbCgpO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gaW5mbztcbiAgfVxuXG4gIF9nZXRMaXN0KGl0ZW1zKSB7XG4gICAgICBsZXQgbGlzdCA9ICcnO1xuICAgICAgbGV0IG51bUl0ZW1zID0gaXRlbXMubGVuZ3RoO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUl0ZW1zOyBpKyspIHtcbiAgICAgICAgbGlzdCArPSAnPGxpIGNsYXNzPVwiZGl2aWRlclwiPjwvbGk+JztcbiAgICAgICAgbGlzdCArPSAnPGxpPjxhIGNsYXNzPVwiY2VudGVyLWFsaWduXCI+JyArIGl0ZW1zW2ldICsgJzwvYT48L2xpPic7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICBfZ2V0T3B0aW9ucyhpZCwgdGl0bGUsIGxpc3QsIHNlbGVjdGVkKSB7XG4gICAgbGV0IG9wdGlvbnMgPSAnPHNlbGVjdCBpZD1cIicgKyBpZCArICdcIiBjbGFzcz1cImJyb3dzZXItZGVmYXVsdFwiPjxvcHRpb24gZGlzYWJsZWQgc2VsZWN0ZWQ+JyArIHRpdGxlICsgJzwvb3B0aW9uPic7XG4gICAgZm9yIChsZXQgaSBpbiBsaXN0KSB7XG4gICAgICBpZiAoc2VsZWN0ZWQgIT09IHVuZGVmaW5lZCAmIHNlbGVjdGVkID09PSBsaXN0W2ldKSB7XG4gICAgICAgIG9wdGlvbnMgKz0gJzxvcHRpb24gc2VsZWN0ZWQgaWQ9XCInICsgaWQgKyAnXCI+JyArIGxpc3RbaV0gKyAnPC9vcHRpb24+JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnMgKz0gJzxvcHRpb24gaWQ9XCInICsgaWQgKyAnXCI+JyArIGxpc3RbaV0gKyAnPC9vcHRpb24+JztcbiAgICAgIH1cbiAgICB9XG4gICAgb3B0aW9ucyArPSAnPC9zZWxlY3Q+JztcblxuICAgIHJldHVybiBvcHRpb25zO1xuICB9XG5cbiAgX2dldFBvbGljaWVzVGFibGUoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci5nZXRGb3JtYXR0ZWRQb2xpY2llcygpLnRoZW4oKHBvbGljaWVzKSA9PiB7XG4gICAgICAkKCcucG9saWNpZXMtbm8nKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICAgJCgnLnBvbGljaWVzLWN1cnJlbnQnKS5odG1sKCcnKTtcblxuICAgICAgbGV0IHBvbGljaWVzVGl0bGVzID0gW107XG4gICAgICBsZXQgcnVsZXNUaXRsZXMgPSBbXTtcbiAgICAgIGxldCBpZHMgPSBbXTtcblxuICAgICAgZm9yIChsZXQgaSBpbiBwb2xpY2llcykge1xuICAgICAgICBwb2xpY2llc1RpdGxlcy5wdXNoKHBvbGljaWVzW2ldLnRpdGxlKTtcbiAgICAgICAgcnVsZXNUaXRsZXMucHVzaChwb2xpY2llc1tpXS5ydWxlc1RpdGxlcyk7XG4gICAgICAgIGlkcy5wdXNoKHBvbGljaWVzW2ldLmlkcyk7XG4gICAgICB9XG5cbiAgICAgIGxldCB0YWJsZSA9ICc8dGFibGU+JztcbiAgICAgIGxldCBpc0VtcHR5ID0gcG9saWNpZXNUaXRsZXMubGVuZ3RoID09PSAwO1xuXG4gICAgICBmb3IgKGxldCBpIGluIHBvbGljaWVzVGl0bGVzKSB7XG4gICAgICAgIHRhYmxlICs9ICc8dGhlYWQ+PHRyIGlkPVwiJyArIHBvbGljaWVzVGl0bGVzW2ldICsgJ1wiPjx0ZD48L3RkPjx0ZD48L3RkPjx0aCBjbGFzcz1cImNlbnRlci1hbGlnblwiPicgKyBwb2xpY2llc1RpdGxlc1tpXSArICc8L3RoPjx0ZD48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zIGNsaWNrYWJsZS1jZWxsIHBvbGljeS1kZWxldGVcIiBzdHlsZT1cImN1cnNvcjogcG9pbnRlcjsgdmVydGljYWwtYWxpZ246IG1pZGRsZVwiPmRlbGV0ZV9mb3JldmVyPC9pPjwvdGQ+PC90cj48L3RoZWFkPjx0Ym9keT4nO1xuXG4gICAgICAgIGZvciAobGV0IGogaW4gcnVsZXNUaXRsZXNbaV0pIHtcbiAgICAgICAgICB0YWJsZSArPSAnPHRyIGlkPVwiJyArIGlkc1tpXVtqXSArICdcIiA+PHRkPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgY2xpY2thYmxlLWNlbGwgcnVsZS1wcmlvcml0eS1pbmNyZWFzZVwiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlXCI+YXJyb3dfdXB3YXJkPC9pPjwvdGQ+PHRkPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgY2xpY2thYmxlLWNlbGwgcnVsZS1wcmlvcml0eS1kZWNyZWFzZVwiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlXCI+YXJyb3dfZG93bndhcmQ8L2k+PC90ZD48dGQgY2xhc3M9XCJydWxlLXNob3cgY2xpY2thYmxlLWNlbGxcIiBzdHlsZT1cImN1cnNvcjogcG9pbnRlclwiPicgKyBydWxlc1RpdGxlc1tpXVtqXSArICc8L3RkPjx0ZD48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zIGNsaWNrYWJsZS1jZWxsIHJ1bGUtZGVsZXRlXCIgc3R5bGU9XCJjdXJzb3I6IHBvaW50ZXI7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGVcIj5jbGVhcjwvaT48L3RkPjwvdHI+JztcbiAgICAgICAgfVxuICAgICAgICB0YWJsZSArPSAnPHRyIGlkPVwiJyArIHBvbGljaWVzVGl0bGVzW2ldICsgJ1wiPjwvdGQ+PHRkPjwvdGQ+PHRkPjwvdGQ+PHRkIHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXJcIj48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zIGNsaWNrYWJsZS1jZWxsIGNlbnRlci1hbGlnbiBydWxlLWFkZFwiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyXCI+YWRkX2NpcmNsZTwvaT48L3RkPjwvdHI+JztcbiAgICAgIH1cbiAgICAgIGlmICghaXNFbXB0eSkge1xuICAgICAgICB0YWJsZSArPSAnPC90Ym9keT48L3RhYmxlPic7XG4gICAgICAgICQoJy5wb2xpY2llcy1jdXJyZW50JykuYXBwZW5kKHRhYmxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoJy5wb2xpY2llcy1ubycpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG4gICAgICB9XG4gICAgICAkKCcucnVsZS1hZGQnKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHsgX3RoaXMuX3Nob3dWYXJpYWJsZXNUeXBlcygpOyB9KTtcbiAgICAgICQoJy5ydWxlLWRlbGV0ZScpLm9uKCdjbGljaycsIChldmVudCkgPT4geyBfdGhpcy5fZGVsZXRlUnVsZSgpOyB9KTtcbiAgICAgICQoJy5ydWxlLXNob3cnKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHsgX3RoaXMuX3Nob3dSdWxlKCk7IH0pO1xuICAgICAgJCgnLnJ1bGUtcHJpb3JpdHktaW5jcmVhc2UnKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHsgX3RoaXMuX2luY3JlYXNlUnVsZVByaW9yaXR5KCk7IH0pO1xuICAgICAgJCgnLnJ1bGUtcHJpb3JpdHktZGVjcmVhc2UnKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHsgX3RoaXMuX2RlY3JlYXNlUnVsZVByaW9yaXR5KCk7IH0pO1xuICAgICAgJCgnLnBvbGljeS1hZGQnKS5vZmYoKTtcbiAgICAgICQoJy5wb2xpY3ktYWRkJykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7IF90aGlzLl9hZGRQb2xpY3koKTsgfSk7XG4gICAgICAkKCcucG9saWN5LWRlbGV0ZScpLm9uKCdjbGljaycsIChldmVudCkgPT4geyBfdGhpcy5fZGVsZXRlUG9saWN5KCk7IH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX2dvSG9tZSgpIHtcbiAgICB0aGlzLl9nZXRBY3RpdmVQb2xpY3koKTtcbiAgICB0aGlzLl9nZXRQb2xpY2llc1RhYmxlKCk7XG4gIH1cblxuICBfaW5jcmVhc2VSdWxlUHJpb3JpdHkoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgaWQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgndHInKS5pZDtcbiAgICBsZXQgc3BsaXRJZCA9IGlkLnNwbGl0KCc6Jyk7XG4gICAgbGV0IHRoaXNQcmlvcml0eSA9IHBhcnNlSW50KHNwbGl0SWRbc3BsaXRJZC5sZW5ndGggLSAxXSk7XG4gICAgaWYgKHRoaXNQcmlvcml0eSAhPT0gMCkge1xuICAgICAgc3BsaXRJZC5wb3AoKTtcbiAgICAgIGxldCBwb2xpY3lUaXRsZSA9IHNwbGl0SWQuam9pbignOicpO1xuICAgICAgbGV0IG5ld1ByaW9yaXR5ID0gdGhpc1ByaW9yaXR5IC0gMTtcblxuICAgICAgX3RoaXMucG9saWNpZXNNYW5hZ2VyLmluY3JlYXNlUnVsZVByaW9yaXR5KHBvbGljeVRpdGxlLCB0aGlzUHJpb3JpdHksIG5ld1ByaW9yaXR5KS50aGVuKCgpID0+IHtcbiAgICAgICAgX3RoaXMuX2dvSG9tZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgX21hbmFnZUdyb3VwcygpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci5nZXRHcm91cHMoKS50aGVuKChncm91cHNQRSkgPT4ge1xuICAgICAgJCgnLmdyb3Vwcy1jdXJyZW50JykuaHRtbCgnJyk7XG4gICAgICBsZXQgZ3JvdXBzID0gZ3JvdXBzUEUuZ3JvdXBzTmFtZXM7XG4gICAgICBsZXQgbWVtYmVycyA9IGdyb3Vwc1BFLm1lbWJlcnM7XG4gICAgICBsZXQgaWRzID0gZ3JvdXBzUEUuaWRzO1xuXG4gICAgICBsZXQgdGFibGUgPSAnPHRhYmxlPic7XG4gICAgICBsZXQgaXNFbXB0eSA9IGdyb3Vwcy5sZW5ndGggPT09IDA7XG5cbiAgICAgIGZvciAobGV0IGkgaW4gZ3JvdXBzKSB7XG4gICAgICAgIHRhYmxlICs9ICc8dGhlYWQ+PHRyPjx0aCBpZD1cIicgKyBncm91cHNbaV0gKyAnXCI+JyArIGdyb3Vwc1tpXSArICc8L3RoPjx0ZCBzdHlsZT1cInRleHQtYWxpZ246cmlnaHRcIj48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zIGNsaWNrYWJsZS1jZWxsIGdyb3VwLWRlbGV0ZVwiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlXCI+ZGVsZXRlX2ZvcmV2ZXI8L2k+PC90ZD48L3RyPjwvdGhlYWQ+PHRib2R5Pic7XG4gICAgICAgIGZvciAobGV0IGogaW4gbWVtYmVyc1tpXSkge1xuICAgICAgICAgIHRhYmxlICs9ICc8dHIgaWQ9XCInICsgaWRzW2ldW2pdICsgJ1wiID48dGQgc3R5bGU9XCJjdXJzb3I6IHBvaW50ZXJcIj4nICsgbWVtYmVyc1tpXVtqXSArICc8L3RkPjx0ZCBzdHlsZT1cInRleHQtYWxpZ246cmlnaHRcIj48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zIGNsaWNrYWJsZS1jZWxsIG1lbWJlci1kZWxldGVcIiBzdHlsZT1cImN1cnNvcjogcG9pbnRlcjsgdmVydGljYWwtYWxpZ246IG1pZGRsZVwiPmNsZWFyPC9pPjwvdGQ+PC90cj4nO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFibGUgKz0gJzx0ciBpZD1cIicgKyBncm91cHNbaV0gKyAnXCI+PHRkPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgY2xpY2thYmxlLWNlbGwgbWVtYmVyLWFkZFwiIGlkPVwiJyArIGdyb3Vwc1tpXSArICdcIiBzdHlsZT1cImN1cnNvcjogcG9pbnRlclwiPmFkZF9jaXJjbGU8L2k+PC90ZD48L3RyPic7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNFbXB0eSkge1xuICAgICAgICB0YWJsZSArPSAnPC90Ym9keT48L3RhYmxlPic7XG4gICAgICAgICQoJy5ncm91cHMtY3VycmVudCcpLmFwcGVuZCh0YWJsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCcuZ3JvdXBzLWN1cnJlbnQnKS5hcHBlbmQoJzxwPlRoZXJlIGFyZSBubyBncm91cHMgc2V0LjwvcD4nKTtcbiAgICAgIH1cblxuICAgICAgJCgnLm1lbWJlci1hZGQnKS5vZmYoKTtcbiAgICAgICQoJy5tZW1iZXItYWRkJykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7IF90aGlzLl9hZGRNZW1iZXIoKTsgfSk7XG4gICAgICAkKCcubWVtYmVyLWRlbGV0ZScpLm9uKCdjbGljaycsIChldmVudCkgPT4geyBfdGhpcy5fZGVsZXRlTWVtYmVyKCk7IH0pO1xuICAgICAgJCgnLmdyb3VwLWFkZCcpLm9mZigpO1xuICAgICAgJCgnLmdyb3VwLWFkZCcpLm9uKCdjbGljaycsIChldmVudCkgPT4geyBfdGhpcy5fY3JlYXRlR3JvdXAoKTsgfSk7XG4gICAgICAkKCcuZ3JvdXAtZGVsZXRlJykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7IF90aGlzLl9kZWxldGVHcm91cCgpOyB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9wYXJzZUZpbGVDb250ZW50KGNvbnRlbnQpIHtcbiAgICBsZXQgcGFyc2VkQ29udGVudCA9IEpTT04ucGFyc2UoY29udGVudCk7XG4gICAgZm9yIChsZXQgaSBpbiBwYXJzZWRDb250ZW50KSB7XG4gICAgICB0aGlzLnBvbGljaWVzTWFuYWdlci5hZGRQb2xpY3koaSwgdW5kZWZpbmVkLCBwYXJzZWRDb250ZW50W2ldKTtcbiAgICB9XG4gICAgJCgnLnBvbGljeS1uZXcnKS5jbG9zZU1vZGFsKCk7XG4gIH1cblxuICBfc2V0RWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGU6IChwYXJhbXMpID0+IHsgcmV0dXJuICc8aW5wdXQgdHlwZT1cImRhdGVcIiBjbGFzcz1cImRhdGVwaWNrZXJcIj4nOyB9LFxuICAgICAgc2VsZWN0OiAocGFyYW1zKSA9PiB7IHJldHVybiB0aGlzLl9nZXRPcHRpb25zKHBhcmFtc1swXSwgcGFyYW1zWzFdLCBwYXJhbXNbMl0pOyB9LFxuICAgICAgZm9ybTogKHBhcmFtcykgPT4geyByZXR1cm4gJzxmb3JtPjxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiJyArIHBhcmFtcyArICdcIj48L2lucHV0PjwvZm9ybT4nOyB9XG4gICAgfTtcbiAgfVxuXG4gIF9zaG93TmV3Q29uZmlndXJhdGlvblBhbmVsKHBvbGljeVRpdGxlKSB7XG4gICAgbGV0IHZhcmlhYmxlID0gZXZlbnQudGFyZ2V0LnRleHQ7XG4gICAgJCgnLnZhcmlhYmxlJykuaHRtbCh0aGlzLl9nZXROZXdDb25maWd1cmF0aW9uKHBvbGljeVRpdGxlLCB2YXJpYWJsZSkpO1xuICAgICQoJy5zY29wZXMnKS5lbXB0eSgpLmh0bWwoJycpO1xuXG4gICAgbGV0IGtleXMgPSBbJ0VtYWlsJywgJ0h5cGVydHknLCAnQWxsJ107XG4gICAgbGV0IHNjb3BlcyA9IFsnaWRlbnRpdHknLCAnaHlwZXJ0eScsICdnbG9iYWwnXTtcbiAgICBsZXQgbGlzdHMgPSBbXTtcblxuICAgIHRoaXMucG9saWNpZXNNYW5hZ2VyLmdldE15RW1haWxzKCkudGhlbigoZW1haWxzKSA9PiB7XG4gICAgICBsaXN0cy5wdXNoKGVtYWlscyk7XG4gICAgICB0aGlzLnBvbGljaWVzTWFuYWdlci5nZXRNeUh5cGVydGllcygpLnRoZW4oKGh5cGVydGllcykgPT4ge1xuICAgICAgICBsaXN0cy5wdXNoKGh5cGVydGllcyk7XG4gICAgICAgIGxpc3RzLnB1c2goWydBbGwgaWRlbnRpdGllcyBhbmQgaHlwZXJ0aWVzJ10pO1xuICAgICAgICAkKCcuc2NvcGVzJykuYXBwZW5kKHRoaXMuX2dldEdyb3VwT3B0aW9ucygnQXBwbHkgdGhpcyBjb25maWd1cmF0aW9uIHRvOicsIGtleXMsIHNjb3BlcywgbGlzdHMpKTtcbiAgICAgICAgJCgnLnZhcmlhYmxlJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX3Nob3dWYXJpYWJsZXNUeXBlcyhldmVudCkge1xuICAgIGxldCBwb2xpY3lUaXRsZSA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCd0cicpLmlkO1xuXG4gICAgJCgnI3ZhcmlhYmxlcy10eXBlcycpLmVtcHR5KCkuaHRtbCgnJyk7XG4gICAgbGV0IHZhcmlhYmxlcyA9IHRoaXMucG9saWNpZXNNYW5hZ2VyLmdldFZhcmlhYmxlcygpO1xuICAgICQoJyN2YXJpYWJsZXMtdHlwZXMnKS5hcHBlbmQodGhpcy5fZ2V0TGlzdCh2YXJpYWJsZXMpKTtcbiAgICAkKCcudmFyaWFibGUnKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICQoJy5ydWxlLW5ldycpLm9wZW5Nb2RhbCgpO1xuICAgICQoJyN2YXJpYWJsZXMtdHlwZXMnKS5vZmYoKTtcbiAgICAkKCcjdmFyaWFibGVzLXR5cGVzJykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7IHRoaXMuX3Nob3dOZXdDb25maWd1cmF0aW9uUGFuZWwocG9saWN5VGl0bGUpOyB9KTtcbiAgfVxuXG4gIF9nZXROZXdDb25maWd1cmF0aW9uKHBvbGljeVRpdGxlLCB2YXJpYWJsZSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGluZm8gPSBfdGhpcy5wb2xpY2llc01hbmFnZXIuZ2V0VmFyaWFibGVJbmZvKHZhcmlhYmxlKTtcbiAgICAkKCcucnVsZS1uZXctdGl0bGUnKS5odG1sKGluZm8udGl0bGUpO1xuICAgICQoJy5kZXNjcmlwdGlvbicpLmh0bWwoaW5mby5kZXNjcmlwdGlvbik7XG4gICAgJCgnLmNvbmZpZycpLmh0bWwoJycpO1xuXG4gICAgaWYgKHZhcmlhYmxlID09PSAnU3Vic2NyaXB0aW9uIHByZWZlcmVuY2VzJykge1xuICAgICAgJCgnLnN1YnNjcmlwdGlvbi10eXBlJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLnN1YnNjcmlwdGlvbi10eXBlJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgIGxldCB0YWdzID0gaW5mby5pbnB1dDtcbiAgICAgIGZvciAobGV0IGkgaW4gdGFncykge1xuICAgICAgICBfdGhpcy5wb2xpY2llc01hbmFnZXIuZ2V0R3JvdXBzTmFtZXMoKS50aGVuKChncm91cHNOYW1lcykgPT4ge1xuICAgICAgICAgIGlmICh2YXJpYWJsZSA9PT0gJ0dyb3VwIG9mIHVzZXJzJykge1xuICAgICAgICAgICAgdGFnc1tpXVsxXS5wdXNoKGdyb3Vwc05hbWVzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgJCgnLmNvbmZpZycpLmFwcGVuZChfdGhpcy5lbGVtZW50c1t0YWdzW2ldWzBdXSh0YWdzW2ldWzFdKSk7XG4gICAgICAgICAgaWYgKHZhcmlhYmxlID09PSAnR3JvdXAgb2YgdXNlcnMnKSB7XG4gICAgICAgICAgICB0YWdzW2ldWzFdLnBvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAodmFyaWFibGUgPT09J2RhdGUnKSB7XG4gICAgICAgICQoJy5kYXRlcGlja2VyJykucGlja2FkYXRlKHtcbiAgICAgICAgICBzZWxlY3RNb250aHM6IHRydWUsXG4gICAgICAgICAgc2VsZWN0WWVhcnM6IDE1XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWxsb3cnKS5jaGVja2VkID0gZmFsc2U7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jsb2NrJykuY2hlY2tlZCA9IGZhbHNlO1xuICAgICQoJy5vay1idG4nKS5vZmYoKTtcbiAgICAkKCcub2stYnRuJykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoJChcImlucHV0W25hbWU9J3J1bGUtbmV3LWRlY2lzaW9uJ106Y2hlY2tlZFwiKVswXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxldCBpbmZvID0gX3RoaXMuX2dldEluZm8odmFyaWFibGUpO1xuICAgICAgICBsZXQgZGVjaXNpb24gPSAkKFwiaW5wdXRbbmFtZT0ncnVsZS1uZXctZGVjaXNpb24nXTpjaGVja2VkXCIpWzBdLmlkO1xuICAgICAgICBkZWNpc2lvbiA9IGRlY2lzaW9uID09PSAnYWxsb3cnO1xuICAgICAgICBsZXQgc2NvcGUgPSAkKCcuc2NvcGVzJykuZmluZChcIjpzZWxlY3RlZFwiKVswXS5pZDtcbiAgICAgICAgbGV0IHRhcmdldCA9ICQoJy5zY29wZXMnKS5maW5kKFwiOnNlbGVjdGVkXCIpWzBdLnRleHRDb250ZW50O1xuICAgICAgICB0YXJnZXQgPSAodGFyZ2V0ID09PSAnQWxsIGlkZW50aXRpZXMgYW5kIGh5cGVydGllcycpID8gJ2dsb2JhbCcgOiB0YXJnZXQ7XG4gICAgICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci5zZXRJbmZvKHZhcmlhYmxlLCBwb2xpY3lUaXRsZSwgaW5mbywgZGVjaXNpb24sIHNjb3BlLCB0YXJnZXQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICQoJy5ydWxlLW5ldycpLmNsb3NlTW9kYWwoKTtcbiAgICAgICAgICBfdGhpcy5fZ29Ib21lKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0lORk9STUFUSU9OIE1JU1NJTkc6IHBsZWFzZSBzcGVjaWZ5IGFuIGF1dGhvcmlzYXRpb24gZGVjaXNpb24uJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfZGVsZXRlSW5mbyhyZXNvdXJjZVR5cGUpIHtcbiAgICBsZXQgaWQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgndHInKS5pZDtcbiAgICBsZXQgc3BsaXRJZCA9IGlkLnNwbGl0KCc6Jyk7XG4gICAgbGV0IHNjb3BlID0gc3BsaXRJZFswXTtcbiAgICBzcGxpdElkLnNoaWZ0KCk7XG4gICAgbGV0IHRhcmdldCA9IHNwbGl0SWQuam9pbignJyk7XG4gICAgbGV0IGNvbmRpdGlvbiA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCd0cicpLmNoaWxkcmVuWzBdLmlkO1xuICAgIHRoaXMucG9saWNpZXNNYW5hZ2VyLmRlbGV0ZUluZm8ocmVzb3VyY2VUeXBlLCBzY29wZSwgdGFyZ2V0LCBjb25kaXRpb24pO1xuICAgIHRoaXMuX2dvSG9tZSgpO1xuICB9XG5cbiAgX3NldExpc3RlbmVycygpIHtcbiAgICAkKCcuc2V0dGluZ3MtYnRuJykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBwYXJlbnQucG9zdE1lc3NhZ2UoeyBib2R5OiB7IG1ldGhvZDogJ3Nob3dBZG1pblBhZ2UnIH0sIHRvOiAncnVudGltZTpndWktbWFuYWdlcicgfSwgJyonKTtcbiAgICAgICQoJy5hZG1pbi1wYWdlJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF0uc3R5bGUgPSAnYmFja2dyb3VuZC1jb2xvcjp3aGl0ZTsnO1xuICAgIH0pO1xuXG4gICAgJCgnLnBvbGljaWVzLXBhZ2Utc2hvdycpLm9uKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgJCgnLnBvbGljaWVzLXNlY3Rpb24nKS5yZW1vdmVDbGFzcygnaGlkZScpO1xuICAgICAgJCgnLmlkZW50aXRpZXMtc2VjdGlvbicpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgICB0aGlzLl9nb0hvbWUoKTtcbiAgICAgIHRoaXMuX21hbmFnZUdyb3VwcygpO1xuICAgIH0pO1xuXG4gICAgJCgnLmFkbWluLXBhZ2UtZXhpdCcpLm9uKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgcGFyZW50LnBvc3RNZXNzYWdlKHsgYm9keTogeyBtZXRob2Q6ICdoaWRlQWRtaW5QYWdlJyB9LCB0bzogJ3J1bnRpbWU6Z3VpLW1hbmFnZXInIH0sICcqJyk7XG4gICAgICAkKCcuYWRtaW4tcGFnZScpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLnN0eWxlID0gJ2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7JztcbiAgICB9KTtcblxuICAgICQoJy5leGl0LWJ0bicpLm9uKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgJCgnLnN1YnNjcmlwdGlvbi10eXBlJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICQoJy5oZWxwLW1lbnUnKS5hZGRDbGFzcygnaGlkZScpO1xuICAgIH0pO1xuXG4gICAgJCgnI3BvbGljeS1maWxlJykub24oJ2NoYW5nZScsIChldmVudCkgPT4ge1xuICAgICAgbGV0IGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07XG4gICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUsIFwiVVRGLThcIik7XG4gICAgICByZWFkZXIub25sb2FkID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuX3BhcnNlRmlsZUNvbnRlbnQoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgIHRoaXMuX2dvSG9tZSgpO1xuICAgICAgfVxuICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJFcnJvciByZWFkaW5nIHRoZSBmaWxlXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX3Nob3dSdWxlKGV2ZW50KSB7XG4gICAgbGV0IHJ1bGVUaXRsZSA9IGV2ZW50LnRhcmdldC50ZXh0Q29udGVudDtcbiAgICBsZXQgaWQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgndHInKS5pZDtcbiAgICBsZXQgc3BsaXRJZCA9IGlkLnNwbGl0KCc6Jyk7XG4gICAgbGV0IHByaW9yaXR5ID0gc3BsaXRJZFtzcGxpdElkLmxlbmd0aCAtIDFdO1xuICAgIHNwbGl0SWQucG9wKCk7XG4gICAgbGV0IHBvbGljeVRpdGxlID0gc3BsaXRJZC5qb2luKCc6Jyk7XG4gICAgdGhpcy5wb2xpY2llc01hbmFnZXIuZ2V0UnVsZU9mUG9saWN5KHBvbGljeVRpdGxlLCBwcmlvcml0eSkudGhlbigocnVsZSkgPT4ge1xuICAgICAgaWYgKHJ1bGUuY29uZGl0aW9uLmF0dHJpYnV0ZSA9PT0gJ3N1YnNjcmlwdGlvbicgJiYgcnVsZS5jb25kaXRpb24ucGFyYW1zID09PSAncHJlYXV0aG9yaXNlZCcpIHtcbiAgICAgICAgJCgnLmF1dGhvcmlzZS1idG5zJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBlbGVtZW50O1xuICAgICAgICBpZiAocnVsZS5kZWNpc2lvbikge1xuICAgICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLWFsbG93Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tYmxvY2snKTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAkKCcuYXV0aG9yaXNlLWJ0bnMnKS5yZW1vdmVDbGFzcygnaGlkZScpO1xuICAgICAgfVxuICAgICAgJCgnLm1lbWJlci1hZGQnKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICAgJCgnLm1lbWJlci1uZXctYnRuJykuYWRkQ2xhc3MoJ2hpZGUnKTtcblxuICAgICAgJCgnLnJ1bGUtZGV0YWlscycpLm9wZW5Nb2RhbCgpO1xuICAgICAgJCgnLnJ1bGUtdGl0bGUnKS5odG1sKCc8aDU+PGI+JyArIHJ1bGVUaXRsZSArICc8L2I+PC9oNT4nKTtcbiAgICAgIGlmIChydWxlLmNvbmRpdGlvbi5hdHRyaWJ1dGUgPT09ICdzdWJzY3JpcHRpb24nKSB7XG4gICAgICAgICQoJy5zdWJzY3JpcHRpb24tdHlwZScpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG4gICAgICB9XG4gICAgICAkKCcuc3Vic2NyaXB0aW9uLWRlY2lzaW9uJykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7IHRoaXMuX3VwZGF0ZVJ1bGUoJ3N1YnNjcmlwdGlvbicsIHBvbGljeVRpdGxlLCBydWxlKTsgfSk7XG4gICAgICAkKCcuZGVjaXNpb24nKS5vZmYoKTtcbiAgICAgICQoJy5kZWNpc2lvbicpLm9uKCdjbGljaycsIChldmVudCkgPT4geyB0aGlzLl91cGRhdGVSdWxlKCdhdXRob3Jpc2F0aW9uJywgcG9saWN5VGl0bGUsIHJ1bGUpO30pO1xuICAgIH0pO1xuICB9XG5cbiAgX3VwZGF0ZVJ1bGUodHlwZSwgcG9saWN5VGl0bGUsIHJ1bGUpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCB0aXRsZSA9ICQoJy5ydWxlLXRpdGxlJykudGV4dCgpO1xuICAgIGxldCBzcGxpdFRpdGxlID0gdGl0bGUuc3BsaXQoJyAnKTtcbiAgICBsZXQgaW5kZXggPSBzcGxpdFRpdGxlLmluZGV4T2YoJ2lzJyk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgaW5kZXggPSBzcGxpdFRpdGxlLmluZGV4T2YoJ2FyZScpO1xuICAgIH1cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ2F1dGhvcmlzYXRpb24nOlxuICAgICAgICBsZXQgbmV3RGVjaXNpb24gPSAkKFwiaW5wdXRbbmFtZT0ncnVsZS11cGRhdGUtZGVjaXNpb24nXTpjaGVja2VkXCIpWzBdLmlkO1xuXG4gICAgICAgIGlmIChuZXdEZWNpc2lvbiA9PT0gJ2J0bi1hbGxvdycpIHtcbiAgICAgICAgICBzcGxpdFRpdGxlW2luZGV4ICsgMV0gPSAnYWxsb3dlZCc7XG4gICAgICAgICAgbmV3RGVjaXNpb24gPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNwbGl0VGl0bGVbaW5kZXggKyAxXSA9ICdibG9ja2VkJztcbiAgICAgICAgICBuZXdEZWNpc2lvbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRpdGxlID0gc3BsaXRUaXRsZS5qb2luKCcgJyk7XG4gICAgICAgICQoJy5ydWxlLXRpdGxlJykuaHRtbCgnPGg1PjxiPicgKyB0aXRsZSArICc8L2I+PC9oNT4nKTtcbiAgICAgICAgX3RoaXMucG9saWNpZXNNYW5hZ2VyLnVwZGF0ZVBvbGljeShwb2xpY3lUaXRsZSwgcnVsZSwgbmV3RGVjaXNpb24pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIF90aGlzLl9nb0hvbWUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3Vic2NyaXB0aW9uJzpcbiAgICAgICAgbGV0IG5ld1N1YnNjcmlwdGlvblR5cGUgPSBldmVudC50YXJnZXQubGFiZWxzWzBdLnRleHRDb250ZW50O1xuXG4gICAgICAgIGxldCBkZWNpc2lvbiA9IHNwbGl0VGl0bGVbaW5kZXggKyAxXTtcbiAgICAgICAgc3BsaXRUaXRsZSA9IHRpdGxlLnNwbGl0KCdoeXBlcnRpZXMgYXJlJyk7XG4gICAgICAgIGlmIChuZXdTdWJzY3JpcHRpb25UeXBlID09PSAnQWxsIHN1YnNjcmliZXJzJykge1xuICAgICAgICAgICQoJy5hdXRob3Jpc2UtYnRucycpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG4gICAgICAgICAgbmV3RGVjaXNpb24gPSBydWxlLmRlY2lzaW9uO1xuICAgICAgICAgIG5ld1N1YnNjcmlwdGlvblR5cGUgPSAnKic7XG4gICAgICAgICAgdGl0bGUgPSAnU3Vic2NyaXB0aW9ucyBmcm9tIGFsbCBoeXBlcnRpZXMgYXJlJyArIHNwbGl0VGl0bGVbMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJCgnLmF1dGhvcmlzZS1idG5zJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgICBuZXdEZWNpc2lvbiA9IHRydWU7XG4gICAgICAgICAgbmV3U3Vic2NyaXB0aW9uVHlwZSA9ICdwcmVhdXRob3Jpc2VkJztcbiAgICAgICAgICB0aXRsZSA9ICdTdWJzY3JpcHRpb25zIGZyb20gcHJldmlvdXNseSBhdXRob3Jpc2VkIGh5cGVydGllcyBhcmUnICsgc3BsaXRUaXRsZVsxXTtcbiAgICAgICAgfVxuXG4gICAgICAgICQoJy5ydWxlLXRpdGxlJykuaHRtbCgnPGg1PjxiPicgKyB0aXRsZSArICc8L2I+PC9oNT4nKTtcbiAgICAgICAgX3RoaXMucG9saWNpZXNNYW5hZ2VyLnVwZGF0ZVBvbGljeShwb2xpY3lUaXRsZSwgcnVsZSwgbmV3RGVjaXNpb24sIG5ld1N1YnNjcmlwdGlvblR5cGUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIF90aGlzLl9nb0hvbWUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb2xpY2llc0dVSTtcbiIsImNsYXNzIFBvbGljaWVzTWFuYWdlciB7XG5cbiAgY29uc3RydWN0b3IocGVwR3VpVVJMLCBwZXBVUkwsIG1lc3NhZ2VCdXMpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIF90aGlzLl9ndWlVUkwgPSBwZXBHdWlVUkw7XG4gICAgX3RoaXMuX3BlcFVSTCA9IHBlcFVSTDtcbiAgICBfdGhpcy5fbWVzc2FnZUJ1cyA9IG1lc3NhZ2VCdXM7XG5cbiAgICAvLyBhc3N1bWUgcHJlcGFyZSBhdHRyaWJ1dGVzIGlzIGNhbGxlZCBhZnRlciB0aGlzXG4gIH1cblxuICBjYWxsUG9saWN5RW5naW5lRnVuYyhtZXRob2ROYW1lLCBwYXJhbWV0ZXJzKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgbWVzc2FnZTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBtZXNzYWdlID0geyB0eXBlOiAnZXhlY3V0ZScsIHRvOiBfdGhpcy5fcGVwVVJMLCBmcm9tOiBfdGhpcy5fZ3VpVVJMLFxuICAgICAgICBib2R5OiB7IHJlc291cmNlOiAncG9saWN5JywgbWV0aG9kOiBtZXRob2ROYW1lLCBwYXJhbXM6IHBhcmFtZXRlcnMgfSwgfTtcbiAgICAgIF90aGlzLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1lc3NhZ2UsIChyZXMpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlcy5ib2R5LnZhbHVlO1xuICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByZXBhcmVBdHRyaWJ1dGVzKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3VzZXJQb2xpY2llcycsIHt9KS50aGVuKCh1c2VyUG9saWNpZXMpID0+IHtcbiAgICAgICAgX3RoaXMucG9saWNpZXMgPSB1c2VyUG9saWNpZXM7XG4gICAgICAgIF90aGlzLnZhcmlhYmxlcyA9IF90aGlzLnNldFZhcmlhYmxlcygpO1xuICAgICAgICBfdGhpcy5hZGRpdGlvbiA9IF90aGlzLnNldEFkZGl0aW9uTWV0aG9kcygpO1xuICAgICAgICBfdGhpcy52YWxpZGF0aW9uID0gX3RoaXMuc2V0VmFsaWRhdGlvbk1ldGhvZHMoKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRUb0dyb3VwKGdyb3VwTmFtZSwgdXNlcikge1xuICAgIHJldHVybiB0aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdhZGRUb0dyb3VwJywge2dyb3VwTmFtZTogZ3JvdXBOYW1lLCB1c2VyRW1haWw6IHVzZXJ9KTtcbiAgfVxuXG4gIGNyZWF0ZUdyb3VwKGdyb3VwTmFtZSkge1xuICAgIHJldHVybiB0aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdjcmVhdGVHcm91cCcsIHtncm91cE5hbWU6IGdyb3VwTmFtZX0pO1xuICB9XG5cbiAgYWRkUG9saWN5KHRpdGxlLCBjb21iaW5pbmdBbGdvcml0aG0sIHBvbGljeSkge1xuICAgIGlmIChwb2xpY3kgPT09IHVuZGVmaW5lZCkge1xuICAgICAgc3dpdGNoIChjb21iaW5pbmdBbGdvcml0aG0pIHtcbiAgICAgICAgY2FzZSAnQmxvY2sgb3ZlcnJpZGVzJzpcbiAgICAgICAgICBjb21iaW5pbmdBbGdvcml0aG0gPSAnYmxvY2tPdmVycmlkZXMnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdBbGxvdyBvdmVycmlkZXMnOlxuICAgICAgICAgIGNvbWJpbmluZ0FsZ29yaXRobSA9ICdhbGxvd092ZXJyaWRlcyc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0ZpcnN0IGFwcGxpY2FibGUnOlxuICAgICAgICAgIGNvbWJpbmluZ0FsZ29yaXRobSA9ICdmaXJzdEFwcGxpY2FibGUnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbWJpbmluZ0FsZ29yaXRobSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnYWRkUG9saWN5JyxcbiAgICAgIHtzb3VyY2U6ICdVU0VSJywga2V5OiB0aXRsZSwgcG9saWN5OiBwb2xpY3ksIGNvbWJpbmluZ0FsZ29yaXRobTogY29tYmluaW5nQWxnb3JpdGhtfSk7XG4gIH1cblxuICBkZWNyZWFzZVJ1bGVQcmlvcml0eShwb2xpY3lUaXRsZSwgdGhpc1ByaW9yaXR5LCBuZXdQcmlvcml0eSkge1xuICAgIHRoaXMuZ2V0UnVsZU9mUG9saWN5KHBvbGljeVRpdGxlLCBuZXdQcmlvcml0eSkucHJpb3JpdHkgPSB0aGlzUHJpb3JpdHk7XG4gICAgdGhpcy5nZXRSdWxlT2ZQb2xpY3kocG9saWN5VGl0bGUsIHRoaXNQcmlvcml0eSkucHJpb3JpdHkgPSBuZXdQcmlvcml0eTtcbiAgICByZXR1cm4gdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnc2F2ZVBvbGljaWVzJywge3NvdXJjZTogJ1VTRVInfSk7XG4gIH1cblxuICBkZWxldGVHcm91cChncm91cE5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnZGVsZXRlR3JvdXAnLCB7Z3JvdXBOYW1lOiBncm91cE5hbWV9KTtcbiAgfVxuXG4gIGRlbGV0ZVBvbGljeSh0aXRsZSkge1xuICAgIHJldHVybiB0aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdyZW1vdmVQb2xpY3knLCB7c291cmNlOiAnVVNFUicsIGtleTogdGl0bGV9KTtcbiAgfVxuXG4gIGRlbGV0ZVJ1bGUocG9saWN5VGl0bGUsIHJ1bGUpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCd1c2VyUG9saWNpZXMnLCB7fSkudGhlbigodXNlclBvbGljaWVzKSA9PiB7XG4gICAgICAgIHVzZXJQb2xpY2llc1twb2xpY3lUaXRsZV0uZGVsZXRlUnVsZShydWxlKTtcbiAgICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3NhdmVQb2xpY2llcycsIHtzb3VyY2U6ICdVU0VSJ30pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEFjdGl2ZVBvbGljeSgpIHtcbiAgICByZXR1cm4gdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnYWN0aXZlVXNlclBvbGljeScsIHt9KTtcbiAgfVxuXG4gIGdldFBvbGljeShrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygndXNlclBvbGljeScsIHtrZXk6IGtleX0pO1xuICB9XG5cbiAgZ2V0UG9saWNpZXNUaXRsZXMoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3VzZXJQb2xpY2llcycsIHt9KS50aGVuKChwb2xpY2llcykgPT4ge1xuICAgICAgICBsZXQgdGl0bGVzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSBpbiBwb2xpY2llcykge1xuICAgICAgICAgIHRpdGxlcy5wdXNoKGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzb2x2ZSh0aXRsZXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRUYXJnZXRzKHNjb3BlKSB7XG4gICAgbGV0IHRhcmdldHMgPSBbXTtcblxuICAgIGZvciAobGV0IGkgaW4gdGhpcy5wb2xpY2llc1tzY29wZV0pIHtcbiAgICAgIGlmICh0YXJnZXRzLmluZGV4T2YoaSkgPT09IC0xKSB7XG4gICAgICAgIHRhcmdldHMucHVzaChpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0cztcbiAgfVxuXG4gIGluY3JlYXNlUnVsZVByaW9yaXR5KHBvbGljeVRpdGxlLCB0aGlzUHJpb3JpdHksIG5ld1ByaW9yaXR5KSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBfdGhpcy5nZXRSdWxlT2ZQb2xpY3kocG9saWN5VGl0bGUsIHRoaXNQcmlvcml0eSkucHJpb3JpdHkgPSBuZXdQcmlvcml0eTtcbiAgICBfdGhpcy5nZXRSdWxlT2ZQb2xpY3kocG9saWN5VGl0bGUsIG5ld1ByaW9yaXR5KS5wcmlvcml0eSA9IHRoaXNQcmlvcml0eTtcbiAgICByZXR1cm4gX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3NhdmVQb2xpY2llcycsIHtzb3VyY2U6ICdVU0VSJ30pO1xuICB9XG5cbiAgc2V0VmFyaWFibGVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICAnRGF0ZSc6IHtcbiAgICAgICAgdGl0bGU6ICc8YnI+PGg1PlVwZGF0aW5nIGRhdGUgcmVsYXRlZCBjb25maWd1cmF0aW9uczwvaDU+PHA+SW5jb21pbmcgY29tbXVuaWNhdGlvbnMgaW4gdGhlIGludHJvZHVjZWQgZGF0ZSB3aWxsIGJlIGFsbG93ZWQgb3IgYmxvY2tlZCBhY2NvcmRpbmcgdG8geW91ciBjb25maWd1cmF0aW9ucywgd2hpY2ggY2FuIGJlIGNoYW5nZWQgaW4gdGhlIHByZWZlcmVuY2VzIHBhZ2UuPC9wPjxicj4nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJzxwPkRhdGU6PC9wPicsXG4gICAgICAgIGlucHV0OiBbXG4gICAgICAgICAgWydkYXRlJywgW11dXG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICAnRG9tYWluJzoge1xuICAgICAgICB0aXRsZTogJzxicj48aDU+VXBkYXRpbmcgZG9tYWluIGNvbmZpZ3VyYXRpb25zPC9oNT48cD5JbmNvbWluZyBjb21tdW5pY2F0aW9ucyBmcm9tIGEgdXNlciB3aG9zZSBpZGVudGl0eSBpcyBmcm9tIHRoZSBpbnRyb2R1Y2VkIGRvbWFpbiBhbGxvd2VkIG9yIGJsb2NrZWQgYWNjb3JkaW5nIHRvIHlvdXIgY29uZmlndXJhdGlvbnMsIHdoaWNoIGNhbiBiZSBjaGFuZ2VkIGluIHRoZSBwcmVmZXJlbmNlcyBwYWdlLjwvcD48YnI+JyxcbiAgICAgICAgZGVzY3JpcHRpb246ICc8cD5Eb21haW46PC9wPicsXG4gICAgICAgIGlucHV0OiBbXG4gICAgICAgICAgWydmb3JtJywgW11dXG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICAnR3JvdXAgb2YgdXNlcnMnOiB7XG4gICAgICAgIHRpdGxlOiAnPGJyPjxoNT5VcGRhdGluZyBncm91cHMgY29uZmlndXJhdGlvbnM8L2g1PjxwPkluY29taW5nIGNvbW11bmljYXRpb25zIGZyb20gYSB1c2VyIHdob3NlIGlkZW50aXR5IGlzIGluIHRoZSBpbnRyb2R1Y2VkIGdyb3VwIHdpbGwgYmUgYWxsb3dlZCBvciBibG9ja2VkIGFjY29yZGluZyB0byB5b3VyIGNvbmZpZ3VyYXRpb25zLCB3aGljaCBjYW4gYmUgY2hhbmdlZCBpbiB0aGUgcHJlZmVyZW5jZXMgcGFnZS48L3A+PGJyPicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnPHA+R3JvdXAgbmFtZTo8L3A+JyxcbiAgICAgICAgaW5wdXQ6IFtcbiAgICAgICAgICBbJ3NlbGVjdCcsIFsnZ3JvdXAnLCAnU2VsZWN0IGEgZ3JvdXA6J11dXG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICAnU3Vic2NyaXB0aW9uIHByZWZlcmVuY2VzJzoge1xuICAgICAgICB0aXRsZTogJzxicj48aDU+VXBkYXRpbmcgc3Vic2NyaXB0aW9ucyBjb25maWd1cmF0aW9uczwvaDU+PHA+VGhlIGFjY2VwdGFuY2Ugb2Ygc3Vic2NyaXB0aW9ucyB0byB5b3VyIGh5cGVydGllcyB3aWxsIGJlIGFsbG93ZWQgb3IgYmxvY2tlZCBhY2NvcmRpbmcgdG8geW91ciBjb25maWd1cmF0aW9ucywgd2hpY2ggY2FuIGJlIGNoYW5nZWQgaW4gdGhlIHByZWZlcmVuY2VzIHBhZ2UuPC9wPjxicj4nLFxuICAgICAgICBpbnB1dDogW11cbiAgICAgIH0sXG4gICAgICAnVGltZSBvZiB0aGUgZGF5Jzoge1xuICAgICAgICB0aXRsZTogJzxicj48aDU+VXBkYXRpbmcgdGltZSBjb25maWd1cmF0aW9uczwvaDU+PHA+SW5jb21pbmcgY29tbXVuaWNhdGlvbnMgaW4gdGhlIGludHJvZHVjZWQgdGltZXNsb3Qgd2lsbCBiZSBibG9ja2VkLCBidXQgdGhpcyBjYW4gYmUgY2hhbmdlZCBpbiB0aGUgcHJlZmVyZW5jZXMgcGFnZS48L3A+PHA+UGxlYXNlIGludHJvZHVjZSBhIG5ldyB0aW1lc2xvdCBpbiB0aGUgZm9sbG93aW5nIGZvcm1hdDo8L3A+PHAgY2xhc3M9XCJjZW50ZXItYWxpZ25cIj4mbHQ7U1RBUlQtSE9VUiZndDs6Jmx0O1NUQVJULU1JTlVURVMmZ3Q7IHRvICZsdDtFTkQtSE9VUiZndDs6Jmx0O0VORC1NSU5VVEVTJmd0OzwvcD48YnI+JyxcbiAgICAgICAgZGVzY3JpcHRpb246ICc8cD5UaW1lc2xvdDo8L3A+JyxcbiAgICAgICAgaW5wdXQ6IFtcbiAgICAgICAgICBbJ2Zvcm0nLCBbXV1cbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIFdlZWtkYXk6IHtcbiAgICAgICAgdGl0bGU6ICc8YnI+PGg1PlVwZGF0aW5nIHdlZWtkYXkgY29uZmlndXJhdGlvbnM8L2g1PjxwPkluY29taW5nIGNvbW11bmljYXRpb25zIGluIHRoZSBpbnRyb2R1Y2VkIHdlZWtkYXkgd2lsbCBiZSBhbGxvd2VkIG9yIGJsb2NrZWQgYWNjb3JkaW5nIHRvIHlvdXIgY29uZmlndXJhdGlvbnMsIHdoaWNoIGNhbiBiZSBjaGFuZ2VkIGluIHRoZSBwcmVmZXJlbmNlcyBwYWdlLjwvcD48YnI+JyxcbiAgICAgICAgZGVzY3JpcHRpb246ICc8cD5XZWVrZGF5OjwvcD4nLFxuICAgICAgICBpbnB1dDogW1xuICAgICAgICAgIFsnc2VsZWN0JywgWyd3ZWVrZGF5JywgJ1NlbGVjdCBhIHdlZWtkYXk6JywgWydTYXR1cmRheScsICdTdW5kYXknLCAnTW9uZGF5JywgJ1R1ZXNkYXknLCAnV2VkbmVzZGF5JywgJ1RodXJzZGF5JywgJ0ZyaWRheSddXV1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBzZXRBZGRpdGlvbk1ldGhvZHMoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICByZXR1cm4ge1xuICAgICAgRGF0ZTogKHBhcmFtcykgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGxldCBwb2xpY3lUaXRsZSA9IHBhcmFtc1swXTtcbiAgICAgICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygndXNlclBvbGljaWVzJywge30pLnRoZW4oKHVzZXJQb2xpY2llcykgPT4ge1xuICAgICAgICAgICAgdXNlclBvbGljaWVzW3BvbGljeVRpdGxlXS5jcmVhdGVSdWxlKHBhcmFtc1s0XSwgeyBhdHRyaWJ1dGU6ICdkYXRlJywgb3BlcmF0b3I6ICdlcXVhbHMnLCBwYXJhbXM6IHBhcmFtc1szXSB9LCBwYXJhbXNbMV0sIHBhcmFtc1syXSk7XG4gICAgICAgICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnc2F2ZVBvbGljaWVzJywge3NvdXJjZTogJ1VTRVInfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBEb21haW46IChwYXJhbXMpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBsZXQgcG9saWN5VGl0bGUgPSBwYXJhbXNbMF07XG4gICAgICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3VzZXJQb2xpY2llcycsIHt9KS50aGVuKCh1c2VyUG9saWNpZXMpID0+IHtcbiAgICAgICAgICAgIHVzZXJQb2xpY2llc1twb2xpY3lUaXRsZV0uY3JlYXRlUnVsZShwYXJhbXNbNF0sIHsgYXR0cmlidXRlOiAnZG9tYWluJywgb3BlcmF0b3I6ICdlcXVhbHMnLCBwYXJhbXM6IHBhcmFtc1szXSB9LCBwYXJhbXNbMV0sIHBhcmFtc1syXSk7XG4gICAgICAgICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnc2F2ZVBvbGljaWVzJywge3NvdXJjZTogJ1VTRVInfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICAnR3JvdXAgb2YgdXNlcnMnOiAocGFyYW1zKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgbGV0IHBvbGljeVRpdGxlID0gcGFyYW1zWzBdO1xuICAgICAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCd1c2VyUG9saWNpZXMnLCB7fSkudGhlbigodXNlclBvbGljaWVzKSA9PiB7XG4gICAgICAgICAgICB1c2VyUG9saWNpZXNbcG9saWN5VGl0bGVdLmNyZWF0ZVJ1bGUocGFyYW1zWzRdLCB7IGF0dHJpYnV0ZTogJ3NvdXJjZScsIG9wZXJhdG9yOiAnaW4nLCBwYXJhbXM6IHBhcmFtc1szXSB9LCBwYXJhbXNbMV0sIHBhcmFtc1syXSk7XG4gICAgICAgICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnc2F2ZVBvbGljaWVzJywge3NvdXJjZTogJ1VTRVInfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICAnU3Vic2NyaXB0aW9uIHByZWZlcmVuY2VzJzogKHBhcmFtcykgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGxldCBwb2xpY3lUaXRsZSA9IHBhcmFtc1swXTtcbiAgICAgICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygndXNlclBvbGljaWVzJywge30pLnRoZW4oKHVzZXJQb2xpY2llcykgPT4ge1xuICAgICAgICAgICAgbGV0IG9wZXJhdG9yID0gJ2VxdWFscyc7XG4gICAgICAgICAgICBpZiAocGFyYW1zWzNdID09PSAncHJlYXV0aG9yaXNlZCcpIHtcbiAgICAgICAgICAgICAgb3BlcmF0b3IgPSAnaW4nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUSUFHTzogdGhpcyBpcyBnaXZpbmcgbWUgYW4gZXJyb3IuLi5cbiAgICAgICAgICAgIHVzZXJQb2xpY2llc1twb2xpY3lUaXRsZV0uY3JlYXRlUnVsZShwYXJhbXNbNF0sIHsgYXR0cmlidXRlOiAnc3Vic2NyaXB0aW9uJywgb3BlcmF0b3I6IG9wZXJhdG9yLCBwYXJhbXM6IHBhcmFtc1szXSB9LCBwYXJhbXNbMV0sIHBhcmFtc1syXSk7XG4gICAgICAgICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnc2F2ZVBvbGljaWVzJywge3NvdXJjZTogJ1VTRVInfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICAnVGltZSBvZiB0aGUgZGF5JzogKHBhcmFtcykgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGxldCBwb2xpY3lUaXRsZSA9IHBhcmFtc1swXTtcbiAgICAgICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygndXNlclBvbGljaWVzJywge30pLnRoZW4oKHVzZXJQb2xpY2llcykgPT4ge1xuICAgICAgICAgICAgcGFyYW1zWzNdID0gcGFyYW1zWzNdLnNwbGl0KCcgdG8gJyk7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSBwYXJhbXNbM11bMF0uc3BsaXQoJzonKTtcbiAgICAgICAgICAgIHN0YXJ0ID0gc3RhcnQuam9pbignJyk7XG4gICAgICAgICAgICBsZXQgZW5kID0gcGFyYW1zWzNdWzFdLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICBlbmQgPSBlbmQuam9pbignJyk7XG4gICAgICAgICAgICB1c2VyUG9saWNpZXNbcG9saWN5VGl0bGVdLmNyZWF0ZVJ1bGUocGFyYW1zWzRdLCB7IGF0dHJpYnV0ZTogJ3RpbWUnLCBvcGVyYXRvcjogJ2JldHdlZW4nLCBwYXJhbXM6IFtzdGFydCwgZW5kXSB9LCBwYXJhbXNbMV0sIHBhcmFtc1syXSk7XG4gICAgICAgICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnc2F2ZVBvbGljaWVzJywge3NvdXJjZTogJ1VTRVInfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIFdlZWtkYXk6IChwYXJhbXMpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBsZXQgd2Vla2RheXMgPSBbJ1N1bmRheScsICdNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5JywgJ1NhdHVyZGF5J107XG4gICAgICAgICAgcGFyYW1zWzNdID0gd2Vla2RheXMuaW5kZXhPZihwYXJhbXNbM10pO1xuICAgICAgICAgIGxldCBwb2xpY3lUaXRsZSA9IHBhcmFtc1swXTtcbiAgICAgICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygndXNlclBvbGljaWVzJywge30pLnRoZW4oKHVzZXJQb2xpY2llcykgPT4ge1xuICAgICAgICAgICAgdXNlclBvbGljaWVzW3BvbGljeVRpdGxlXS5jcmVhdGVSdWxlKHBhcmFtc1s0XSwgeyBhdHRyaWJ1dGU6ICd3ZWVrZGF5Jywgb3BlcmF0b3I6ICdlcXVhbHMnLCBwYXJhbXM6IHBhcmFtc1szXSB9LCBwYXJhbXNbMV0sIHBhcmFtc1syXSk7XG4gICAgICAgICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnc2F2ZVBvbGljaWVzJywge3NvdXJjZTogJ1VTRVInfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgc2V0VmFsaWRhdGlvbk1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIERhdGU6IChzY29wZSwgaW5mbykgPT4geyByZXR1cm4gdGhpcy5pc1ZhbGlkRGF0ZShpbmZvKSAmIHRoaXMuaXNWYWxpZFNjb3BlKHNjb3BlKTsgfSxcbiAgICAgICdHcm91cCBvZiB1c2Vycyc6IChzY29wZSwgaW5mbykgPT4geyByZXR1cm4gdGhpcy5pc1ZhbGlkU3RyaW5nKGluZm8pICYgdGhpcy5pc1ZhbGlkU2NvcGUoc2NvcGUpOyB9LFxuICAgICAgRG9tYWluOiAoc2NvcGUsIGluZm8pID0+IHsgcmV0dXJuIHRoaXMuaXNWYWxpZERvbWFpbihpbmZvKSAmIHRoaXMuaXNWYWxpZFNjb3BlKHNjb3BlKTsgfSxcbiAgICAgIFdlZWtkYXk6IChzY29wZSwgaW5mbykgPT4geyByZXR1cm4gdHJ1ZSAmIHRoaXMuaXNWYWxpZFNjb3BlKHNjb3BlKTsgfSxcbiAgICAgICdTdWJzY3JpcHRpb24gcHJlZmVyZW5jZXMnOiAoc2NvcGUsIGluZm8pID0+IHsgcmV0dXJuIHRoaXMuaXNWYWxpZFN1YnNjcmlwdGlvblR5cGUoaW5mbykgJiB0aGlzLmlzVmFsaWRTY29wZShzY29wZSk7IH0sXG4gICAgICAnVGltZSBvZiB0aGUgZGF5JzogKHNjb3BlLCBpbmZvKSA9PiB7IHJldHVybiB0aGlzLmlzVmFsaWRUaW1lc2xvdChpbmZvKSAmIHRoaXMuaXNWYWxpZFNjb3BlKHNjb3BlKTsgfVxuICAgIH07XG4gIH1cblxuICB1cGRhdGVBY3RpdmVQb2xpY3kodGl0bGUpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnYWN0aXZlVXNlclBvbGljeScsIHt1c2VyUG9saWN5OiB0aXRsZX0pLnRoZW4oKCkgPT4ge1xuICAgICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnc2F2ZUFjdGl2ZVBvbGljeScsIHt9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBpc1ZhbGlkRW1haWwoaW5mbykge1xuICAgIGxldCBwYXR0ZXJuID0gL1thLXowLTkuXyUrLV0rQFthLXowLTkuLV0rXFwuW2Etel17MiwzfSQvO1xuICAgIHJldHVybiBwYXR0ZXJuLnRlc3QoaW5mbyk7XG4gIH1cblxuICBpc1ZhbGlkRG9tYWluKGluZm8pIHtcbiAgICBsZXQgcGF0dGVybiA9IC9bYS16MC05Li1dK1xcLlthLXpdezIsM30kLztcbiAgICByZXR1cm4gcGF0dGVybi50ZXN0KGluZm8pO1xuICB9XG5cbiAgaXNWYWxpZFN0cmluZyhpbmZvKSB7XG4gICAgbGV0IHBhdHRlcm4gPSAvW2EtejAtOS4tXSQvO1xuICAgIHJldHVybiBwYXR0ZXJuLnRlc3QoaW5mbyk7XG4gIH1cblxuICBpc1ZhbGlkU3Vic2NyaXB0aW9uVHlwZShpbmZvKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpc1ZhbGlkRGF0ZShpbmZvKSB7XG4gICAgbGV0IGluZm9TcGxpdCA9IGluZm8uc3BsaXQoJy8nKTtcbiAgICBsZXQgZGF5ID0gcGFyc2VJbnQoaW5mb1NwbGl0WzBdKTtcbiAgICBsZXQgbW9udGggPSBwYXJzZUludChpbmZvU3BsaXRbMV0pO1xuICAgIGxldCB5ZWFyID0gcGFyc2VJbnQoaW5mb1NwbGl0WzJdKTtcblxuICAgIGxldCBkYXRlID0gbmV3IERhdGUoeWVhciwgbW9udGgtMSwgZGF5KTtcbiAgICBsZXQgaXNWYWxpZEZvcm1hdCA9IGRhdGUuZ2V0RnVsbFllYXIoKSA9PT0geWVhciAmJiBkYXRlLmdldE1vbnRoKCkgKyAxID09PSBtb250aCAmJiBkYXRlLmdldERhdGUoKSA9PT0gZGF5O1xuICAgIGxldCBmb3JtYXR0ZWREYXRlID0gZGF0ZS5nZXREYXRlKCkgKyAnLycgKyAoZGF0ZS5nZXRNb250aCgpICsgMSkgKyAnLycgKyBkYXRlLmdldEZ1bGxZZWFyKClcbiAgICBsZXQgbm93ID0gbmV3IERhdGUoKTtcbiAgICBsZXQgdG9kYXkgPSBub3cuZ2V0RGF0ZSgpICsgJy8nICsgKG5vdy5nZXRNb250aCgpICsgMSkgKyAnLycgKyBub3cuZ2V0RnVsbFllYXIoKTtcblxuICAgIGxldCBpc0Z1dHVyZSA9IGZhbHNlO1xuICAgIGlmIChkYXRlLmdldEZ1bGxZZWFyKCkgPiBub3cuZ2V0RnVsbFllYXIoKSkge1xuICAgICAgaXNGdXR1cmUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZGF0ZS5nZXRGdWxsWWVhcigpID09IG5vdy5nZXRGdWxsWWVhcigpKSB7XG4gICAgICAgIGlmICgoZGF0ZS5nZXRNb250aCgpICsgMSkgPiAobm93LmdldE1vbnRoKCkgKyAxKSkge1xuICAgICAgICAgIGlzRnV0dXJlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoKGRhdGUuZ2V0TW9udGgoKSArIDEpID09IChub3cuZ2V0TW9udGgoKSArIDEpKSB7XG4gICAgICAgICAgICBpZiAoZGF0ZS5nZXREYXRlKCkgPj0gKG5vdy5nZXREYXRlKCkpKSB7XG4gICAgICAgICAgICAgIGlzRnV0dXJlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gKGlzVmFsaWRGb3JtYXQgJiYgaXNGdXR1cmUpO1xuICB9XG5cbiAgaXNWYWxpZFNjb3BlKHNjb3BlKSB7XG4gICAgcmV0dXJuIHNjb3BlICE9PSAnJztcbiAgfVxuXG4gIGlzVmFsaWRUaW1lc2xvdChpbmZvKSB7XG4gICAgaWYgKCFpbmZvKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCBzcGxpdEluZm8gPSBpbmZvLnNwbGl0KCcgdG8gJyk7IC8vIFsxMjowMCwgMTM6MDBdXG4gICAgbGV0IHR3b1RpbWVzID0gc3BsaXRJbmZvLmxlbmd0aCA9PT0gMjtcbiAgICBpZiAoIXR3b1RpbWVzKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCBzcGxpdFN0YXJ0ID0gc3BsaXRJbmZvWzBdLnNwbGl0KCc6Jyk7IC8vIFsxMiwgMDBdXG4gICAgbGV0IHNwbGl0RW5kID0gc3BsaXRJbmZvWzFdLnNwbGl0KCc6Jyk7IC8vIFsxMywgMDBdXG4gICAgaWYgKHNwbGl0U3RhcnQubGVuZ3RoICE9PSAyIHx8IHNwbGl0RW5kLmxlbmd0aCAhPT0gMikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgb2tTaXplID0gKHNwbGl0U3RhcnRbMF0ubGVuZ3RoID09PSAyKSAmJiAoc3BsaXRTdGFydFsxXS5sZW5ndGggPT09IDIpICYmIChzcGxpdEVuZFswXS5sZW5ndGggPT09IDIpICYmIChzcGxpdEVuZFsxXS5sZW5ndGggPT09IDIpO1xuICAgIGxldCBhcmVJbnRlZ2VycyA9IChzcGxpdFN0YXJ0WzBdID09IHBhcnNlSW50KHNwbGl0U3RhcnRbMF0sIDEwKSkgJiYgKHNwbGl0U3RhcnRbMV0gPT0gcGFyc2VJbnQoc3BsaXRTdGFydFsxXSwgMTApKSAmJiAoc3BsaXRFbmRbMF0gPT0gcGFyc2VJbnQoc3BsaXRFbmRbMF0sIDEwKSkgJiYgKHNwbGl0RW5kWzFdID09IHBhcnNlSW50KHNwbGl0RW5kWzFdLCAxMCkpO1xuICAgIHJldHVybiB0d29UaW1lcyAmJiBva1NpemUgJiYgYXJlSW50ZWdlcnM7XG4gIH1cblxuICBnZXRGb3JtYXR0ZWRQb2xpY2llcygpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygndXNlclBvbGljaWVzJywge30pLnRoZW4oKHBvbGljaWVzUEUpID0+IHtcbiAgICAgICAgbGV0IHBvbGljaWVzR1VJID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSBpbiBwb2xpY2llc1BFKSB7XG4gICAgICAgICAgbGV0IHBvbGljeSA9IHtcbiAgICAgICAgICAgIHRpdGxlOiBwb2xpY2llc1BFW2ldLmtleSxcbiAgICAgICAgICAgIHJ1bGVzVGl0bGVzOiBbXSxcbiAgICAgICAgICAgIGlkczogW11cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocG9saWNpZXNQRVtpXS5ydWxlcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHBvbGljaWVzUEVbaV0ucnVsZXMgPSBwb2xpY2llc1BFW2ldLnNvcnRSdWxlcygpO1xuICAgICAgICAgICAgZm9yIChsZXQgaiBpbiBwb2xpY2llc1BFW2ldLnJ1bGVzKSB7XG4gICAgICAgICAgICAgIGxldCB0aXRsZSA9IF90aGlzLl9nZXRUaXRsZShwb2xpY2llc1BFW2ldLnJ1bGVzW2pdKTtcbiAgICAgICAgICAgICAgcG9saWN5LnJ1bGVzVGl0bGVzLnB1c2godGl0bGUpO1xuICAgICAgICAgICAgICBwb2xpY3kuaWRzLnB1c2gocG9saWN5LnRpdGxlICsgJzonICsgcG9saWNpZXNQRVtpXS5ydWxlc1tqXS5wcmlvcml0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcG9saWNpZXNHVUkucHVzaChwb2xpY3kpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzb2x2ZShwb2xpY2llc0dVSSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldFJ1bGVPZlBvbGljeSh0aXRsZSwgcHJpb3JpdHkpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygndXNlclBvbGljaWVzJywge30pLnRoZW4oKHBvbGljaWVzKSA9PiB7XG4gICAgICAgIGxldCBwb2xpY3kgPSBwb2xpY2llc1t0aXRsZV07XG4gICAgICAgIHJlc29sdmUocG9saWN5LmdldFJ1bGVCeVByaW9yaXR5KHByaW9yaXR5KSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9nZXRUaXRsZShydWxlKSB7XG4gICAgbGV0IGNvbmRpdGlvbiA9IHJ1bGUuY29uZGl0aW9uO1xuICAgIGxldCBhdXRob3Jpc2UgPSAocnVsZS5kZWNpc2lvbikgPyAnYWxsb3dlZCcgOiAnYmxvY2tlZCc7XG4gICAgbGV0IHRhcmdldCA9IHJ1bGUudGFyZ2V0ID09PSAnZ2xvYmFsJyA/ICdBbGwgaWRlbnRpdGllcyBhbmQgaHlwZXJ0aWVzJyA6IHJ1bGUudGFyZ2V0O1xuICAgIGxldCBhdHRyaWJ1dGUgPSBjb25kaXRpb24uYXR0cmlidXRlO1xuICAgIHN3aXRjaChhdHRyaWJ1dGUpIHtcbiAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICByZXR1cm4gJ0RhdGUgJyArIGNvbmRpdGlvbi5wYXJhbXMgKyAnIGlzICcgKyBhdXRob3Jpc2UgKyAnICgnICsgdGFyZ2V0ICsgJyknO1xuICAgICAgY2FzZSAnZG9tYWluJzpcbiAgICAgICAgcmV0dXJuICdEb21haW4gXFxcIicgKyBjb25kaXRpb24ucGFyYW1zICsgJ1xcXCIgaXMgJyArIGF1dGhvcmlzZSArICcgKCcgKyB0YXJnZXQgKyAnKSc7XG4gICAgICBjYXNlICdzb3VyY2UnOlxuICAgICAgICBpZiAoY29uZGl0aW9uLm9wZXJhdG9yID09PSAnaW4nKSB7XG4gICAgICAgICAgcmV0dXJuICdHcm91cCBcXFwiJyArIGNvbmRpdGlvbi5wYXJhbXMgKyAnXFxcIiBpcyAnICsgYXV0aG9yaXNlICsgJyAoJyArIHRhcmdldCArICcpJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoY29uZGl0aW9uLm9wZXJhdG9yID09PSAnZXF1YWxzJykge1xuICAgICAgICAgICAgcmV0dXJuICdVc2VyICcgKyBjb25kaXRpb24ucGFyYW1zICsgJyBpcyAnICsgYXV0aG9yaXNlICsgJyAoJyArIHRhcmdldCArICcpJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ3N1YnNjcmlwdGlvbic6XG4gICAgICAgIGlmIChjb25kaXRpb24ucGFyYW1zID09PSAnKicpIHtcbiAgICAgICAgICByZXR1cm4gJ1N1YnNjcmlwdGlvbnMgZnJvbSBhbGwgaHlwZXJ0aWVzIGFyZSAnICsgYXV0aG9yaXNlICsgJyAoJyArIHRhcmdldCArICcpJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoY29uZGl0aW9uLnBhcmFtcyA9PT0gJ3ByZWF1dGhvcmlzZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1N1YnNjcmlwdGlvbnMgZnJvbSBwcmV2aW91c2x5IGF1dGhvcmlzZWQgaHlwZXJ0aWVzIGFyZSBhbGxvd2VkICgnICsgdGFyZ2V0ICsgJyknO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgY2FzZSAndGltZSc6XG4gICAgICAgIGxldCBzdGFydCA9IGNvbmRpdGlvbi5wYXJhbXNbMF1bMF0gKyBjb25kaXRpb24ucGFyYW1zWzBdWzFdICsgJzonICsgY29uZGl0aW9uLnBhcmFtc1swXVsyXSArIGNvbmRpdGlvbi5wYXJhbXNbMF1bM107XG4gICAgICAgIGxldCBlbmQgPSBjb25kaXRpb24ucGFyYW1zWzFdWzBdICsgY29uZGl0aW9uLnBhcmFtc1sxXVsxXSArICc6JyArIGNvbmRpdGlvbi5wYXJhbXNbMV1bMl0gKyBjb25kaXRpb24ucGFyYW1zWzFdWzNdO1xuICAgICAgICByZXR1cm4gJ1RpbWVzbG90IGZyb20gJyArIHN0YXJ0ICsgJyB0byAnICsgZW5kICsgJyBpcyAnICsgYXV0aG9yaXNlICsgJyAoJyArIHRhcmdldCArICcpJztcbiAgICAgIGNhc2UgJ3dlZWtkYXknOlxuICAgICAgICBsZXQgd2Vla2RheXMgPSBbJ1N1bmRheScsICdNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5JywgJ1NhdHVyZGF5J107XG4gICAgICAgIGxldCB3ZWVrZGF5SUQgPSBjb25kaXRpb24ucGFyYW1zO1xuICAgICAgICByZXR1cm4gJ1dlZWtkYXkgXFxcIicgKyB3ZWVrZGF5c1t3ZWVrZGF5SURdICsgJ1xcXCIgaXMgJyArIGF1dGhvcmlzZSArICcgKCcgKyB0YXJnZXQgKyAnKSc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJ1J1bGUgJyArIHJ1bGUucHJpb3JpdHkgKyAnIGlzICcgKyBhdXRob3Jpc2UgKyAnICgnICsgdGFyZ2V0ICsgJyknO1xuICAgIH1cbiAgfVxuXG4gIGdldFZhcmlhYmxlcygpIHtcbiAgICBsZXQgdmFyaWFibGVzVGl0bGVzID0gW107XG4gICAgZm9yIChsZXQgaSBpbiB0aGlzLnZhcmlhYmxlcykge1xuICAgICAgdmFyaWFibGVzVGl0bGVzLnB1c2goaSk7XG4gICAgfVxuICAgIHJldHVybiB2YXJpYWJsZXNUaXRsZXM7XG4gIH1cblxuICBnZXRWYXJpYWJsZUluZm8odmFyaWFibGUpIHtcbiAgICByZXR1cm4gdGhpcy52YXJpYWJsZXNbdmFyaWFibGVdO1xuICB9XG5cbiAgZ2V0TXlFbWFpbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ2dldE15RW1haWxzJywge30pO1xuICB9XG5cbiAgZ2V0TXlIeXBlcnRpZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ2dldE15SHlwZXJ0aWVzJywge30pO1xuICB9XG5cbiAgLy9UT0RPIElmIHRoZXJlIGlzIGEgcHJvYmxlbSB3aXRoIHRoZSBpbnB1dCwgc2hvdyBpdCB0byB0aGUgdXNlclxuICBzZXRJbmZvKHZhcmlhYmxlLCBwb2xpY3lUaXRsZSwgaW5mbywgYXV0aG9yaXNlLCBzY29wZSwgdGFyZ2V0KSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKF90aGlzLnZhbGlkYXRpb25bdmFyaWFibGVdKHNjb3BlLCBpbmZvKSkge1xuICAgICAgICBfdGhpcy5hZGRpdGlvblt2YXJpYWJsZV0oW3BvbGljeVRpdGxlLCBzY29wZSwgdGFyZ2V0LCBpbmZvLCBhdXRob3Jpc2VdKS50aGVuKCgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVqZWN0KCdJbnZhbGlkIGNvbmZpZ3VyYXRpb24nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUluZm8odmFyaWFibGUsIHNjb3BlLCB0YXJnZXQsIGluZm8pIHtcbiAgICBsZXQgcGFyYW1zID0gW3Njb3BlLCB0YXJnZXQsIGluZm9dO1xuICAgIGlmICh2YXJpYWJsZSA9PT0gJ21lbWJlcicpIHtcbiAgICAgIGxldCBjb25kaXRpb25TcGxpdCA9IGluZm8uc3BsaXQoJyAnKTtcbiAgICAgIGxldCBncm91cE5hbWUgPSBjb25kaXRpb25TcGxpdFsyXTtcbiAgICAgIHBhcmFtcyA9IFtzY29wZSwgZ3JvdXBOYW1lLCBpbmZvXTtcbiAgICB9XG4gICAgdGhpcy5kZWxldGlvblt2YXJpYWJsZV0ocGFyYW1zKTtcbiAgfVxuXG4gIGdldEdyb3VwcygpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnZ3JvdXBzJywge30pLnRoZW4oKGdyb3VwcykgPT4ge1xuICAgICAgICBsZXQgZ3JvdXBzR1VJID0ge1xuICAgICAgICAgIGdyb3Vwc05hbWVzOiBbXSxcbiAgICAgICAgICBtZW1iZXJzOiBbXSxcbiAgICAgICAgICBpZHM6IFtdXG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yIChsZXQgaSBpbiBncm91cHMpIHtcbiAgICAgICAgICBncm91cHNHVUkuZ3JvdXBzTmFtZXMucHVzaChpKTtcbiAgICAgICAgICBncm91cHNHVUkubWVtYmVycy5wdXNoKGdyb3Vwc1tpXSk7XG4gICAgICAgICAgbGV0IGlkcyA9IFtdO1xuICAgICAgICAgIGZvciAobGV0IGogaW4gZ3JvdXBzW2ldKSB7XG4gICAgICAgICAgICBpZHMucHVzaChpICsgJzo6JyArIGdyb3Vwc1tpXVtqXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGdyb3Vwc0dVSS5pZHMucHVzaChpZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9jb25zb2xlLmxvZygnVElBR08gZ3JvdXBzJywgZ3JvdXBzR1VJKVxuICAgICAgICByZXNvbHZlKGdyb3Vwc0dVSSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEdyb3Vwc05hbWVzKCkge1xuICAgIHJldHVybiB0aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdnZXRHcm91cHNOYW1lcycsIHt9KTtcbiAgfVxuXG4gIHJlbW92ZUZyb21Hcm91cChncm91cE5hbWUsIHVzZXIpIHtcbiAgICByZXR1cm4gdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygncmVtb3ZlRnJvbUdyb3VwJywge2dyb3VwTmFtZTogZ3JvdXBOYW1lLCB1c2VyRW1haWw6IHVzZXJ9KTtcbiAgfVxuXG4gIHVwZGF0ZVBvbGljeShwb2xpY3lUaXRsZSwgcnVsZSwgbmV3RGVjaXNpb24sIG5ld1N1YnNjcmlwdGlvblR5cGUpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygndXNlclBvbGljaWVzJywge30pLnRoZW4oKHVzZXJQb2xpY2llcykgPT4ge1xuICAgICAgICB1c2VyUG9saWNpZXNbcG9saWN5VGl0bGVdLmRlbGV0ZVJ1bGUocnVsZSk7XG4gICAgICAgIGlmICghbmV3U3Vic2NyaXB0aW9uVHlwZSkge1xuICAgICAgICAgIHVzZXJQb2xpY2llc1twb2xpY3lUaXRsZV0uY3JlYXRlUnVsZShuZXdEZWNpc2lvbiwgcnVsZS5jb25kaXRpb24sIHJ1bGUuc2NvcGUsIHJ1bGUudGFyZ2V0LCBydWxlLnByaW9yaXR5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgb3BlcmF0b3IgPSAobmV3U3Vic2NyaXB0aW9uVHlwZSA9PT0gJyonKSA/ICdlcXVhbHMnIDogJ2luJztcbiAgICAgICAgICB1c2VyUG9saWNpZXNbcG9saWN5VGl0bGVdLmNyZWF0ZVJ1bGUobmV3RGVjaXNpb24sIFt7IGF0dHJpYnV0ZTogJ3N1YnNjcmlwdGlvbicsIG9wZWF0b3I6IG9wZXJhdG9yLCBwYXJhbXM6IG5ld1N1YnNjcmlwdGlvblR5cGUgfV0sIHJ1bGUuc2NvcGUsIHJ1bGUudGFyZ2V0LCBydWxlLnByaW9yaXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdzYXZlQWN0aXZlUG9saWN5Jywge30pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvbGljaWVzTWFuYWdlcjtcbiJdfQ=="}