{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/admin/PoliciesGUI.js","src/admin/PoliciesManager.js"],"names":[],"mappings":"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","file":"policies-gui.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import PoliciesManager from './PoliciesManager';\n\nclass PoliciesGUI {\n\n  constructor(pepGuiURL, pepURL, messageBus) {\n    let _this = this;\n    _this.policiesManager = new PoliciesManager(pepGuiURL, pepURL, messageBus);\n    // assume prepareAttributes is called after this\n  }\n\n  prepareAttributes() {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.policiesManager.prepareAttributes().then(() => {\n        _this.elements = _this._setElements();\n        _this._setListeners();\n        resolve();\n      });\n    });\n  }\n\n  _addMember() {\n    let _this = this;\n    let group = event.target.id;\n    $('.member-new-intro').html('<h5>Add a member to a group</h5><p>Insert a user email below to add to the \"' + group + '\" group.</p>');\n    $('.member-new-modal').openModal();\n    $('.member-new-ok').off();\n    $('.member-new-ok').on('click', (event) => {\n      let member = $('#member-new').val();\n      $('#member-new').val('');\n      _this.policiesManager.addToGroup(group, member).then(() => {\n        $('.member-new-modal').closeModal();\n        _this._manageGroups();\n      });\n    });\n  }\n\n  _createGroup() {\n    let _this = this;\n    $('#group-new-name').val('');\n    $('.group-new-modal').openModal();\n    $('.group-new-ok').on('click', (event) => {\n      let groupName = $('#group-new-name').val();\n      _this.policiesManager.createGroup(groupName).then(() => {\n        _this._manageGroups();\n      });\n    });\n  }\n\n  _addPolicy() {\n    let _this = this;\n    $('#policy-new-title').val('');\n    $('.combining').html('');\n    let algorithms = ['Block overrides', 'Allow overrides', 'First applicable'];\n    $('.combining').append(this._getOptions('comb-algorithm', 'Choose a combining algorithm', algorithms));\n    $('.policy-new').openModal();\n\n    $('.policy-new-ok').off();\n    $('.policy-new-ok').on('click', (event) => {\n      let policyTitle = $('#policy-new-title').val();\n      if (!policyTitle) {\n        Materialize.toast('Invalid policy title', 4000);\n      } else {\n        let combiningAlgorithm = $('#comb-algorithm').val();\n        _this.policiesManager.addPolicy(policyTitle, combiningAlgorithm).then(() => {\n          $('.help-menu').addClass('hide');\n          $('.policy-new').closeModal();\n          _this._goHome();\n        });\n      }\n    });\n    $('.help-btn').off();\n    $('.help-btn').on('click', (event) => {\n      $('.help-menu').removeClass('hide');\n    });\n  }\n\n  _decreaseRulePriority() {\n    let _this = this;\n    let id = event.target.closest('tr').id;\n    let splitId = id.split(':');\n    let thisPriority = parseInt(splitId[splitId.length - 1]);\n    splitId.pop();\n    let policyTitle = splitId.join(':');\n    _this.policiesManager.getPolicy(policyTitle).then((policy) => {\n      let lastPriority = policy.getLastPriority();\n      if (lastPriority != thisPriority) {\n        let newPriority = parseInt(thisPriority + 1);\n        _this.policiesManager.decreaseRulePriority(policyTitle, thisPriority, newPriority).then(() => {\n          _this._goHome();\n        });\n      }\n    });\n  }\n\n  _deleteMember() {\n    let _this = this;\n    let id = event.target.closest('tr').id;\n    let splitId = id.split('::');\n    let member = splitId[splitId.length - 1];\n    splitId.pop();\n    let group = splitId.join('::');\n    _this.policiesManager.removeFromGroup(group, member).then(() => {\n      _this._manageGroups();\n    });\n  }\n\n  _deleteGroup() {\n    let _this = this;\n    let groupName = event.target.closest('tr').children[0].id;\n    _this.policiesManager.deleteGroup(groupName).then(() => {\n      _this._manageGroups();\n    });\n  }\n\n  _deletePolicy() {\n    let _this = this;\n    let policyTitle = event.target.closest('tr').id;\n    _this.policiesManager.deletePolicy(policyTitle).then(() => {\n      _this._goHome();\n    });\n  }\n\n  _deleteRule() {\n    let _this = this;\n    let id = event.target.closest('tr').id;\n    let splitId = id.split(':');\n    let priority = splitId[splitId.length - 1];\n    splitId.pop();\n    let policyTitle = splitId.join(':');\n    let rule = _this.policiesManager.getRuleOfPolicy(policyTitle, priority);\n\n    _this.policiesManager.deleteRule(policyTitle, rule).then(() => {\n      _this._goHome();\n    });\n  }\n\n  _getActivePolicy() {\n    let _this = this;\n    _this.policiesManager.getActivePolicy().then((activeUserPolicy) => {\n      $('.policy-active').html('');\n      _this.policiesManager.getPoliciesTitles().then((policies) => {\n        policies.push('Deactivate all policies');\n\n        $('.policy-active').append(_this._getOptions('policies-list', 'Click to activate a policy', policies, activeUserPolicy));\n\n        $('#policies-list').on('click', (event) => {\n          let policyTitle = $('#policies-list').find(\":selected\")[0].textContent;\n          if (policyTitle === 'Deactivate all policies') {\n            policyTitle = undefined;\n          }\n          _this.policiesManager.updateActivePolicy(policyTitle);\n        });\n      });\n    });\n  }\n\n  _getGroupOptions(title, keys, scopes, lists) {\n    let list = '<option disabled selected>' + title + '</option>';\n\n    for (let i in keys) {\n      list += '<optgroup label=' + keys[i] + '>';\n      for (let j in lists[i]) {\n        list += '<option id=\"' + scopes[i] + '\">' + lists[i][j] + '</option>';\n      }\n    }\n\n    return list;\n  }\n\n  _getInfo(variable) {\n    let info;\n\n    switch(variable) {\n      case 'Date':\n        info = $('.config').find('input').val();\n        if (info.indexOf(',') !== -1) { //20 July, 2016\n          let splitInfo = info.split(' '); //['20', 'July,',' '2016']\n          splitInfo[1] = splitInfo[1].substring(0, splitInfo[1].length - 1); //'July'\n          let months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n          info = splitInfo[0] + '/' + (months.indexOf(splitInfo[1]) + 1) + '/' + splitInfo[2];\n        } else { // 2016-07-20\n          let splitInfo = info.split('-');\n          info = splitInfo[2] + '/' + splitInfo[1] + '/' + splitInfo[0];\n        }\n        break;\n      case 'Group of users':\n        info = $('#group').find(\":selected\").text();\n        break;\n      case 'Subscription preferences':\n        if (info = $(\"input[name='rule-new-subscription']:checked\")[0] !== undefined) {\n          info = $(\"input[name='rule-new-subscription']:checked\")[0].id;\n        }\n        break;\n      case 'Weekday':\n        info = $('#weekday').find(\":selected\").text();\n        break;\n      default:\n        info = $('.config').find('input').val();\n        break;\n    }\n\n    return info;\n  }\n\n  _getList(items) {\n      let list = '';\n      let numItems = items.length;\n\n      for (let i = 0; i < numItems; i++) {\n        list += '<li class=\"divider\"></li>';\n        list += '<li><a class=\"center-align\">' + items[i] + '</a></li>';\n      }\n\n      return list;\n    }\n\n  _getOptions(id, title, list, selected) {\n    let options = '<select id=\"' + id + '\" class=\"browser-default\"><option disabled selected>' + title + '</option>';\n    for (let i in list) {\n      if (selected !== undefined & selected === list[i]) {\n        options += '<option selected id=\"' + id + '\">' + list[i] + '</option>';\n      } else {\n        options += '<option id=\"' + id + '\">' + list[i] + '</option>';\n      }\n    }\n    options += '</select>';\n\n    return options;\n  }\n\n  _getPoliciesTable() {\n    let _this = this;\n\n    _this.policiesManager.getFormattedPolicies().then((policies) => {\n      $('.policies-no').addClass('hide');\n      $('.policies-current').html('');\n\n      let policiesTitles = [];\n      let rulesTitles = [];\n      let ids = [];\n\n      for (let i in policies) {\n        policiesTitles.push(policies[i].title);\n        rulesTitles.push(policies[i].rulesTitles);\n        ids.push(policies[i].ids);\n      }\n\n      let table = '<table>';\n      let isEmpty = policiesTitles.length === 0;\n\n      for (let i in policiesTitles) {\n        table += '<thead><tr id=\"' + policiesTitles[i] + '\"><td></td><td></td><th class=\"center-align\">' + policiesTitles[i] + '</th><td><i class=\"material-icons clickable-cell policy-delete\" style=\"cursor: pointer; vertical-align: middle\">delete_forever</i></td></tr></thead><tbody>';\n\n        for (let j in rulesTitles[i]) {\n          table += '<tr id=\"' + ids[i][j] + '\" ><td><i class=\"material-icons clickable-cell rule-priority-increase\" style=\"cursor: pointer; vertical-align: middle\">arrow_upward</i></td><td><i class=\"material-icons clickable-cell rule-priority-decrease\" style=\"cursor: pointer; vertical-align: middle\">arrow_downward</i></td><td class=\"rule-show clickable-cell\" style=\"cursor: pointer\">' + rulesTitles[i][j] + '</td><td><i class=\"material-icons clickable-cell rule-delete\" style=\"cursor: pointer; vertical-align: middle\">clear</i></td></tr>';\n        }\n        table += '<tr id=\"' + policiesTitles[i] + '\"></td><td></td><td></td><td style=\"text-align:center\"><i class=\"material-icons clickable-cell center-align rule-add\" style=\"cursor: pointer\">add_circle</i></td></tr>';\n      }\n      if (!isEmpty) {\n        table += '</tbody></table>';\n        $('.policies-current').append(table);\n      } else {\n        $('.policies-no').removeClass('hide');\n      }\n      $('.rule-add').on('click', (event) => { _this._showVariablesTypes(); });\n      $('.rule-delete').on('click', (event) => { _this._deleteRule(); });\n      $('.rule-show').on('click', (event) => { _this._showRule(); });\n      $('.rule-priority-increase').on('click', (event) => { _this._increaseRulePriority(); });\n      $('.rule-priority-decrease').on('click', (event) => { _this._decreaseRulePriority(); });\n      $('.policy-add').off();\n      $('.policy-add').on('click', (event) => { _this._addPolicy(); });\n      $('.policy-delete').on('click', (event) => { _this._deletePolicy(); });\n    }); \n  }\n\n  _goHome() {\n    this._getActivePolicy();\n    this._getPoliciesTable();\n  }\n\n  _increaseRulePriority() {\n    let _this = this;\n    let id = event.target.closest('tr').id;\n    let splitId = id.split(':');\n    let thisPriority = parseInt(splitId[splitId.length - 1]);\n    if (thisPriority !== 0) {\n      splitId.pop();\n      let policyTitle = splitId.join(':');\n      let newPriority = thisPriority - 1;\n\n      _this.policiesManager.increaseRulePriority(policyTitle, thisPriority, newPriority).then(() => {\n        _this._goHome();\n      });\n    }\n  }\n\n  _manageGroups() {\n    let _this = this;\n    _this.policiesManager.getGroups().then((groupsPE) => {\n      $('.groups-current').html('');\n      let groups = groupsPE.groupsNames;\n      let members = groupsPE.members;\n      let ids = groupsPE.ids;\n\n      let table = '<table>';\n      let isEmpty = groups.length === 0;\n\n      for (let i in groups) {\n        table += '<thead><tr><th id=\"' + groups[i] + '\">' + groups[i] + '</th><td style=\"text-align:right\"><i class=\"material-icons clickable-cell group-delete\" style=\"cursor: pointer; vertical-align: middle\">delete_forever</i></td></tr></thead><tbody>';\n        for (let j in members[i]) {\n          table += '<tr id=\"' + ids[i][j] + '\" ><td style=\"cursor: pointer\">' + members[i][j] + '</td><td style=\"text-align:right\"><i class=\"material-icons clickable-cell member-delete\" style=\"cursor: pointer; vertical-align: middle\">clear</i></td></tr>';\n        }\n\n        table += '<tr id=\"' + groups[i] + '\"><td><i class=\"material-icons clickable-cell member-add\" id=\"' + groups[i] + '\" style=\"cursor: pointer\">add_circle</i></td></tr>';\n      }\n\n      if (!isEmpty) {\n        table += '</tbody></table>';\n        $('.groups-current').append(table);\n      } else {\n        $('.groups-current').append('<p>There are no groups set.</p>');\n      }\n\n      $('.member-add').off();\n      $('.member-add').on('click', (event) => { _this._addMember(); });\n      $('.member-delete').on('click', (event) => { _this._deleteMember(); });\n      $('.group-add').off();\n      $('.group-add').on('click', (event) => { _this._createGroup(); });\n      $('.group-delete').on('click', (event) => { _this._deleteGroup(); });\n    });\n  }\n\n  _parseFileContent(content) {\n    let parsedContent = JSON.parse(content);\n    for (let i in parsedContent) {\n      this.policiesManager.addPolicy(i, undefined, parsedContent[i]);\n    }\n    $('.policy-new').closeModal();\n  }\n\n  _setElements() {\n    return {\n      date: (params) => { return '<input type=\"date\" class=\"datepicker\">'; },\n      select: (params) => { return this._getOptions(params[0], params[1], params[2]); },\n      form: (params) => { return '<form><input type=\"text\" placeholder=\"' + params + '\"></input></form>'; }\n    };\n  }\n\n  _showNewConfigurationPanel(policyTitle) {\n    let variable = event.target.text;\n    $('.variable').html(this._getNewConfiguration(policyTitle, variable));\n    $('.scopes').empty().html('');\n\n    let keys = ['Email', 'Hyperty', 'All'];\n    let scopes = ['identity', 'hyperty', 'global'];\n    let lists = [];\n\n    this.policiesManager.getMyEmails().then((emails) => {\n      lists.push(emails);\n      this.policiesManager.getMyHyperties().then((hyperties) => {\n        lists.push(hyperties);\n        lists.push(['All identities and hyperties']);\n        $('.scopes').append(this._getGroupOptions('Apply this configuration to:', keys, scopes, lists));\n        $('.variable').removeClass('hide');\n      });\n    });\n  }\n\n  _showVariablesTypes(event) {\n    let policyTitle = event.target.closest('tr').id;\n\n    $('#variables-types').empty().html('');\n    let variables = this.policiesManager.getVariables();\n    $('#variables-types').append(this._getList(variables));\n    $('.variable').addClass('hide');\n    $('.rule-new').openModal();\n    $('#variables-types').off();\n    $('#variables-types').on('click', (event) => { this._showNewConfigurationPanel(policyTitle); });\n  }\n\n  _getNewConfiguration(policyTitle, variable) {\n    let _this = this;\n    let info = _this.policiesManager.getVariableInfo(variable);\n    $('.rule-new-title').html(info.title);\n    $('.description').html(info.description);\n    $('.config').html('');\n\n    if (variable === 'Subscription preferences') {\n      $('.subscription-type').removeClass('hide');\n    } else {\n      $('.subscription-type').addClass('hide');\n      let tags = info.input;\n      for (let i in tags) {\n        _this.policiesManager.getGroupsNames().then((groupsNames) => {\n          if (variable === 'Group of users') {\n            tags[i][1].push(groupsNames);\n          }\n          $('.config').append(_this.elements[tags[i][0]](tags[i][1]));\n          if (variable === 'Group of users') {\n            tags[i][1].pop();\n          }\n        });\n      }\n      if (variable ==='date') {\n        $('.datepicker').pickadate({\n          selectMonths: true,\n          selectYears: 15\n        });\n      }\n    }\n    document.getElementById('allow').checked = false;\n    document.getElementById('block').checked = false;\n    $('.ok-btn').off();\n    $('.ok-btn').on('click', (event) => {\n      if ($(\"input[name='rule-new-decision']:checked\")[0] !== undefined) {\n        let info = _this._getInfo(variable);\n        let decision = $(\"input[name='rule-new-decision']:checked\")[0].id;\n        decision = decision === 'allow';\n        let scope = $('.scopes').find(\":selected\")[0].id;\n        let target = $('.scopes').find(\":selected\")[0].textContent;\n        target = (target === 'All identities and hyperties') ? 'global' : target;\n        _this.policiesManager.setInfo(variable, policyTitle, info, decision, scope, target).then(() => {\n          $('.rule-new').closeModal();\n          _this._goHome();\n        });\n      } else {\n        throw Error('INFORMATION MISSING: please specify an authorisation decision.');\n      }\n    });\n  }\n\n  _deleteInfo(resourceType) {\n    let id = event.target.closest('tr').id;\n    let splitId = id.split(':');\n    let scope = splitId[0];\n    splitId.shift();\n    let target = splitId.join('');\n    let condition = event.target.closest('tr').children[0].id;\n    this.policiesManager.deleteInfo(resourceType, scope, target, condition);\n    this._goHome();\n  }\n\n  _setListeners() {\n    $('.settings-btn').on('click', (event) => {\n      parent.postMessage({ body: { method: 'showAdminPage' }, to: 'runtime:gui-manager' }, '*');\n      $('.admin-page').removeClass('hide');\n      document.getElementsByTagName('body')[0].style = 'background-color:white;';\n    });\n\n    $('.policies-page-show').on('click', (event) => {\n      $('.policies-section').removeClass('hide');\n      $('.identities-section').addClass('hide');\n      this._goHome();\n      this._manageGroups();\n    });\n\n    $('.admin-page-exit').on('click', (event) => {\n      parent.postMessage({ body: { method: 'hideAdminPage' }, to: 'runtime:gui-manager' }, '*');\n      $('.admin-page').addClass('hide');\n      document.getElementsByTagName('body')[0].style = 'background-color:transparent;';\n    });\n\n    $('.exit-btn').on('click', (event) => {\n      $('.subscription-type').addClass('hide');\n      $('.help-menu').addClass('hide');\n    });\n\n    $('#policy-file').on('change', (event) => {\n      let file = event.target.files[0];\n      let reader = new FileReader();\n      reader.readAsText(file, \"UTF-8\");\n      reader.onload = (event) => {\n        this._parseFileContent(event.target.result);\n        this._goHome();\n      }\n      reader.onerror = (event) => {\n        throw Error(\"Error reading the file\");\n      }\n    });\n  }\n\n  _showRule(event) {\n    let ruleTitle = event.target.textContent;\n    let id = event.target.closest('tr').id;\n    let splitId = id.split(':');\n    let priority = splitId[splitId.length - 1];\n    splitId.pop();\n    let policyTitle = splitId.join(':');\n    this.policiesManager.getRuleOfPolicy(policyTitle, priority).then((rule) => {\n      if (rule.condition.attribute === 'subscription' && rule.condition.params === 'preauthorised') {\n        $('.authorise-btns').addClass('hide');\n      } else {\n        let element;\n        if (rule.decision) {\n          element = document.getElementById('btn-allow');\n        } else {\n          element = document.getElementById('btn-block');\n        }\n        element.checked = true;\n        $('.authorise-btns').removeClass('hide');\n      }\n      $('.member-add').addClass('hide');\n      $('.member-new-btn').addClass('hide');\n\n      $('.rule-details').openModal();\n      $('.rule-title').html('<h5><b>' + ruleTitle + '</b></h5>');\n      if (rule.condition.attribute === 'subscription') {\n        $('.subscription-type').removeClass('hide');\n      }\n      $('.subscription-decision').on('click', (event) => { this._updateRule('subscription', policyTitle, rule); });\n      $('.decision').off();\n      $('.decision').on('click', (event) => { this._updateRule('authorisation', policyTitle, rule);});\n    });\n  }\n\n  _updateRule(type, policyTitle, rule) {\n    let _this = this;\n    let title = $('.rule-title').text();\n    let splitTitle = title.split(' ');\n    let index = splitTitle.indexOf('is');\n    if (index === -1) {\n      index = splitTitle.indexOf('are');\n    }\n    switch (type) {\n      case 'authorisation':\n        let newDecision = $(\"input[name='rule-update-decision']:checked\")[0].id;\n\n        if (newDecision === 'btn-allow') {\n          splitTitle[index + 1] = 'allowed';\n          newDecision = true;\n        } else {\n          splitTitle[index + 1] = 'blocked';\n          newDecision = false;\n        }\n        title = splitTitle.join(' ');\n        $('.rule-title').html('<h5><b>' + title + '</b></h5>');\n        _this.policiesManager.updatePolicy(policyTitle, rule, newDecision).then(() => {\n          _this._goHome();\n        });\n        break;\n      case 'subscription':\n        let newSubscriptionType = event.target.labels[0].textContent;\n\n        let decision = splitTitle[index + 1];\n        splitTitle = title.split('hyperties are');\n        if (newSubscriptionType === 'All subscribers') {\n          $('.authorise-btns').removeClass('hide');\n          newDecision = rule.decision;\n          newSubscriptionType = '*';\n          title = 'Subscriptions from all hyperties are' + splitTitle[1];\n        } else {\n          $('.authorise-btns').addClass('hide');\n          newDecision = true;\n          newSubscriptionType = 'preauthorised';\n          title = 'Subscriptions from previously authorised hyperties are' + splitTitle[1];\n        }\n\n        $('.rule-title').html('<h5><b>' + title + '</b></h5>');\n        _this.policiesManager.updatePolicy(policyTitle, rule, newDecision, newSubscriptionType).then(() => {\n          _this._goHome();\n        });\n        break;\n    }\n  }\n}\n\nexport default PoliciesGUI;\n","class PoliciesManager {\n\n  constructor(pepGuiURL, pepURL, messageBus) {\n    let _this = this;\n    _this._guiURL = pepGuiURL;\n    _this._pepURL = pepURL;\n    _this._messageBus = messageBus;\n\n    // assume prepare attributes is called after this\n  }\n\n  callPolicyEngineFunc(methodName, parameters) {\n    let _this = this;\n    let message;\n\n    return new Promise((resolve, reject) => {\n      message = { type: 'execute', to: _this._pepURL, from: _this._guiURL,\n        body: { resource: 'policy', method: methodName, params: parameters }, };\n      _this._messageBus.postMessage(message, (res) => {\n        let result = res.body.value;\n        resolve(result);\n      });\n    });\n  }\n\n  prepareAttributes() {\n    return new Promise((resolve, reject) => {\n      let _this = this;\n      _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n        _this.policies = userPolicies;\n        _this.variables = _this.setVariables();\n        _this.addition = _this.setAdditionMethods();\n        _this.validation = _this.setValidationMethods();\n        resolve();\n      });\n    });\n  }\n\n  addToGroup(groupName, user) {\n    return this.callPolicyEngineFunc('addToGroup', {groupName: groupName, userEmail: user});\n  }\n\n  createGroup(groupName) {\n    return this.callPolicyEngineFunc('createGroup', {groupName: groupName});\n  }\n\n  addPolicy(title, combiningAlgorithm, policy) {\n    if (policy === undefined) {\n      switch (combiningAlgorithm) {\n        case 'Block overrides':\n          combiningAlgorithm = 'blockOverrides';\n          break;\n        case 'Allow overrides':\n          combiningAlgorithm = 'allowOverrides';\n          break;\n        case 'First applicable':\n          combiningAlgorithm = 'firstApplicable';\n          break;\n        default:\n          combiningAlgorithm = undefined;\n      }\n    }\n\n    return this.callPolicyEngineFunc('addPolicy',\n      {source: 'USER', key: title, policy: policy, combiningAlgorithm: combiningAlgorithm});\n  }\n\n  decreaseRulePriority(policyTitle, thisPriority, newPriority) {\n    this.getRuleOfPolicy(policyTitle, newPriority).priority = thisPriority;\n    this.getRuleOfPolicy(policyTitle, thisPriority).priority = newPriority;\n    return this.callPolicyEngineFunc('savePolicies', {source: 'USER'});\n  }\n\n  deleteGroup(groupName) {\n    return this.callPolicyEngineFunc('deleteGroup', {groupName: groupName});\n  }\n\n  deletePolicy(title) {\n    return this.callPolicyEngineFunc('removePolicy', {source: 'USER', key: title});\n  }\n\n  deleteRule(policyTitle, rule) {\n    let _this = this;\n\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n        userPolicies[policyTitle].deleteRule(rule);\n        _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n          resolve();\n        });\n      });\n    });\n  }\n\n  getActivePolicy() {\n    return this.callPolicyEngineFunc('activeUserPolicy', {});\n  }\n\n  getPolicy(key) {\n    return this.callPolicyEngineFunc('userPolicy', {key: key});\n  }\n\n  getPoliciesTitles() {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('userPolicies', {}).then((policies) => {\n        let titles = [];\n\n        for (let i in policies) {\n          titles.push(i);\n        }\n\n        resolve(titles);\n      });\n    });\n  }\n\n  getTargets(scope) {\n    let targets = [];\n\n    for (let i in this.policies[scope]) {\n      if (targets.indexOf(i) === -1) {\n        targets.push(i);\n      }\n    }\n\n    return targets;\n  }\n\n  increaseRulePriority(policyTitle, thisPriority, newPriority) {\n    let _this = this;\n    _this.getRuleOfPolicy(policyTitle, thisPriority).priority = newPriority;\n    _this.getRuleOfPolicy(policyTitle, newPriority).priority = thisPriority;\n    return _this.callPolicyEngineFunc('savePolicies', {source: 'USER'});\n  }\n\n  setVariables() {\n    return {\n      'Date': {\n        title: '<br><h5>Updating date related configurations</h5><p>Incoming communications in the introduced date will be allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>',\n        description: '<p>Date:</p>',\n        input: [\n          ['date', []]\n        ]\n      },\n      'Domain': {\n        title: '<br><h5>Updating domain configurations</h5><p>Incoming communications from a user whose identity is from the introduced domain allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>',\n        description: '<p>Domain:</p>',\n        input: [\n          ['form', []]\n        ]\n      },\n      'Group of users': {\n        title: '<br><h5>Updating groups configurations</h5><p>Incoming communications from a user whose identity is in the introduced group will be allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>',\n        description: '<p>Group name:</p>',\n        input: [\n          ['select', ['group', 'Select a group:']]\n        ]\n      },\n      'Subscription preferences': {\n        title: '<br><h5>Updating subscriptions configurations</h5><p>The acceptance of subscriptions to your hyperties will be allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>',\n        input: []\n      },\n      'Time of the day': {\n        title: '<br><h5>Updating time configurations</h5><p>Incoming communications in the introduced timeslot will be blocked, but this can be changed in the preferences page.</p><p>Please introduce a new timeslot in the following format:</p><p class=\"center-align\">&lt;START-HOUR&gt;:&lt;START-MINUTES&gt; to &lt;END-HOUR&gt;:&lt;END-MINUTES&gt;</p><br>',\n        description: '<p>Timeslot:</p>',\n        input: [\n          ['form', []]\n        ]\n      },\n      Weekday: {\n        title: '<br><h5>Updating weekday configurations</h5><p>Incoming communications in the introduced weekday will be allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>',\n        description: '<p>Weekday:</p>',\n        input: [\n          ['select', ['weekday', 'Select a weekday:', ['Saturday', 'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday']]]\n        ]\n      }\n    };\n  }\n\n  setAdditionMethods() {\n    let _this = this;\n    return {\n      Date: (params) => {\n        return new Promise((resolve, reject) => {\n          let policyTitle = params[0];\n          _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n            userPolicies[policyTitle].createRule(params[4], { attribute: 'date', operator: 'equals', params: params[3] }, params[1], params[2]);\n            _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n              resolve();\n            });\n          });\n        });\n      },\n      Domain: (params) => {\n        return new Promise((resolve, reject) => {\n          let policyTitle = params[0];\n          _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n            userPolicies[policyTitle].createRule(params[4], { attribute: 'domain', operator: 'equals', params: params[3] }, params[1], params[2]);\n            _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n              resolve();\n            });\n          });\n        });\n      },\n      'Group of users': (params) => {\n        return new Promise((resolve, reject) => {\n          let policyTitle = params[0];\n          _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n            userPolicies[policyTitle].createRule(params[4], { attribute: 'source', operator: 'in', params: params[3] }, params[1], params[2]);\n            _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n              resolve();\n            });\n          });\n        });\n      },\n      'Subscription preferences': (params) => {\n        return new Promise((resolve, reject) => {\n          let policyTitle = params[0];\n          _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n            let operator = 'equals';\n            if (params[3] === 'preauthorised') {\n              operator = 'in';\n            }\n\n            // TIAGO: this is giving me an error...\n            userPolicies[policyTitle].createRule(params[4], { attribute: 'subscription', operator: operator, params: params[3] }, params[1], params[2]);\n            _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n              resolve();\n            });\n          });\n        });\n      },\n      'Time of the day': (params) => {\n        return new Promise((resolve, reject) => {\n          let policyTitle = params[0];\n          _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n            params[3] = params[3].split(' to ');\n            let start = params[3][0].split(':');\n            start = start.join('');\n            let end = params[3][1].split(':');\n            end = end.join('');\n            userPolicies[policyTitle].createRule(params[4], { attribute: 'time', operator: 'between', params: [start, end] }, params[1], params[2]);\n            _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n              resolve();\n            });\n          });\n        });\n      },\n\n      Weekday: (params) => {\n        return new Promise((resolve, reject) => {\n          let weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n          params[3] = weekdays.indexOf(params[3]);\n          let policyTitle = params[0];\n          _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n            userPolicies[policyTitle].createRule(params[4], { attribute: 'weekday', operator: 'equals', params: params[3] }, params[1], params[2]);\n            _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n              resolve();\n            });\n          });\n        });\n      }\n    };\n  }\n\n  setValidationMethods() {\n    return {\n      Date: (scope, info) => { return this.isValidDate(info) & this.isValidScope(scope); },\n      'Group of users': (scope, info) => { return this.isValidString(info) & this.isValidScope(scope); },\n      Domain: (scope, info) => { return this.isValidDomain(info) & this.isValidScope(scope); },\n      Weekday: (scope, info) => { return true & this.isValidScope(scope); },\n      'Subscription preferences': (scope, info) => { return this.isValidSubscriptionType(info) & this.isValidScope(scope); },\n      'Time of the day': (scope, info) => { return this.isValidTimeslot(info) & this.isValidScope(scope); }\n    };\n  }\n\n  updateActivePolicy(title) {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('activeUserPolicy', {userPolicy: title}).then(() => {\n        _this.callPolicyEngineFunc('saveActivePolicy', {}).then(() => {\n          resolve();\n        });\n      });\n    });\n  }\n\n  isValidEmail(info) {\n    let pattern = /[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$/;\n    return pattern.test(info);\n  }\n\n  isValidDomain(info) {\n    let pattern = /[a-z0-9.-]+\\.[a-z]{2,3}$/;\n    return pattern.test(info);\n  }\n\n  isValidString(info) {\n    let pattern = /[a-z0-9.-]$/;\n    return pattern.test(info);\n  }\n\n  isValidSubscriptionType(info) {\n    return true;\n  }\n\n  isValidDate(info) {\n    let infoSplit = info.split('/');\n    let day = parseInt(infoSplit[0]);\n    let month = parseInt(infoSplit[1]);\n    let year = parseInt(infoSplit[2]);\n\n    let date = new Date(year, month-1, day);\n    let isValidFormat = date.getFullYear() === year && date.getMonth() + 1 === month && date.getDate() === day;\n    let formattedDate = date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear()\n    let now = new Date();\n    let today = now.getDate() + '/' + (now.getMonth() + 1) + '/' + now.getFullYear();\n\n    let isFuture = false;\n    if (date.getFullYear() > now.getFullYear()) {\n      isFuture = true;\n    } else {\n      if (date.getFullYear() == now.getFullYear()) {\n        if ((date.getMonth() + 1) > (now.getMonth() + 1)) {\n          isFuture = true;\n        } else {\n          if ((date.getMonth() + 1) == (now.getMonth() + 1)) {\n            if (date.getDate() >= (now.getDate())) {\n              isFuture = true;\n            }\n          }\n        }\n      }\n    }\n\n    return (isValidFormat && isFuture);\n  }\n\n  isValidScope(scope) {\n    return scope !== '';\n  }\n\n  isValidTimeslot(info) {\n    if (!info) {\n      return false;\n    }\n    let splitInfo = info.split(' to '); // [12:00, 13:00]\n    let twoTimes = splitInfo.length === 2;\n    if (!twoTimes) {\n      return false;\n    }\n    let splitStart = splitInfo[0].split(':'); // [12, 00]\n    let splitEnd = splitInfo[1].split(':'); // [13, 00]\n    if (splitStart.length !== 2 || splitEnd.length !== 2) {\n      return false;\n    }\n    let okSize = (splitStart[0].length === 2) && (splitStart[1].length === 2) && (splitEnd[0].length === 2) && (splitEnd[1].length === 2);\n    let areIntegers = (splitStart[0] == parseInt(splitStart[0], 10)) && (splitStart[1] == parseInt(splitStart[1], 10)) && (splitEnd[0] == parseInt(splitEnd[0], 10)) && (splitEnd[1] == parseInt(splitEnd[1], 10));\n    return twoTimes && okSize && areIntegers;\n  }\n\n  getFormattedPolicies() {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('userPolicies', {}).then((policiesPE) => {\n        let policiesGUI = [];\n\n        for (let i in policiesPE) {\n          let policy = {\n            title: policiesPE[i].key,\n            rulesTitles: [],\n            ids: []\n          }\n\n          if (policiesPE[i].rules.length !== 0) {\n            policiesPE[i].rules = policiesPE[i].sortRules();\n            for (let j in policiesPE[i].rules) {\n              let title = _this._getTitle(policiesPE[i].rules[j]);\n              policy.rulesTitles.push(title);\n              policy.ids.push(policy.title + ':' + policiesPE[i].rules[j].priority);\n            }\n          }\n\n          policiesGUI.push(policy);\n        }\n\n        resolve(policiesGUI);\n      });\n    });\n  }\n\n  getRuleOfPolicy(title, priority) {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('userPolicies', {}).then((policies) => {\n        let policy = policies[title];\n        resolve(policy.getRuleByPriority(priority));\n      });\n    });\n  }\n\n  _getTitle(rule) {\n    let condition = rule.condition;\n    let authorise = (rule.decision) ? 'allowed' : 'blocked';\n    let target = rule.target === 'global' ? 'All identities and hyperties' : rule.target;\n    let attribute = condition.attribute;\n    switch(attribute) {\n      case 'date':\n        return 'Date ' + condition.params + ' is ' + authorise + ' (' + target + ')';\n      case 'domain':\n        return 'Domain \\\"' + condition.params + '\\\" is ' + authorise + ' (' + target + ')';\n      case 'source':\n        if (condition.operator === 'in') {\n          return 'Group \\\"' + condition.params + '\\\" is ' + authorise + ' (' + target + ')';\n        } else {\n          if (condition.operator === 'equals') {\n            return 'User ' + condition.params + ' is ' + authorise + ' (' + target + ')';\n          }\n        }\n      case 'subscription':\n        if (condition.params === '*') {\n          return 'Subscriptions from all hyperties are ' + authorise + ' (' + target + ')';\n        } else {\n          if (condition.params === 'preauthorised') {\n            return 'Subscriptions from previously authorised hyperties are allowed (' + target + ')';\n          }\n        }\n      case 'time':\n        let start = condition.params[0][0] + condition.params[0][1] + ':' + condition.params[0][2] + condition.params[0][3];\n        let end = condition.params[1][0] + condition.params[1][1] + ':' + condition.params[1][2] + condition.params[1][3];\n        return 'Timeslot from ' + start + ' to ' + end + ' is ' + authorise + ' (' + target + ')';\n      case 'weekday':\n        let weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n        let weekdayID = condition.params;\n        return 'Weekday \\\"' + weekdays[weekdayID] + '\\\" is ' + authorise + ' (' + target + ')';\n      default:\n        return 'Rule ' + rule.priority + ' is ' + authorise + ' (' + target + ')';\n    }\n  }\n\n  getVariables() {\n    let variablesTitles = [];\n    for (let i in this.variables) {\n      variablesTitles.push(i);\n    }\n    return variablesTitles;\n  }\n\n  getVariableInfo(variable) {\n    return this.variables[variable];\n  }\n\n  getMyEmails() {\n    return this.callPolicyEngineFunc('getMyEmails', {});\n  }\n\n  getMyHyperties() {\n    return this.callPolicyEngineFunc('getMyHyperties', {});\n  }\n\n  //TODO If there is a problem with the input, show it to the user\n  setInfo(variable, policyTitle, info, authorise, scope, target) {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      if (_this.validation[variable](scope, info)) {\n        _this.addition[variable]([policyTitle, scope, target, info, authorise]).then(() => {\n          resolve();\n        });\n      } else {\n        reject('Invalid configuration');\n      }\n    });\n  }\n\n  deleteInfo(variable, scope, target, info) {\n    let params = [scope, target, info];\n    if (variable === 'member') {\n      let conditionSplit = info.split(' ');\n      let groupName = conditionSplit[2];\n      params = [scope, groupName, info];\n    }\n    this.deletion[variable](params);\n  }\n\n  getGroups() {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('groups', {}).then((groups) => {\n        let groupsGUI = {\n          groupsNames: [],\n          members: [],\n          ids: []\n        };\n\n        for (let i in groups) {\n          groupsGUI.groupsNames.push(i);\n          groupsGUI.members.push(groups[i]);\n          let ids = [];\n          for (let j in groups[i]) {\n            ids.push(i + '::' + groups[i][j]);\n          }\n          groupsGUI.ids.push(ids);\n        }\n\n        //console.log('TIAGO groups', groupsGUI)\n        resolve(groupsGUI);\n      });\n    });\n  }\n\n  getGroupsNames() {\n    return this.callPolicyEngineFunc('getGroupsNames', {});\n  }\n\n  removeFromGroup(groupName, user) {\n    return this.callPolicyEngineFunc('removeFromGroup', {groupName: groupName, userEmail: user});\n  }\n\n  updatePolicy(policyTitle, rule, newDecision, newSubscriptionType) {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n        userPolicies[policyTitle].deleteRule(rule);\n        if (!newSubscriptionType) {\n          userPolicies[policyTitle].createRule(newDecision, rule.condition, rule.scope, rule.target, rule.priority);\n        } else {\n          let operator = (newSubscriptionType === '*') ? 'equals' : 'in';\n          userPolicies[policyTitle].createRule(newDecision, [{ attribute: 'subscription', opeator: operator, params: newSubscriptionType }], rule.scope, rule.target, rule.priority);\n        }\n\n        _this.callPolicyEngineFunc('saveActivePolicy', {}).then(() => {\n          resolve();\n        });\n      });\n    });\n  }\n\n}\n\nexport default PoliciesManager;\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYWRtaW4vUG9saWNpZXNHVUkuanMiLCJzcmMvYWRtaW4vUG9saWNpZXNNYW5hZ2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7SUFFTSxXO0FBRUosdUJBQVksU0FBWixFQUF1QixNQUF2QixFQUErQixVQUEvQixFQUEyQztBQUFBOztBQUN6QyxRQUFJLFFBQVEsSUFBWjtBQUNBLFVBQU0sZUFBTixHQUF3Qiw4QkFBb0IsU0FBcEIsRUFBK0IsTUFBL0IsRUFBdUMsVUFBdkMsQ0FBeEI7QUFDQTtBQUNEOzs7O3dDQUVtQjtBQUNsQixVQUFJLFFBQVEsSUFBWjtBQUNBLGFBQU8sSUFBSSxPQUFKLENBQVksVUFBQyxPQUFELEVBQVUsTUFBVixFQUFxQjtBQUN0QyxjQUFNLGVBQU4sQ0FBc0IsaUJBQXRCLEdBQTBDLElBQTFDLENBQStDLFlBQU07QUFDbkQsZ0JBQU0sUUFBTixHQUFpQixNQUFNLFlBQU4sRUFBakI7QUFDQSxnQkFBTSxhQUFOO0FBQ0E7QUFDRCxTQUpEO0FBS0QsT0FOTSxDQUFQO0FBT0Q7OztpQ0FFWTtBQUNYLFVBQUksUUFBUSxJQUFaO0FBQ0EsVUFBSSxRQUFRLE1BQU0sTUFBTixDQUFhLEVBQXpCO0FBQ0EsUUFBRSxtQkFBRixFQUF1QixJQUF2QixDQUE0QixpRkFBaUYsS0FBakYsR0FBeUYsY0FBckg7QUFDQSxRQUFFLG1CQUFGLEVBQXVCLFNBQXZCO0FBQ0EsUUFBRSxnQkFBRixFQUFvQixHQUFwQjtBQUNBLFFBQUUsZ0JBQUYsRUFBb0IsRUFBcEIsQ0FBdUIsT0FBdkIsRUFBZ0MsVUFBQyxLQUFELEVBQVc7QUFDekMsWUFBSSxTQUFTLEVBQUUsYUFBRixFQUFpQixHQUFqQixFQUFiO0FBQ0EsVUFBRSxhQUFGLEVBQWlCLEdBQWpCLENBQXFCLEVBQXJCO0FBQ0EsY0FBTSxlQUFOLENBQXNCLFVBQXRCLENB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Q2hFLFVBQUksUUFBUSxJQUFaO0FBQ0EsYUFBTyxJQUFJLE9BQUosQ0FBWSxVQUFDLE9BQUQsRUFBVSxNQUFWLEVBQXFCO0FBQ3RDLGNBQU0sb0JBQU4sQ0FBMkIsY0FBM0IsRUFBMkMsRUFBM0MsRUFBK0MsSUFBL0MsQ0FBb0QsVUFBQyxZQUFELEVBQWtCO0FBQ3BFLHVCQUFhLFdBQWIsRUFBMEIsVUFBMUIsQ0FBcUMsSUFBckM7QUFDQSxjQUFJLENBQUMsbUJBQUwsRUFBMEI7QUFDeEIseUJBQWEsV0FBYixFQUEwQixVQUExQixDQUFxQyxXQUFyQyxFQUFrRCxLQUFLLFNBQXZELEVBQWtFLEtBQUssS0FBdkUsRUFBOEUsS0FBSyxNQUFuRixFQUEyRixLQUFLLFFBQWhHO0FBQ0QsV0FGRCxNQUVPO0FBQ0wsZ0JBQUksV0FBWSx3QkFBd0IsR0FBekIsR0FBZ0MsUUFBaEMsR0FBMkMsSUFBMUQ7QUFDQSx5QkFBYSxXQUFiLEVBQTBCLFVBQTFCLENBQXFDLFdBQXJDLEVBQWtELENBQUMsRUFBRSxXQUFXLGNBQWIsRUFBNkIsU0FBUyxRQUF0QyxFQUFnRCxRQUFRLG1CQUF4RCxFQUFELENBQWxELEVBQW1JLEtBQUssS0FBeEksRUFBK0ksS0FBSyxNQUFwSixFQUE0SixLQUFLLFFBQWpLO0FBQ0Q7O0FBRUQsZ0JBQU0sb0JBQU4sQ0FBMkIsa0JBQTNCLEVBQStDLEVBQS9DLEVBQW1ELElBQW5ELENBQXdELFlBQU07QUFDNUQ7QUFDRCxXQUZEO0FBR0QsU0FaRDtBQWFELE9BZE0sQ0FBUDtBQWVEOzs7Ozs7a0JBSVksZSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgUG9saWNpZXNNYW5hZ2VyIGZyb20gJy4vUG9saWNpZXNNYW5hZ2VyJztcblxuY2xhc3MgUG9saWNpZXNHVUkge1xuXG4gIGNvbnN0cnVjdG9yKHBlcEd1aVVSTCwgcGVwVVJMLCBtZXNzYWdlQnVzKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBfdGhpcy5wb2xpY2llc01hbmFnZXIgPSBuZXcgUG9saWNpZXNNYW5hZ2VyKHBlcEd1aVVSTCwgcGVwVVJMLCBtZXNzYWdlQnVzKTtcbiAgICAvLyBhc3N1bWUgcHJlcGFyZUF0dHJpYnV0ZXMgaXMgY2FsbGVkIGFmdGVyIHRoaXNcbiAgfVxuXG4gIHByZXBhcmVBdHRyaWJ1dGVzKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci5wcmVwYXJlQXR0cmlidXRlcygpLnRoZW4oKCkgPT4ge1xuICAgICAgICBfdGhpcy5lbGVtZW50cyA9IF90aGlzLl9zZXRFbGVtZW50cygpO1xuICAgICAgICBfdGhpcy5fc2V0TGlzdGVuZXJzKCk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX2FkZE1lbWJlcigpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBncm91cCA9IGV2ZW50LnRhcmdldC5pZDtcbiAgICAkKCcubWVtYmVyLW5ldy1pbnRybycpLmh0bWwoJzxoNT5BZGQgYSBtZW1iZXIgdG8gYSBncm91cDwvaDU+PHA+SW5zZXJ0IGEgdXNlciBlbWFpbCBiZWxvdyB0byBhZGQgdG8gdGhlIFwiJyArIGdyb3VwICsgJ1wiIGdyb3VwLjwvcD4nKTtcbiAgICAkKCcubWVtYmVyLW5ldy1tb2RhbCcpLm9wZW5Nb2RhbCgpO1xuICAgICQoJy5tZW1iZXItbmV3LW9rJykub2ZmKCk7XG4gICAgJCgnLm1lbWJlci1uZXctb2snKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGxldCBtZW1iZXIgPSAkKCcjbWVtYmVyLW5ldycpLnZhbCgpO1xuICAgICAgJCgnI21lbWJlci1uZXcnKS52YWwoJycpO1xuICAgICAgX3RoaXMucG9saWNpZXNNYW5hZ2VyLmFkZFRvR3JvdXAoZ3JvdXAsIG1lbWJlcikudGhlbigoKSA9PiB7XG4gICAgICAgICQoJy5tZW1iZXItbmV3LW1vZGFsJykuY2xvc2VNb2RhbCgpO1xuICAgICAgICBfdGhpcy5fbWFuYWdlR3JvdXBzKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9jcmVhdGVHcm91cCgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgICQoJyNncm91cC1uZXctbmFtZScpLnZhbCgnJyk7XG4gICAgJCgnLmdyb3VwLW5ldy1tb2RhbCcpLm9wZW5Nb2RhbCgpO1xuICAgICQoJy5ncm91cC1uZXctb2snKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGxldCBncm91cE5hbWUgPSAkKCcjZ3JvdXAtbmV3LW5hbWUnKS52YWwoKTtcbiAgICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci5jcmVhdGVHcm91cChncm91cE5hbWUpLnRoZW4oKCkgPT4ge1xuICAgICAgICBfdGhpcy5fbWFuYWdlR3JvdXBzKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9hZGRQb2xpY3koKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICAkKCcjcG9saWN5LW5ldy10aXRsZScpLnZhbCgnJyk7XG4gICAgJCgnLmNvbWJpbmluZycpLmh0bWwoJycpO1xuICAgIGxldCBhbGdvcml0aG1zID0gWydCbG9jayBvdmVycmlkZXMnLCAnQWxsb3cgb3ZlcnJpZGVzJywgJ0ZpcnN0IGFwcGxpY2FibGUnXTtcbiAgICAkKCcuY29tYmluaW5nJykuYXBwZW5kKHRoaXMuX2dldE9wdGlvbnMoJ2NvbWItYWxnb3JpdGhtJywgJ0Nob29zZSBhIGNvbWJpbmluZyBhbGdvcml0aG0nLCBhbGdvcml0aG1zKSk7XG4gICAgJCgnLnBvbGljeS1uZXcnKS5vcGVuTW9kYWwoKTtcblxuICAgICQoJy5wb2xpY3ktbmV3LW9rJykub2ZmKCk7XG4gICAgJCgnLnBvbGljeS1uZXctb2snKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGxldCBwb2xpY3lUaXRsZSA9ICQoJyNwb2xpY3ktbmV3LXRpdGxlJykudmFsKCk7XG4gICAgICBpZiAoIXBvbGljeVRpdGxlKSB7XG4gICAgICAgIE1hdGVyaWFsaXplLnRvYXN0KCdJbnZhbGlkIHBvbGljeSB0aXRsZScsIDQwMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGNvbWJpbmluZ0FsZ29yaXRobSA9ICQoJyNjb21iLWFsZ29yaXRobScpLnZhbCgpO1xuICAgICAgICBfdGhpcy5wb2xpY2llc01hbmFnZXIuYWRkUG9saWN5KHBvbGljeVRpdGxlLCBjb21iaW5pbmdBbGdvcml0aG0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICQoJy5oZWxwLW1lbnUnKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICAgICAgICQoJy5wb2xpY3ktbmV3JykuY2xvc2VNb2RhbCgpO1xuICAgICAgICAgIF90aGlzLl9nb0hvbWUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgJCgnLmhlbHAtYnRuJykub2ZmKCk7XG4gICAgJCgnLmhlbHAtYnRuJykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAkKCcuaGVscC1tZW51JykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9kZWNyZWFzZVJ1bGVQcmlvcml0eSgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBpZCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCd0cicpLmlkO1xuICAgIGxldCBzcGxpdElkID0gaWQuc3BsaXQoJzonKTtcbiAgICBsZXQgdGhpc1ByaW9yaXR5ID0gcGFyc2VJbnQoc3BsaXRJZFtzcGxpdElkLmxlbmd0aCAtIDFdKTtcbiAgICBzcGxpdElkLnBvcCgpO1xuICAgIGxldCBwb2xpY3lUaXRsZSA9IHNwbGl0SWQuam9pbignOicpO1xuICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci5nZXRQb2xpY3kocG9saWN5VGl0bGUpLnRoZW4oKHBvbGljeSkgPT4ge1xuICAgICAgbGV0IGxhc3RQcmlvcml0eSA9IHBvbGljeS5nZXRMYXN0UHJpb3JpdHkoKTtcbiAgICAgIGlmIChsYXN0UHJpb3JpdHkgIT0gdGhpc1ByaW9yaXR5KSB7XG4gICAgICAgIGxldCBuZXdQcmlvcml0eSA9IHBhcnNlSW50KHRoaXNQcmlvcml0eSArIDEpO1xuICAgICAgICBfdGhpcy5wb2xpY2llc01hbmFnZXIuZGVjcmVhc2VSdWxlUHJpb3JpdHkocG9saWN5VGl0bGUsIHRoaXNQcmlvcml0eSwgbmV3UHJpb3JpdHkpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIF90aGlzLl9nb0hvbWUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfZGVsZXRlTWVtYmVyKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGlkID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ3RyJykuaWQ7XG4gICAgbGV0IHNwbGl0SWQgPSBpZC5zcGxpdCgnOjonKTtcbiAgICBsZXQgbWVtYmVyID0gc3BsaXRJZFtzcGxpdElkLmxlbmd0aCAtIDFdO1xuICAgIHNwbGl0SWQucG9wKCk7XG4gICAgbGV0IGdyb3VwID0gc3BsaXRJZC5qb2luKCc6OicpO1xuICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci5yZW1vdmVGcm9tR3JvdXAoZ3JvdXAsIG1lbWJlcikudGhlbigoKSA9PiB7XG4gICAgICBfdGhpcy5fbWFuYWdlR3JvdXBzKCk7XG4gICAgfSk7XG4gIH1cblxuICBfZGVsZXRlR3JvdXAoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgZ3JvdXBOYW1lID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ3RyJykuY2hpbGRyZW5bMF0uaWQ7XG4gICAgX3RoaXMucG9saWNpZXNNYW5hZ2VyLmRlbGV0ZUdyb3VwKGdyb3VwTmFtZSkudGhlbigoKSA9PiB7XG4gICAgICBfdGhpcy5fbWFuYWdlR3JvdXBzKCk7XG4gICAgfSk7XG4gIH1cblxuICBfZGVsZXRlUG9saWN5KCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IHBvbGljeVRpdGxlID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ3RyJykuaWQ7XG4gICAgX3RoaXMucG9saWNpZXNNYW5hZ2VyLmRlbGV0ZVBvbGljeShwb2xpY3lUaXRsZSkudGhlbigoKSA9PiB7XG4gICAgICBfdGhpcy5fZ29Ib21lKCk7XG4gICAgfSk7XG4gIH1cblxuICBfZGVsZXRlUnVsZSgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBpZCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCd0cicpLmlkO1xuICAgIGxldCBzcGxpdElkID0gaWQuc3BsaXQoJzonKTtcbiAgICBsZXQgcHJpb3JpdHkgPSBzcGxpdElkW3NwbGl0SWQubGVuZ3RoIC0gMV07XG4gICAgc3BsaXRJZC5wb3AoKTtcbiAgICBsZXQgcG9saWN5VGl0bGUgPSBzcGxpdElkLmpvaW4oJzonKTtcbiAgICBsZXQgcnVsZSA9IF90aGlzLnBvbGljaWVzTWFuYWdlci5nZXRSdWxlT2ZQb2xpY3kocG9saWN5VGl0bGUsIHByaW9yaXR5KTtcblxuICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci5kZWxldGVSdWxlKHBvbGljeVRpdGxlLCBydWxlKS50aGVuKCgpID0+IHtcbiAgICAgIF90aGlzLl9nb0hvbWUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9nZXRBY3RpdmVQb2xpY3koKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBfdGhpcy5wb2xpY2llc01hbmFnZXIuZ2V0QWN0aXZlUG9saWN5KCkudGhlbigoYWN0aXZlVXNlclBvbGljeSkgPT4ge1xuICAgICAgJCgnLnBvbGljeS1hY3RpdmUnKS5odG1sKCcnKTtcbiAgICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci5nZXRQb2xpY2llc1RpdGxlcygpLnRoZW4oKHBvbGljaWVzKSA9PiB7XG4gICAgICAgIHBvbGljaWVzLnB1c2goJ0RlYWN0aXZhdGUgYWxsIHBvbGljaWVzJyk7XG5cbiAgICAgICAgJCgnLnBvbGljeS1hY3RpdmUnKS5hcHBlbmQoX3RoaXMuX2dldE9wdGlvbnMoJ3BvbGljaWVzLWxpc3QnLCAnQ2xpY2sgdG8gYWN0aXZhdGUgYSBwb2xpY3knLCBwb2xpY2llcywgYWN0aXZlVXNlclBvbGljeSkpO1xuXG4gICAgICAgICQoJyNwb2xpY2llcy1saXN0Jykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgbGV0IHBvbGljeVRpdGxlID0gJCgnI3BvbGljaWVzLWxpc3QnKS5maW5kKFwiOnNlbGVjdGVkXCIpWzBdLnRleHRDb250ZW50O1xuICAgICAgICAgIGlmIChwb2xpY3lUaXRsZSA9PT0gJ0RlYWN0aXZhdGUgYWxsIHBvbGljaWVzJykge1xuICAgICAgICAgICAgcG9saWN5VGl0bGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci51cGRhdGVBY3RpdmVQb2xpY3kocG9saWN5VGl0bGUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX2dldEdyb3VwT3B0aW9ucyh0aXRsZSwga2V5cywgc2NvcGVzLCBsaXN0cykge1xuICAgIGxldCBsaXN0ID0gJzxvcHRpb24gZGlzYWJsZWQgc2VsZWN0ZWQ+JyArIHRpdGxlICsgJzwvb3B0aW9uPic7XG5cbiAgICBmb3IgKGxldCBpIGluIGtleXMpIHtcbiAgICAgIGxpc3QgKz0gJzxvcHRncm91cCBsYWJlbD0nICsga2V5c1tpXSArICc+JztcbiAgICAgIGZvciAobGV0IGogaW4gbGlzdHNbaV0pIHtcbiAgICAgICAgbGlzdCArPSAnPG9wdGlvbiBpZD1cIicgKyBzY29wZXNbaV0gKyAnXCI+JyArIGxpc3RzW2ldW2pdICsgJzwvb3B0aW9uPic7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cblxuICBfZ2V0SW5mbyh2YXJpYWJsZSkge1xuICAgIGxldCBpbmZvO1xuXG4gICAgc3dpdGNoKHZhcmlhYmxlKSB7XG4gICAgICBjYXNlICdEYXRlJzpcbiAgICAgICAgaW5mbyA9ICQoJy5jb25maWcnKS5maW5kKCdpbnB1dCcpLnZhbCgpO1xuICAgICAgICBpZiAoaW5mby5pbmRleE9mKCcsJykgIT09IC0xKSB7IC8vMjAgSnVseSwgMjAxNlxuICAgICAgICAgIGxldCBzcGxpdEluZm8gPSBpbmZvLnNwbGl0KCcgJyk7IC8vWycyMCcsICdKdWx5LCcsJyAnMjAxNiddXG4gICAgICAgICAgc3BsaXRJbmZvWzFdID0gc3BsaXRJbmZvWzFdLnN1YnN0cmluZygwLCBzcGxpdEluZm9bMV0ubGVuZ3RoIC0gMSk7IC8vJ0p1bHknXG4gICAgICAgICAgbGV0IG1vbnRocyA9IFsnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddO1xuICAgICAgICAgIGluZm8gPSBzcGxpdEluZm9bMF0gKyAnLycgKyAobW9udGhzLmluZGV4T2Yoc3BsaXRJbmZvWzFdKSArIDEpICsgJy8nICsgc3BsaXRJbmZvWzJdO1xuICAgICAgICB9IGVsc2UgeyAvLyAyMDE2LTA3LTIwXG4gICAgICAgICAgbGV0IHNwbGl0SW5mbyA9IGluZm8uc3BsaXQoJy0nKTtcbiAgICAgICAgICBpbmZvID0gc3BsaXRJbmZvWzJdICsgJy8nICsgc3BsaXRJbmZvWzFdICsgJy8nICsgc3BsaXRJbmZvWzBdO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnR3JvdXAgb2YgdXNlcnMnOlxuICAgICAgICBpbmZvID0gJCgnI2dyb3VwJykuZmluZChcIjpzZWxlY3RlZFwiKS50ZXh0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnU3Vic2NyaXB0aW9uIHByZWZlcmVuY2VzJzpcbiAgICAgICAgaWYgKGluZm8gPSAkKFwiaW5wdXRbbmFtZT0ncnVsZS1uZXctc3Vic2NyaXB0aW9uJ106Y2hlY2tlZFwiKVswXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaW5mbyA9ICQoXCJpbnB1dFtuYW1lPSdydWxlLW5ldy1zdWJzY3JpcHRpb24nXTpjaGVja2VkXCIpWzBdLmlkO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnV2Vla2RheSc6XG4gICAgICAgIGluZm8gPSAkKCcjd2Vla2RheScpLmZpbmQoXCI6c2VsZWN0ZWRcIikudGV4dCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGluZm8gPSAkKCcuY29uZmlnJykuZmluZCgnaW5wdXQnKS52YWwoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZm87XG4gIH1cblxuICBfZ2V0TGlzdChpdGVtcykge1xuICAgICAgbGV0IGxpc3QgPSAnJztcbiAgICAgIGxldCBudW1JdGVtcyA9IGl0ZW1zLmxlbmd0aDtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1JdGVtczsgaSsrKSB7XG4gICAgICAgIGxpc3QgKz0gJzxsaSBjbGFzcz1cImRpdmlkZXJcIj48L2xpPic7XG4gICAgICAgIGxpc3QgKz0gJzxsaT48YSBjbGFzcz1cImNlbnRlci1hbGlnblwiPicgKyBpdGVtc1tpXSArICc8L2E+PC9saT4nO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgX2dldE9wdGlvbnMoaWQsIHRpdGxlLCBsaXN0LCBzZWxlY3RlZCkge1xuICAgIGxldCBvcHRpb25zID0gJzxzZWxlY3QgaWQ9XCInICsgaWQgKyAnXCIgY2xhc3M9XCJicm93c2VyLWRlZmF1bHRcIj48b3B0aW9uIGRpc2FibGVkIHNlbGVjdGVkPicgKyB0aXRsZSArICc8L29wdGlvbj4nO1xuICAgIGZvciAobGV0IGkgaW4gbGlzdCkge1xuICAgICAgaWYgKHNlbGVjdGVkICE9PSB1bmRlZmluZWQgJiBzZWxlY3RlZCA9PT0gbGlzdFtpXSkge1xuICAgICAgICBvcHRpb25zICs9ICc8b3B0aW9uIHNlbGVjdGVkIGlkPVwiJyArIGlkICsgJ1wiPicgKyBsaXN0W2ldICsgJzwvb3B0aW9uPic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zICs9ICc8b3B0aW9uIGlkPVwiJyArIGlkICsgJ1wiPicgKyBsaXN0W2ldICsgJzwvb3B0aW9uPic7XG4gICAgICB9XG4gICAgfVxuICAgIG9wdGlvbnMgKz0gJzwvc2VsZWN0Pic7XG5cbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfVxuXG4gIF9nZXRQb2xpY2llc1RhYmxlKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5wb2xpY2llc01hbmFnZXIuZ2V0Rm9ybWF0dGVkUG9saWNpZXMoKS50aGVuKChwb2xpY2llcykgPT4ge1xuICAgICAgJCgnLnBvbGljaWVzLW5vJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICQoJy5wb2xpY2llcy1jdXJyZW50JykuaHRtbCgnJyk7XG5cbiAgICAgIGxldCBwb2xpY2llc1RpdGxlcyA9IFtdO1xuICAgICAgbGV0IHJ1bGVzVGl0bGVzID0gW107XG4gICAgICBsZXQgaWRzID0gW107XG5cbiAgICAgIGZvciAobGV0IGkgaW4gcG9saWNpZXMpIHtcbiAgICAgICAgcG9saWNpZXNUaXRsZXMucHVzaChwb2xpY2llc1tpXS50aXRsZSk7XG4gICAgICAgIHJ1bGVzVGl0bGVzLnB1c2gocG9saWNpZXNbaV0ucnVsZXNUaXRsZXMpO1xuICAgICAgICBpZHMucHVzaChwb2xpY2llc1tpXS5pZHMpO1xuICAgICAgfVxuXG4gICAgICBsZXQgdGFibGUgPSAnPHRhYmxlPic7XG4gICAgICBsZXQgaXNFbXB0eSA9IHBvbGljaWVzVGl0bGVzLmxlbmd0aCA9PT0gMDtcblxuICAgICAgZm9yIChsZXQgaSBpbiBwb2xpY2llc1RpdGxlcykge1xuICAgICAgICB0YWJsZSArPSAnPHRoZWFkPjx0ciBpZD1cIicgKyBwb2xpY2llc1RpdGxlc1tpXSArICdcIj48dGQ+PC90ZD48dGQ+PC90ZD48dGggY2xhc3M9XCJjZW50ZXItYWxpZ25cIj4nICsgcG9saWNpZXNUaXRsZXNbaV0gKyAnPC90aD48dGQ+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBjbGlja2FibGUtY2VsbCBwb2xpY3ktZGVsZXRlXCIgc3R5bGU9XCJjdXJzb3I6IHBvaW50ZXI7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGVcIj5kZWxldGVfZm9yZXZlcjwvaT48L3RkPjwvdHI+PC90aGVhZD48dGJvZHk+JztcblxuICAgICAgICBmb3IgKGxldCBqIGluIHJ1bGVzVGl0bGVzW2ldKSB7XG4gICAgICAgICAgdGFibGUgKz0gJzx0ciBpZD1cIicgKyBpZHNbaV1bal0gKyAnXCIgPjx0ZD48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zIGNsaWNrYWJsZS1jZWxsIHJ1bGUtcHJpb3JpdHktaW5jcmVhc2VcIiBzdHlsZT1cImN1cnNvcjogcG9pbnRlcjsgdmVydGljYWwtYWxpZ246IG1pZGRsZVwiPmFycm93X3Vwd2FyZDwvaT48L3RkPjx0ZD48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zIGNsaWNrYWJsZS1jZWxsIHJ1bGUtcHJpb3JpdHktZGVjcmVhc2VcIiBzdHlsZT1cImN1cnNvcjogcG9pbnRlcjsgdmVydGljYWwtYWxpZ246IG1pZGRsZVwiPmFycm93X2Rvd253YXJkPC9pPjwvdGQ+PHRkIGNsYXNzPVwicnVsZS1zaG93IGNsaWNrYWJsZS1jZWxsXCIgc3R5bGU9XCJjdXJzb3I6IHBvaW50ZXJcIj4nICsgcnVsZXNUaXRsZXNbaV1bal0gKyAnPC90ZD48dGQ+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBjbGlja2FibGUtY2VsbCBydWxlLWRlbGV0ZVwiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlXCI+Y2xlYXI8L2k+PC90ZD48L3RyPic7XG4gICAgICAgIH1cbiAgICAgICAgdGFibGUgKz0gJzx0ciBpZD1cIicgKyBwb2xpY2llc1RpdGxlc1tpXSArICdcIj48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjx0ZCBzdHlsZT1cInRleHQtYWxpZ246Y2VudGVyXCI+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBjbGlja2FibGUtY2VsbCBjZW50ZXItYWxpZ24gcnVsZS1hZGRcIiBzdHlsZT1cImN1cnNvcjogcG9pbnRlclwiPmFkZF9jaXJjbGU8L2k+PC90ZD48L3RyPic7XG4gICAgICB9XG4gICAgICBpZiAoIWlzRW1wdHkpIHtcbiAgICAgICAgdGFibGUgKz0gJzwvdGJvZHk+PC90YWJsZT4nO1xuICAgICAgICAkKCcucG9saWNpZXMtY3VycmVudCcpLmFwcGVuZCh0YWJsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCcucG9saWNpZXMtbm8nKS5yZW1vdmVDbGFzcygnaGlkZScpO1xuICAgICAgfVxuICAgICAgJCgnLnJ1bGUtYWRkJykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7IF90aGlzLl9zaG93VmFyaWFibGVzVHlwZXMoKTsgfSk7XG4gICAgICAkKCcucnVsZS1kZWxldGUnKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHsgX3RoaXMuX2RlbGV0ZVJ1bGUoKTsgfSk7XG4gICAgICAkKCcucnVsZS1zaG93Jykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7IF90aGlzLl9zaG93UnVsZSgpOyB9KTtcbiAgICAgICQoJy5ydWxlLXByaW9yaXR5LWluY3JlYXNlJykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7IF90aGlzLl9pbmNyZWFzZVJ1bGVQcmlvcml0eSgpOyB9KTtcbiAgICAgICQoJy5ydWxlLXByaW9yaXR5LWRlY3JlYXNlJykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7IF90aGlzLl9kZWNyZWFzZVJ1bGVQcmlvcml0eSgpOyB9KTtcbiAgICAgICQoJy5wb2xpY3ktYWRkJykub2ZmKCk7XG4gICAgICAkKCcucG9saWN5LWFkZCcpLm9uKCdjbGljaycsIChldmVudCkgPT4geyBfdGhpcy5fYWRkUG9saWN5KCk7IH0pO1xuICAgICAgJCgnLnBvbGljeS1kZWxldGUnKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHsgX3RoaXMuX2RlbGV0ZVBvbGljeSgpOyB9KTtcbiAgICB9KTsgXG4gIH1cblxuICBfZ29Ib21lKCkge1xuICAgIHRoaXMuX2dldEFjdGl2ZVBvbGljeSgpO1xuICAgIHRoaXMuX2dldFBvbGljaWVzVGFibGUoKTtcbiAgfVxuXG4gIF9pbmNyZWFzZVJ1bGVQcmlvcml0eSgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBpZCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCd0cicpLmlkO1xuICAgIGxldCBzcGxpdElkID0gaWQuc3BsaXQoJzonKTtcbiAgICBsZXQgdGhpc1ByaW9yaXR5ID0gcGFyc2VJbnQoc3BsaXRJZFtzcGxpdElkLmxlbmd0aCAtIDFdKTtcbiAgICBpZiAodGhpc1ByaW9yaXR5ICE9PSAwKSB7XG4gICAgICBzcGxpdElkLnBvcCgpO1xuICAgICAgbGV0IHBvbGljeVRpdGxlID0gc3BsaXRJZC5qb2luKCc6Jyk7XG4gICAgICBsZXQgbmV3UHJpb3JpdHkgPSB0aGlzUHJpb3JpdHkgLSAxO1xuXG4gICAgICBfdGhpcy5wb2xpY2llc01hbmFnZXIuaW5jcmVhc2VSdWxlUHJpb3JpdHkocG9saWN5VGl0bGUsIHRoaXNQcmlvcml0eSwgbmV3UHJpb3JpdHkpLnRoZW4oKCkgPT4ge1xuICAgICAgICBfdGhpcy5fZ29Ib21lKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBfbWFuYWdlR3JvdXBzKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgX3RoaXMucG9saWNpZXNNYW5hZ2VyLmdldEdyb3VwcygpLnRoZW4oKGdyb3Vwc1BFKSA9PiB7XG4gICAgICAkKCcuZ3JvdXBzLWN1cnJlbnQnKS5odG1sKCcnKTtcbiAgICAgIGxldCBncm91cHMgPSBncm91cHNQRS5ncm91cHNOYW1lcztcbiAgICAgIGxldCBtZW1iZXJzID0gZ3JvdXBzUEUubWVtYmVycztcbiAgICAgIGxldCBpZHMgPSBncm91cHNQRS5pZHM7XG5cbiAgICAgIGxldCB0YWJsZSA9ICc8dGFibGU+JztcbiAgICAgIGxldCBpc0VtcHR5ID0gZ3JvdXBzLmxlbmd0aCA9PT0gMDtcblxuICAgICAgZm9yIChsZXQgaSBpbiBncm91cHMpIHtcbiAgICAgICAgdGFibGUgKz0gJzx0aGVhZD48dHI+PHRoIGlkPVwiJyArIGdyb3Vwc1tpXSArICdcIj4nICsgZ3JvdXBzW2ldICsgJzwvdGg+PHRkIHN0eWxlPVwidGV4dC1hbGlnbjpyaWdodFwiPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgY2xpY2thYmxlLWNlbGwgZ3JvdXAtZGVsZXRlXCIgc3R5bGU9XCJjdXJzb3I6IHBvaW50ZXI7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGVcIj5kZWxldGVfZm9yZXZlcjwvaT48L3RkPjwvdHI+PC90aGVhZD48dGJvZHk+JztcbiAgICAgICAgZm9yIChsZXQgaiBpbiBtZW1iZXJzW2ldKSB7XG4gICAgICAgICAgdGFibGUgKz0gJzx0ciBpZD1cIicgKyBpZHNbaV1bal0gKyAnXCIgPjx0ZCBzdHlsZT1cImN1cnNvcjogcG9pbnRlclwiPicgKyBtZW1iZXJzW2ldW2pdICsgJzwvdGQ+PHRkIHN0eWxlPVwidGV4dC1hbGlnbjpyaWdodFwiPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgY2xpY2thYmxlLWNlbGwgbWVtYmVyLWRlbGV0ZVwiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlXCI+Y2xlYXI8L2k+PC90ZD48L3RyPic7XG4gICAgICAgIH1cblxuICAgICAgICB0YWJsZSArPSAnPHRyIGlkPVwiJyArIGdyb3Vwc1tpXSArICdcIj48dGQ+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBjbGlja2FibGUtY2VsbCBtZW1iZXItYWRkXCIgaWQ9XCInICsgZ3JvdXBzW2ldICsgJ1wiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyXCI+YWRkX2NpcmNsZTwvaT48L3RkPjwvdHI+JztcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc0VtcHR5KSB7XG4gICAgICAgIHRhYmxlICs9ICc8L3Rib2R5PjwvdGFibGU+JztcbiAgICAgICAgJCgnLmdyb3Vwcy1jdXJyZW50JykuYXBwZW5kKHRhYmxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoJy5ncm91cHMtY3VycmVudCcpLmFwcGVuZCgnPHA+VGhlcmUgYXJlIG5vIGdyb3VwcyBzZXQuPC9wPicpO1xuICAgICAgfVxuXG4gICAgICAkKCcubWVtYmVyLWFkZCcpLm9mZigpO1xuICAgICAgJCgnLm1lbWJlci1hZGQnKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHsgX3RoaXMuX2FkZE1lbWJlcigpOyB9KTtcbiAgICAgICQoJy5tZW1iZXItZGVsZXRlJykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7IF90aGlzLl9kZWxldGVNZW1iZXIoKTsgfSk7XG4gICAgICAkKCcuZ3JvdXAtYWRkJykub2ZmKCk7XG4gICAgICAkKCcuZ3JvdXAtYWRkJykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7IF90aGlzLl9jcmVhdGVHcm91cCgpOyB9KTtcbiAgICAgICQoJy5ncm91cC1kZWxldGUnKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHsgX3RoaXMuX2RlbGV0ZUdyb3VwKCk7IH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX3BhcnNlRmlsZUNvbnRlbnQoY29udGVudCkge1xuICAgIGxldCBwYXJzZWRDb250ZW50ID0gSlNPTi5wYXJzZShjb250ZW50KTtcbiAgICBmb3IgKGxldCBpIGluIHBhcnNlZENvbnRlbnQpIHtcbiAgICAgIHRoaXMucG9saWNpZXNNYW5hZ2VyLmFkZFBvbGljeShpLCB1bmRlZmluZWQsIHBhcnNlZENvbnRlbnRbaV0pO1xuICAgIH1cbiAgICAkKCcucG9saWN5LW5ldycpLmNsb3NlTW9kYWwoKTtcbiAgfVxuXG4gIF9zZXRFbGVtZW50cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZGF0ZTogKHBhcmFtcykgPT4geyByZXR1cm4gJzxpbnB1dCB0eXBlPVwiZGF0ZVwiIGNsYXNzPVwiZGF0ZXBpY2tlclwiPic7IH0sXG4gICAgICBzZWxlY3Q6IChwYXJhbXMpID0+IHsgcmV0dXJuIHRoaXMuX2dldE9wdGlvbnMocGFyYW1zWzBdLCBwYXJhbXNbMV0sIHBhcmFtc1syXSk7IH0sXG4gICAgICBmb3JtOiAocGFyYW1zKSA9PiB7IHJldHVybiAnPGZvcm0+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCInICsgcGFyYW1zICsgJ1wiPjwvaW5wdXQ+PC9mb3JtPic7IH1cbiAgICB9O1xuICB9XG5cbiAgX3Nob3dOZXdDb25maWd1cmF0aW9uUGFuZWwocG9saWN5VGl0bGUpIHtcbiAgICBsZXQgdmFyaWFibGUgPSBldmVudC50YXJnZXQudGV4dDtcbiAgICAkKCcudmFyaWFibGUnKS5odG1sKHRoaXMuX2dldE5ld0NvbmZpZ3VyYXRpb24ocG9saWN5VGl0bGUsIHZhcmlhYmxlKSk7XG4gICAgJCgnLnNjb3BlcycpLmVtcHR5KCkuaHRtbCgnJyk7XG5cbiAgICBsZXQga2V5cyA9IFsnRW1haWwnLCAnSHlwZXJ0eScsICdBbGwnXTtcbiAgICBsZXQgc2NvcGVzID0gWydpZGVudGl0eScsICdoeXBlcnR5JywgJ2dsb2JhbCddO1xuICAgIGxldCBsaXN0cyA9IFtdO1xuXG4gICAgdGhpcy5wb2xpY2llc01hbmFnZXIuZ2V0TXlFbWFpbHMoKS50aGVuKChlbWFpbHMpID0+IHtcbiAgICAgIGxpc3RzLnB1c2goZW1haWxzKTtcbiAgICAgIHRoaXMucG9saWNpZXNNYW5hZ2VyLmdldE15SHlwZXJ0aWVzKCkudGhlbigoaHlwZXJ0aWVzKSA9PiB7XG4gICAgICAgIGxpc3RzLnB1c2goaHlwZXJ0aWVzKTtcbiAgICAgICAgbGlzdHMucHVzaChbJ0FsbCBpZGVudGl0aWVzIGFuZCBoeXBlcnRpZXMnXSk7XG4gICAgICAgICQoJy5zY29wZXMnKS5hcHBlbmQodGhpcy5fZ2V0R3JvdXBPcHRpb25zKCdBcHBseSB0aGlzIGNvbmZpZ3VyYXRpb24gdG86Jywga2V5cywgc2NvcGVzLCBsaXN0cykpO1xuICAgICAgICAkKCcudmFyaWFibGUnKS5yZW1vdmVDbGFzcygnaGlkZScpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBfc2hvd1ZhcmlhYmxlc1R5cGVzKGV2ZW50KSB7XG4gICAgbGV0IHBvbGljeVRpdGxlID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ3RyJykuaWQ7XG5cbiAgICAkKCcjdmFyaWFibGVzLXR5cGVzJykuZW1wdHkoKS5odG1sKCcnKTtcbiAgICBsZXQgdmFyaWFibGVzID0gdGhpcy5wb2xpY2llc01hbmFnZXIuZ2V0VmFyaWFibGVzKCk7XG4gICAgJCgnI3ZhcmlhYmxlcy10eXBlcycpLmFwcGVuZCh0aGlzLl9nZXRMaXN0KHZhcmlhYmxlcykpO1xuICAgICQoJy52YXJpYWJsZScpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgJCgnLnJ1bGUtbmV3Jykub3Blbk1vZGFsKCk7XG4gICAgJCgnI3ZhcmlhYmxlcy10eXBlcycpLm9mZigpO1xuICAgICQoJyN2YXJpYWJsZXMtdHlwZXMnKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHsgdGhpcy5fc2hvd05ld0NvbmZpZ3VyYXRpb25QYW5lbChwb2xpY3lUaXRsZSk7IH0pO1xuICB9XG5cbiAgX2dldE5ld0NvbmZpZ3VyYXRpb24ocG9saWN5VGl0bGUsIHZhcmlhYmxlKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgaW5mbyA9IF90aGlzLnBvbGljaWVzTWFuYWdlci5nZXRWYXJpYWJsZUluZm8odmFyaWFibGUpO1xuICAgICQoJy5ydWxlLW5ldy10aXRsZScpLmh0bWwoaW5mby50aXRsZSk7XG4gICAgJCgnLmRlc2NyaXB0aW9uJykuaHRtbChpbmZvLmRlc2NyaXB0aW9uKTtcbiAgICAkKCcuY29uZmlnJykuaHRtbCgnJyk7XG5cbiAgICBpZiAodmFyaWFibGUgPT09ICdTdWJzY3JpcHRpb24gcHJlZmVyZW5jZXMnKSB7XG4gICAgICAkKCcuc3Vic2NyaXB0aW9uLXR5cGUnKS5yZW1vdmVDbGFzcygnaGlkZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcuc3Vic2NyaXB0aW9uLXR5cGUnKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICAgbGV0IHRhZ3MgPSBpbmZvLmlucHV0O1xuICAgICAgZm9yIChsZXQgaSBpbiB0YWdzKSB7XG4gICAgICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci5nZXRHcm91cHNOYW1lcygpLnRoZW4oKGdyb3Vwc05hbWVzKSA9PiB7XG4gICAgICAgICAgaWYgKHZhcmlhYmxlID09PSAnR3JvdXAgb2YgdXNlcnMnKSB7XG4gICAgICAgICAgICB0YWdzW2ldWzFdLnB1c2goZ3JvdXBzTmFtZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAkKCcuY29uZmlnJykuYXBwZW5kKF90aGlzLmVsZW1lbnRzW3RhZ3NbaV1bMF1dKHRhZ3NbaV1bMV0pKTtcbiAgICAgICAgICBpZiAodmFyaWFibGUgPT09ICdHcm91cCBvZiB1c2VycycpIHtcbiAgICAgICAgICAgIHRhZ3NbaV1bMV0ucG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh2YXJpYWJsZSA9PT0nZGF0ZScpIHtcbiAgICAgICAgJCgnLmRhdGVwaWNrZXInKS5waWNrYWRhdGUoe1xuICAgICAgICAgIHNlbGVjdE1vbnRoczogdHJ1ZSxcbiAgICAgICAgICBzZWxlY3RZZWFyczogMTVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbGxvdycpLmNoZWNrZWQgPSBmYWxzZTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmxvY2snKS5jaGVja2VkID0gZmFsc2U7XG4gICAgJCgnLm9rLWJ0bicpLm9mZigpO1xuICAgICQoJy5vay1idG4nKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmICgkKFwiaW5wdXRbbmFtZT0ncnVsZS1uZXctZGVjaXNpb24nXTpjaGVja2VkXCIpWzBdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGV0IGluZm8gPSBfdGhpcy5fZ2V0SW5mbyh2YXJpYWJsZSk7XG4gICAgICAgIGxldCBkZWNpc2lvbiA9ICQoXCJpbnB1dFtuYW1lPSdydWxlLW5ldy1kZWNpc2lvbiddOmNoZWNrZWRcIilbMF0uaWQ7XG4gICAgICAgIGRlY2lzaW9uID0gZGVjaXNpb24gPT09ICdhbGxvdyc7XG4gICAgICAgIGxldCBzY29wZSA9ICQoJy5zY29wZXMnKS5maW5kKFwiOnNlbGVjdGVkXCIpWzBdLmlkO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gJCgnLnNjb3BlcycpLmZpbmQoXCI6c2VsZWN0ZWRcIilbMF0udGV4dENvbnRlbnQ7XG4gICAgICAgIHRhcmdldCA9ICh0YXJnZXQgPT09ICdBbGwgaWRlbnRpdGllcyBhbmQgaHlwZXJ0aWVzJykgPyAnZ2xvYmFsJyA6IHRhcmdldDtcbiAgICAgICAgX3RoaXMucG9saWNpZXNNYW5hZ2VyLnNldEluZm8odmFyaWFibGUsIHBvbGljeVRpdGxlLCBpbmZvLCBkZWNpc2lvbiwgc2NvcGUsIHRhcmdldCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgJCgnLnJ1bGUtbmV3JykuY2xvc2VNb2RhbCgpO1xuICAgICAgICAgIF90aGlzLl9nb0hvbWUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcignSU5GT1JNQVRJT04gTUlTU0lORzogcGxlYXNlIHNwZWNpZnkgYW4gYXV0aG9yaXNhdGlvbiBkZWNpc2lvbi4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9kZWxldGVJbmZvKHJlc291cmNlVHlwZSkge1xuICAgIGxldCBpZCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCd0cicpLmlkO1xuICAgIGxldCBzcGxpdElkID0gaWQuc3BsaXQoJzonKTtcbiAgICBsZXQgc2NvcGUgPSBzcGxpdElkWzBdO1xuICAgIHNwbGl0SWQuc2hpZnQoKTtcbiAgICBsZXQgdGFyZ2V0ID0gc3BsaXRJZC5qb2luKCcnKTtcbiAgICBsZXQgY29uZGl0aW9uID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ3RyJykuY2hpbGRyZW5bMF0uaWQ7XG4gICAgdGhpcy5wb2xpY2llc01hbmFnZXIuZGVsZXRlSW5mbyhyZXNvdXJjZVR5cGUsIHNjb3BlLCB0YXJnZXQsIGNvbmRpdGlvbik7XG4gICAgdGhpcy5fZ29Ib21lKCk7XG4gIH1cblxuICBfc2V0TGlzdGVuZXJzKCkge1xuICAgICQoJy5zZXR0aW5ncy1idG4nKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIHBhcmVudC5wb3N0TWVzc2FnZSh7IGJvZHk6IHsgbWV0aG9kOiAnc2hvd0FkbWluUGFnZScgfSwgdG86ICdydW50aW1lOmd1aS1tYW5hZ2VyJyB9LCAnKicpO1xuICAgICAgJCgnLmFkbWluLXBhZ2UnKS5yZW1vdmVDbGFzcygnaGlkZScpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5zdHlsZSA9ICdiYWNrZ3JvdW5kLWNvbG9yOndoaXRlOyc7XG4gICAgfSk7XG5cbiAgICAkKCcucG9saWNpZXMtcGFnZS1zaG93Jykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAkKCcucG9saWNpZXMtc2VjdGlvbicpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG4gICAgICAkKCcuaWRlbnRpdGllcy1zZWN0aW9uJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgIHRoaXMuX2dvSG9tZSgpO1xuICAgICAgdGhpcy5fbWFuYWdlR3JvdXBzKCk7XG4gICAgfSk7XG5cbiAgICAkKCcuYWRtaW4tcGFnZS1leGl0Jykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBwYXJlbnQucG9zdE1lc3NhZ2UoeyBib2R5OiB7IG1ldGhvZDogJ2hpZGVBZG1pblBhZ2UnIH0sIHRvOiAncnVudGltZTpndWktbWFuYWdlcicgfSwgJyonKTtcbiAgICAgICQoJy5hZG1pbi1wYWdlJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF0uc3R5bGUgPSAnYmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDsnO1xuICAgIH0pO1xuXG4gICAgJCgnLmV4aXQtYnRuJykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAkKCcuc3Vic2NyaXB0aW9uLXR5cGUnKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICAgJCgnLmhlbHAtbWVudScpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgfSk7XG5cbiAgICAkKCcjcG9saWN5LWZpbGUnKS5vbignY2hhbmdlJywgKGV2ZW50KSA9PiB7XG4gICAgICBsZXQgZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTtcbiAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSwgXCJVVEYtOFwiKTtcbiAgICAgIHJlYWRlci5vbmxvYWQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgdGhpcy5fcGFyc2VGaWxlQ29udGVudChldmVudC50YXJnZXQucmVzdWx0KTtcbiAgICAgICAgdGhpcy5fZ29Ib21lKCk7XG4gICAgICB9XG4gICAgICByZWFkZXIub25lcnJvciA9IChldmVudCkgPT4ge1xuICAgICAgICB0aHJvdyBFcnJvcihcIkVycm9yIHJlYWRpbmcgdGhlIGZpbGVcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfc2hvd1J1bGUoZXZlbnQpIHtcbiAgICBsZXQgcnVsZVRpdGxlID0gZXZlbnQudGFyZ2V0LnRleHRDb250ZW50O1xuICAgIGxldCBpZCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCd0cicpLmlkO1xuICAgIGxldCBzcGxpdElkID0gaWQuc3BsaXQoJzonKTtcbiAgICBsZXQgcHJpb3JpdHkgPSBzcGxpdElkW3NwbGl0SWQubGVuZ3RoIC0gMV07XG4gICAgc3BsaXRJZC5wb3AoKTtcbiAgICBsZXQgcG9saWN5VGl0bGUgPSBzcGxpdElkLmpvaW4oJzonKTtcbiAgICB0aGlzLnBvbGljaWVzTWFuYWdlci5nZXRSdWxlT2ZQb2xpY3kocG9saWN5VGl0bGUsIHByaW9yaXR5KS50aGVuKChydWxlKSA9PiB7XG4gICAgICBpZiAocnVsZS5jb25kaXRpb24uYXR0cmlidXRlID09PSAnc3Vic2NyaXB0aW9uJyAmJiBydWxlLmNvbmRpdGlvbi5wYXJhbXMgPT09ICdwcmVhdXRob3Jpc2VkJykge1xuICAgICAgICAkKCcuYXV0aG9yaXNlLWJ0bnMnKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGVsZW1lbnQ7XG4gICAgICAgIGlmIChydWxlLmRlY2lzaW9uKSB7XG4gICAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tYWxsb3cnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1ibG9jaycpO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQuY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICQoJy5hdXRob3Jpc2UtYnRucycpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG4gICAgICB9XG4gICAgICAkKCcubWVtYmVyLWFkZCcpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgICAkKCcubWVtYmVyLW5ldy1idG4nKS5hZGRDbGFzcygnaGlkZScpO1xuXG4gICAgICAkKCcucnVsZS1kZXRhaWxzJykub3Blbk1vZGFsKCk7XG4gICAgICAkKCcucnVsZS10aXRsZScpLmh0bWwoJzxoNT48Yj4nICsgcnVsZVRpdGxlICsgJzwvYj48L2g1PicpO1xuICAgICAgaWYgKHJ1bGUuY29uZGl0aW9uLmF0dHJpYnV0ZSA9PT0gJ3N1YnNjcmlwdGlvbicpIHtcbiAgICAgICAgJCgnLnN1YnNjcmlwdGlvbi10eXBlJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAgIH1cbiAgICAgICQoJy5zdWJzY3JpcHRpb24tZGVjaXNpb24nKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHsgdGhpcy5fdXBkYXRlUnVsZSgnc3Vic2NyaXB0aW9uJywgcG9saWN5VGl0bGUsIHJ1bGUpOyB9KTtcbiAgICAgICQoJy5kZWNpc2lvbicpLm9mZigpO1xuICAgICAgJCgnLmRlY2lzaW9uJykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7IHRoaXMuX3VwZGF0ZVJ1bGUoJ2F1dGhvcmlzYXRpb24nLCBwb2xpY3lUaXRsZSwgcnVsZSk7fSk7XG4gICAgfSk7XG4gIH1cblxuICBfdXBkYXRlUnVsZSh0eXBlLCBwb2xpY3lUaXRsZSwgcnVsZSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IHRpdGxlID0gJCgnLnJ1bGUtdGl0bGUnKS50ZXh0KCk7XG4gICAgbGV0IHNwbGl0VGl0bGUgPSB0aXRsZS5zcGxpdCgnICcpO1xuICAgIGxldCBpbmRleCA9IHNwbGl0VGl0bGUuaW5kZXhPZignaXMnKTtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICBpbmRleCA9IHNwbGl0VGl0bGUuaW5kZXhPZignYXJlJyk7XG4gICAgfVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnYXV0aG9yaXNhdGlvbic6XG4gICAgICAgIGxldCBuZXdEZWNpc2lvbiA9ICQoXCJpbnB1dFtuYW1lPSdydWxlLXVwZGF0ZS1kZWNpc2lvbiddOmNoZWNrZWRcIilbMF0uaWQ7XG5cbiAgICAgICAgaWYgKG5ld0RlY2lzaW9uID09PSAnYnRuLWFsbG93Jykge1xuICAgICAgICAgIHNwbGl0VGl0bGVbaW5kZXggKyAxXSA9ICdhbGxvd2VkJztcbiAgICAgICAgICBuZXdEZWNpc2lvbiA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3BsaXRUaXRsZVtpbmRleCArIDFdID0gJ2Jsb2NrZWQnO1xuICAgICAgICAgIG5ld0RlY2lzaW9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGl0bGUgPSBzcGxpdFRpdGxlLmpvaW4oJyAnKTtcbiAgICAgICAgJCgnLnJ1bGUtdGl0bGUnKS5odG1sKCc8aDU+PGI+JyArIHRpdGxlICsgJzwvYj48L2g1PicpO1xuICAgICAgICBfdGhpcy5wb2xpY2llc01hbmFnZXIudXBkYXRlUG9saWN5KHBvbGljeVRpdGxlLCBydWxlLCBuZXdEZWNpc2lvbikudGhlbigoKSA9PiB7XG4gICAgICAgICAgX3RoaXMuX2dvSG9tZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzdWJzY3JpcHRpb24nOlxuICAgICAgICBsZXQgbmV3U3Vic2NyaXB0aW9uVHlwZSA9IGV2ZW50LnRhcmdldC5sYWJlbHNbMF0udGV4dENvbnRlbnQ7XG5cbiAgICAgICAgbGV0IGRlY2lzaW9uID0gc3BsaXRUaXRsZVtpbmRleCArIDFdO1xuICAgICAgICBzcGxpdFRpdGxlID0gdGl0bGUuc3BsaXQoJ2h5cGVydGllcyBhcmUnKTtcbiAgICAgICAgaWYgKG5ld1N1YnNjcmlwdGlvblR5cGUgPT09ICdBbGwgc3Vic2NyaWJlcnMnKSB7XG4gICAgICAgICAgJCgnLmF1dGhvcmlzZS1idG5zJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgICBuZXdEZWNpc2lvbiA9IHJ1bGUuZGVjaXNpb247XG4gICAgICAgICAgbmV3U3Vic2NyaXB0aW9uVHlwZSA9ICcqJztcbiAgICAgICAgICB0aXRsZSA9ICdTdWJzY3JpcHRpb25zIGZyb20gYWxsIGh5cGVydGllcyBhcmUnICsgc3BsaXRUaXRsZVsxXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKCcuYXV0aG9yaXNlLWJ0bnMnKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICAgICAgIG5ld0RlY2lzaW9uID0gdHJ1ZTtcbiAgICAgICAgICBuZXdTdWJzY3JpcHRpb25UeXBlID0gJ3ByZWF1dGhvcmlzZWQnO1xuICAgICAgICAgIHRpdGxlID0gJ1N1YnNjcmlwdGlvbnMgZnJvbSBwcmV2aW91c2x5IGF1dGhvcmlzZWQgaHlwZXJ0aWVzIGFyZScgKyBzcGxpdFRpdGxlWzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgJCgnLnJ1bGUtdGl0bGUnKS5odG1sKCc8aDU+PGI+JyArIHRpdGxlICsgJzwvYj48L2g1PicpO1xuICAgICAgICBfdGhpcy5wb2xpY2llc01hbmFnZXIudXBkYXRlUG9saWN5KHBvbGljeVRpdGxlLCBydWxlLCBuZXdEZWNpc2lvbiwgbmV3U3Vic2NyaXB0aW9uVHlwZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgX3RoaXMuX2dvSG9tZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvbGljaWVzR1VJO1xuIiwiY2xhc3MgUG9saWNpZXNNYW5hZ2VyIHtcblxuICBjb25zdHJ1Y3RvcihwZXBHdWlVUkwsIHBlcFVSTCwgbWVzc2FnZUJ1cykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgX3RoaXMuX2d1aVVSTCA9IHBlcEd1aVVSTDtcbiAgICBfdGhpcy5fcGVwVVJMID0gcGVwVVJMO1xuICAgIF90aGlzLl9tZXNzYWdlQnVzID0gbWVzc2FnZUJ1cztcblxuICAgIC8vIGFzc3VtZSBwcmVwYXJlIGF0dHJpYnV0ZXMgaXMgY2FsbGVkIGFmdGVyIHRoaXNcbiAgfVxuXG4gIGNhbGxQb2xpY3lFbmdpbmVGdW5jKG1ldGhvZE5hbWUsIHBhcmFtZXRlcnMpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBtZXNzYWdlO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIG1lc3NhZ2UgPSB7IHR5cGU6ICdleGVjdXRlJywgdG86IF90aGlzLl9wZXBVUkwsIGZyb206IF90aGlzLl9ndWlVUkwsXG4gICAgICAgIGJvZHk6IHsgcmVzb3VyY2U6ICdwb2xpY3knLCBtZXRob2Q6IG1ldGhvZE5hbWUsIHBhcmFtczogcGFyYW1ldGVycyB9LCB9O1xuICAgICAgX3RoaXMuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobWVzc2FnZSwgKHJlcykgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0ID0gcmVzLmJvZHkudmFsdWU7XG4gICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJlcGFyZUF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygndXNlclBvbGljaWVzJywge30pLnRoZW4oKHVzZXJQb2xpY2llcykgPT4ge1xuICAgICAgICBfdGhpcy5wb2xpY2llcyA9IHVzZXJQb2xpY2llcztcbiAgICAgICAgX3RoaXMudmFyaWFibGVzID0gX3RoaXMuc2V0VmFyaWFibGVzKCk7XG4gICAgICAgIF90aGlzLmFkZGl0aW9uID0gX3RoaXMuc2V0QWRkaXRpb25NZXRob2RzKCk7XG4gICAgICAgIF90aGlzLnZhbGlkYXRpb24gPSBfdGhpcy5zZXRWYWxpZGF0aW9uTWV0aG9kcygpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZFRvR3JvdXAoZ3JvdXBOYW1lLCB1c2VyKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ2FkZFRvR3JvdXAnLCB7Z3JvdXBOYW1lOiBncm91cE5hbWUsIHVzZXJFbWFpbDogdXNlcn0pO1xuICB9XG5cbiAgY3JlYXRlR3JvdXAoZ3JvdXBOYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ2NyZWF0ZUdyb3VwJywge2dyb3VwTmFtZTogZ3JvdXBOYW1lfSk7XG4gIH1cblxuICBhZGRQb2xpY3kodGl0bGUsIGNvbWJpbmluZ0FsZ29yaXRobSwgcG9saWN5KSB7XG4gICAgaWYgKHBvbGljeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzd2l0Y2ggKGNvbWJpbmluZ0FsZ29yaXRobSkge1xuICAgICAgICBjYXNlICdCbG9jayBvdmVycmlkZXMnOlxuICAgICAgICAgIGNvbWJpbmluZ0FsZ29yaXRobSA9ICdibG9ja092ZXJyaWRlcyc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0FsbG93IG92ZXJyaWRlcyc6XG4gICAgICAgICAgY29tYmluaW5nQWxnb3JpdGhtID0gJ2FsbG93T3ZlcnJpZGVzJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRmlyc3QgYXBwbGljYWJsZSc6XG4gICAgICAgICAgY29tYmluaW5nQWxnb3JpdGhtID0gJ2ZpcnN0QXBwbGljYWJsZSc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29tYmluaW5nQWxnb3JpdGhtID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdhZGRQb2xpY3knLFxuICAgICAge3NvdXJjZTogJ1VTRVInLCBrZXk6IHRpdGxlLCBwb2xpY3k6IHBvbGljeSwgY29tYmluaW5nQWxnb3JpdGhtOiBjb21iaW5pbmdBbGdvcml0aG19KTtcbiAgfVxuXG4gIGRlY3JlYXNlUnVsZVByaW9yaXR5KHBvbGljeVRpdGxlLCB0aGlzUHJpb3JpdHksIG5ld1ByaW9yaXR5KSB7XG4gICAgdGhpcy5nZXRSdWxlT2ZQb2xpY3kocG9saWN5VGl0bGUsIG5ld1ByaW9yaXR5KS5wcmlvcml0eSA9IHRoaXNQcmlvcml0eTtcbiAgICB0aGlzLmdldFJ1bGVPZlBvbGljeShwb2xpY3lUaXRsZSwgdGhpc1ByaW9yaXR5KS5wcmlvcml0eSA9IG5ld1ByaW9yaXR5O1xuICAgIHJldHVybiB0aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdzYXZlUG9saWNpZXMnLCB7c291cmNlOiAnVVNFUid9KTtcbiAgfVxuXG4gIGRlbGV0ZUdyb3VwKGdyb3VwTmFtZSkge1xuICAgIHJldHVybiB0aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdkZWxldGVHcm91cCcsIHtncm91cE5hbWU6IGdyb3VwTmFtZX0pO1xuICB9XG5cbiAgZGVsZXRlUG9saWN5KHRpdGxlKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3JlbW92ZVBvbGljeScsIHtzb3VyY2U6ICdVU0VSJywga2V5OiB0aXRsZX0pO1xuICB9XG5cbiAgZGVsZXRlUnVsZShwb2xpY3lUaXRsZSwgcnVsZSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3VzZXJQb2xpY2llcycsIHt9KS50aGVuKCh1c2VyUG9saWNpZXMpID0+IHtcbiAgICAgICAgdXNlclBvbGljaWVzW3BvbGljeVRpdGxlXS5kZWxldGVSdWxlKHJ1bGUpO1xuICAgICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnc2F2ZVBvbGljaWVzJywge3NvdXJjZTogJ1VTRVInfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0QWN0aXZlUG9saWN5KCkge1xuICAgIHJldHVybiB0aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdhY3RpdmVVc2VyUG9saWN5Jywge30pO1xuICB9XG5cbiAgZ2V0UG9saWN5KGtleSkge1xuICAgIHJldHVybiB0aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCd1c2VyUG9saWN5Jywge2tleToga2V5fSk7XG4gIH1cblxuICBnZXRQb2xpY2llc1RpdGxlcygpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygndXNlclBvbGljaWVzJywge30pLnRoZW4oKHBvbGljaWVzKSA9PiB7XG4gICAgICAgIGxldCB0aXRsZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpIGluIHBvbGljaWVzKSB7XG4gICAgICAgICAgdGl0bGVzLnB1c2goaSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXNvbHZlKHRpdGxlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldFRhcmdldHMoc2NvcGUpIHtcbiAgICBsZXQgdGFyZ2V0cyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSBpbiB0aGlzLnBvbGljaWVzW3Njb3BlXSkge1xuICAgICAgaWYgKHRhcmdldHMuaW5kZXhPZihpKSA9PT0gLTEpIHtcbiAgICAgICAgdGFyZ2V0cy5wdXNoKGkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXRzO1xuICB9XG5cbiAgaW5jcmVhc2VSdWxlUHJpb3JpdHkocG9saWN5VGl0bGUsIHRoaXNQcmlvcml0eSwgbmV3UHJpb3JpdHkpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIF90aGlzLmdldFJ1bGVPZlBvbGljeShwb2xpY3lUaXRsZSwgdGhpc1ByaW9yaXR5KS5wcmlvcml0eSA9IG5ld1ByaW9yaXR5O1xuICAgIF90aGlzLmdldFJ1bGVPZlBvbGljeShwb2xpY3lUaXRsZSwgbmV3UHJpb3JpdHkpLnByaW9yaXR5ID0gdGhpc1ByaW9yaXR5O1xuICAgIHJldHVybiBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnc2F2ZVBvbGljaWVzJywge3NvdXJjZTogJ1VTRVInfSk7XG4gIH1cblxuICBzZXRWYXJpYWJsZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdEYXRlJzoge1xuICAgICAgICB0aXRsZTogJzxicj48aDU+VXBkYXRpbmcgZGF0ZSByZWxhdGVkIGNvbmZpZ3VyYXRpb25zPC9oNT48cD5JbmNvbWluZyBjb21tdW5pY2F0aW9ucyBpbiB0aGUgaW50cm9kdWNlZCBkYXRlIHdpbGwgYmUgYWxsb3dlZCBvciBibG9ja2VkIGFjY29yZGluZyB0byB5b3VyIGNvbmZpZ3VyYXRpb25zLCB3aGljaCBjYW4gYmUgY2hhbmdlZCBpbiB0aGUgcHJlZmVyZW5jZXMgcGFnZS48L3A+PGJyPicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnPHA+RGF0ZTo8L3A+JyxcbiAgICAgICAgaW5wdXQ6IFtcbiAgICAgICAgICBbJ2RhdGUnLCBbXV1cbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgICdEb21haW4nOiB7XG4gICAgICAgIHRpdGxlOiAnPGJyPjxoNT5VcGRhdGluZyBkb21haW4gY29uZmlndXJhdGlvbnM8L2g1PjxwPkluY29taW5nIGNvbW11bmljYXRpb25zIGZyb20gYSB1c2VyIHdob3NlIGlkZW50aXR5IGlzIGZyb20gdGhlIGludHJvZHVjZWQgZG9tYWluIGFsbG93ZWQgb3IgYmxvY2tlZCBhY2NvcmRpbmcgdG8geW91ciBjb25maWd1cmF0aW9ucywgd2hpY2ggY2FuIGJlIGNoYW5nZWQgaW4gdGhlIHByZWZlcmVuY2VzIHBhZ2UuPC9wPjxicj4nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJzxwPkRvbWFpbjo8L3A+JyxcbiAgICAgICAgaW5wdXQ6IFtcbiAgICAgICAgICBbJ2Zvcm0nLCBbXV1cbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgICdHcm91cCBvZiB1c2Vycyc6IHtcbiAgICAgICAgdGl0bGU6ICc8YnI+PGg1PlVwZGF0aW5nIGdyb3VwcyBjb25maWd1cmF0aW9uczwvaDU+PHA+SW5jb21pbmcgY29tbXVuaWNhdGlvbnMgZnJvbSBhIHVzZXIgd2hvc2UgaWRlbnRpdHkgaXMgaW4gdGhlIGludHJvZHVjZWQgZ3JvdXAgd2lsbCBiZSBhbGxvd2VkIG9yIGJsb2NrZWQgYWNjb3JkaW5nIHRvIHlvdXIgY29uZmlndXJhdGlvbnMsIHdoaWNoIGNhbiBiZSBjaGFuZ2VkIGluIHRoZSBwcmVmZXJlbmNlcyBwYWdlLjwvcD48YnI+JyxcbiAgICAgICAgZGVzY3JpcHRpb246ICc8cD5Hcm91cCBuYW1lOjwvcD4nLFxuICAgICAgICBpbnB1dDogW1xuICAgICAgICAgIFsnc2VsZWN0JywgWydncm91cCcsICdTZWxlY3QgYSBncm91cDonXV1cbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgICdTdWJzY3JpcHRpb24gcHJlZmVyZW5jZXMnOiB7XG4gICAgICAgIHRpdGxlOiAnPGJyPjxoNT5VcGRhdGluZyBzdWJzY3JpcHRpb25zIGNvbmZpZ3VyYXRpb25zPC9oNT48cD5UaGUgYWNjZXB0YW5jZSBvZiBzdWJzY3JpcHRpb25zIHRvIHlvdXIgaHlwZXJ0aWVzIHdpbGwgYmUgYWxsb3dlZCBvciBibG9ja2VkIGFjY29yZGluZyB0byB5b3VyIGNvbmZpZ3VyYXRpb25zLCB3aGljaCBjYW4gYmUgY2hhbmdlZCBpbiB0aGUgcHJlZmVyZW5jZXMgcGFnZS48L3A+PGJyPicsXG4gICAgICAgIGlucHV0OiBbXVxuICAgICAgfSxcbiAgICAgICdUaW1lIG9mIHRoZSBkYXknOiB7XG4gICAgICAgIHRpdGxlOiAnPGJyPjxoNT5VcGRhdGluZyB0aW1lIGNvbmZpZ3VyYXRpb25zPC9oNT48cD5JbmNvbWluZyBjb21tdW5pY2F0aW9ucyBpbiB0aGUgaW50cm9kdWNlZCB0aW1lc2xvdCB3aWxsIGJlIGJsb2NrZWQsIGJ1dCB0aGlzIGNhbiBiZSBjaGFuZ2VkIGluIHRoZSBwcmVmZXJlbmNlcyBwYWdlLjwvcD48cD5QbGVhc2UgaW50cm9kdWNlIGEgbmV3IHRpbWVzbG90IGluIHRoZSBmb2xsb3dpbmcgZm9ybWF0OjwvcD48cCBjbGFzcz1cImNlbnRlci1hbGlnblwiPiZsdDtTVEFSVC1IT1VSJmd0OzombHQ7U1RBUlQtTUlOVVRFUyZndDsgdG8gJmx0O0VORC1IT1VSJmd0OzombHQ7RU5ELU1JTlVURVMmZ3Q7PC9wPjxicj4nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJzxwPlRpbWVzbG90OjwvcD4nLFxuICAgICAgICBpbnB1dDogW1xuICAgICAgICAgIFsnZm9ybScsIFtdXVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgV2Vla2RheToge1xuICAgICAgICB0aXRsZTogJzxicj48aDU+VXBkYXRpbmcgd2Vla2RheSBjb25maWd1cmF0aW9uczwvaDU+PHA+SW5jb21pbmcgY29tbXVuaWNhdGlvbnMgaW4gdGhlIGludHJvZHVjZWQgd2Vla2RheSB3aWxsIGJlIGFsbG93ZWQgb3IgYmxvY2tlZCBhY2NvcmRpbmcgdG8geW91ciBjb25maWd1cmF0aW9ucywgd2hpY2ggY2FuIGJlIGNoYW5nZWQgaW4gdGhlIHByZWZlcmVuY2VzIHBhZ2UuPC9wPjxicj4nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJzxwPldlZWtkYXk6PC9wPicsXG4gICAgICAgIGlucHV0OiBbXG4gICAgICAgICAgWydzZWxlY3QnLCBbJ3dlZWtkYXknLCAnU2VsZWN0IGEgd2Vla2RheTonLCBbJ1NhdHVyZGF5JywgJ1N1bmRheScsICdNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5J11dXVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHNldEFkZGl0aW9uTWV0aG9kcygpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIHJldHVybiB7XG4gICAgICBEYXRlOiAocGFyYW1zKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgbGV0IHBvbGljeVRpdGxlID0gcGFyYW1zWzBdO1xuICAgICAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCd1c2VyUG9saWNpZXMnLCB7fSkudGhlbigodXNlclBvbGljaWVzKSA9PiB7XG4gICAgICAgICAgICB1c2VyUG9saWNpZXNbcG9saWN5VGl0bGVdLmNyZWF0ZVJ1bGUocGFyYW1zWzRdLCB7IGF0dHJpYnV0ZTogJ2RhdGUnLCBvcGVyYXRvcjogJ2VxdWFscycsIHBhcmFtczogcGFyYW1zWzNdIH0sIHBhcmFtc1sxXSwgcGFyYW1zWzJdKTtcbiAgICAgICAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdzYXZlUG9saWNpZXMnLCB7c291cmNlOiAnVVNFUid9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIERvbWFpbjogKHBhcmFtcykgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGxldCBwb2xpY3lUaXRsZSA9IHBhcmFtc1swXTtcbiAgICAgICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygndXNlclBvbGljaWVzJywge30pLnRoZW4oKHVzZXJQb2xpY2llcykgPT4ge1xuICAgICAgICAgICAgdXNlclBvbGljaWVzW3BvbGljeVRpdGxlXS5jcmVhdGVSdWxlKHBhcmFtc1s0XSwgeyBhdHRyaWJ1dGU6ICdkb21haW4nLCBvcGVyYXRvcjogJ2VxdWFscycsIHBhcmFtczogcGFyYW1zWzNdIH0sIHBhcmFtc1sxXSwgcGFyYW1zWzJdKTtcbiAgICAgICAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdzYXZlUG9saWNpZXMnLCB7c291cmNlOiAnVVNFUid9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgICdHcm91cCBvZiB1c2Vycyc6IChwYXJhbXMpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBsZXQgcG9saWN5VGl0bGUgPSBwYXJhbXNbMF07XG4gICAgICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3VzZXJQb2xpY2llcycsIHt9KS50aGVuKCh1c2VyUG9saWNpZXMpID0+IHtcbiAgICAgICAgICAgIHVzZXJQb2xpY2llc1twb2xpY3lUaXRsZV0uY3JlYXRlUnVsZShwYXJhbXNbNF0sIHsgYXR0cmlidXRlOiAnc291cmNlJywgb3BlcmF0b3I6ICdpbicsIHBhcmFtczogcGFyYW1zWzNdIH0sIHBhcmFtc1sxXSwgcGFyYW1zWzJdKTtcbiAgICAgICAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdzYXZlUG9saWNpZXMnLCB7c291cmNlOiAnVVNFUid9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgICdTdWJzY3JpcHRpb24gcHJlZmVyZW5jZXMnOiAocGFyYW1zKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgbGV0IHBvbGljeVRpdGxlID0gcGFyYW1zWzBdO1xuICAgICAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCd1c2VyUG9saWNpZXMnLCB7fSkudGhlbigodXNlclBvbGljaWVzKSA9PiB7XG4gICAgICAgICAgICBsZXQgb3BlcmF0b3IgPSAnZXF1YWxzJztcbiAgICAgICAgICAgIGlmIChwYXJhbXNbM10gPT09ICdwcmVhdXRob3Jpc2VkJykge1xuICAgICAgICAgICAgICBvcGVyYXRvciA9ICdpbic7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRJQUdPOiB0aGlzIGlzIGdpdmluZyBtZSBhbiBlcnJvci4uLlxuICAgICAgICAgICAgdXNlclBvbGljaWVzW3BvbGljeVRpdGxlXS5jcmVhdGVSdWxlKHBhcmFtc1s0XSwgeyBhdHRyaWJ1dGU6ICdzdWJzY3JpcHRpb24nLCBvcGVyYXRvcjogb3BlcmF0b3IsIHBhcmFtczogcGFyYW1zWzNdIH0sIHBhcmFtc1sxXSwgcGFyYW1zWzJdKTtcbiAgICAgICAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdzYXZlUG9saWNpZXMnLCB7c291cmNlOiAnVVNFUid9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgICdUaW1lIG9mIHRoZSBkYXknOiAocGFyYW1zKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgbGV0IHBvbGljeVRpdGxlID0gcGFyYW1zWzBdO1xuICAgICAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCd1c2VyUG9saWNpZXMnLCB7fSkudGhlbigodXNlclBvbGljaWVzKSA9PiB7XG4gICAgICAgICAgICBwYXJhbXNbM10gPSBwYXJhbXNbM10uc3BsaXQoJyB0byAnKTtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IHBhcmFtc1szXVswXS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgc3RhcnQgPSBzdGFydC5qb2luKCcnKTtcbiAgICAgICAgICAgIGxldCBlbmQgPSBwYXJhbXNbM11bMV0uc3BsaXQoJzonKTtcbiAgICAgICAgICAgIGVuZCA9IGVuZC5qb2luKCcnKTtcbiAgICAgICAgICAgIHVzZXJQb2xpY2llc1twb2xpY3lUaXRsZV0uY3JlYXRlUnVsZShwYXJhbXNbNF0sIHsgYXR0cmlidXRlOiAndGltZScsIG9wZXJhdG9yOiAnYmV0d2VlbicsIHBhcmFtczogW3N0YXJ0LCBlbmRdIH0sIHBhcmFtc1sxXSwgcGFyYW1zWzJdKTtcbiAgICAgICAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdzYXZlUG9saWNpZXMnLCB7c291cmNlOiAnVVNFUid9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgV2Vla2RheTogKHBhcmFtcykgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGxldCB3ZWVrZGF5cyA9IFsnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknXTtcbiAgICAgICAgICBwYXJhbXNbM10gPSB3ZWVrZGF5cy5pbmRleE9mKHBhcmFtc1szXSk7XG4gICAgICAgICAgbGV0IHBvbGljeVRpdGxlID0gcGFyYW1zWzBdO1xuICAgICAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCd1c2VyUG9saWNpZXMnLCB7fSkudGhlbigodXNlclBvbGljaWVzKSA9PiB7XG4gICAgICAgICAgICB1c2VyUG9saWNpZXNbcG9saWN5VGl0bGVdLmNyZWF0ZVJ1bGUocGFyYW1zWzRdLCB7IGF0dHJpYnV0ZTogJ3dlZWtkYXknLCBvcGVyYXRvcjogJ2VxdWFscycsIHBhcmFtczogcGFyYW1zWzNdIH0sIHBhcmFtc1sxXSwgcGFyYW1zWzJdKTtcbiAgICAgICAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdzYXZlUG9saWNpZXMnLCB7c291cmNlOiAnVVNFUid9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBzZXRWYWxpZGF0aW9uTWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgRGF0ZTogKHNjb3BlLCBpbmZvKSA9PiB7IHJldHVybiB0aGlzLmlzVmFsaWREYXRlKGluZm8pICYgdGhpcy5pc1ZhbGlkU2NvcGUoc2NvcGUpOyB9LFxuICAgICAgJ0dyb3VwIG9mIHVzZXJzJzogKHNjb3BlLCBpbmZvKSA9PiB7IHJldHVybiB0aGlzLmlzVmFsaWRTdHJpbmcoaW5mbykgJiB0aGlzLmlzVmFsaWRTY29wZShzY29wZSk7IH0sXG4gICAgICBEb21haW46IChzY29wZSwgaW5mbykgPT4geyByZXR1cm4gdGhpcy5pc1ZhbGlkRG9tYWluKGluZm8pICYgdGhpcy5pc1ZhbGlkU2NvcGUoc2NvcGUpOyB9LFxuICAgICAgV2Vla2RheTogKHNjb3BlLCBpbmZvKSA9PiB7IHJldHVybiB0cnVlICYgdGhpcy5pc1ZhbGlkU2NvcGUoc2NvcGUpOyB9LFxuICAgICAgJ1N1YnNjcmlwdGlvbiBwcmVmZXJlbmNlcyc6IChzY29wZSwgaW5mbykgPT4geyByZXR1cm4gdGhpcy5pc1ZhbGlkU3Vic2NyaXB0aW9uVHlwZShpbmZvKSAmIHRoaXMuaXNWYWxpZFNjb3BlKHNjb3BlKTsgfSxcbiAgICAgICdUaW1lIG9mIHRoZSBkYXknOiAoc2NvcGUsIGluZm8pID0+IHsgcmV0dXJuIHRoaXMuaXNWYWxpZFRpbWVzbG90KGluZm8pICYgdGhpcy5pc1ZhbGlkU2NvcGUoc2NvcGUpOyB9XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZUFjdGl2ZVBvbGljeSh0aXRsZSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdhY3RpdmVVc2VyUG9saWN5Jywge3VzZXJQb2xpY3k6IHRpdGxlfSkudGhlbigoKSA9PiB7XG4gICAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdzYXZlQWN0aXZlUG9saWN5Jywge30pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlzVmFsaWRFbWFpbChpbmZvKSB7XG4gICAgbGV0IHBhdHRlcm4gPSAvW2EtejAtOS5fJSstXStAW2EtejAtOS4tXStcXC5bYS16XXsyLDN9JC87XG4gICAgcmV0dXJuIHBhdHRlcm4udGVzdChpbmZvKTtcbiAgfVxuXG4gIGlzVmFsaWREb21haW4oaW5mbykge1xuICAgIGxldCBwYXR0ZXJuID0gL1thLXowLTkuLV0rXFwuW2Etel17MiwzfSQvO1xuICAgIHJldHVybiBwYXR0ZXJuLnRlc3QoaW5mbyk7XG4gIH1cblxuICBpc1ZhbGlkU3RyaW5nKGluZm8pIHtcbiAgICBsZXQgcGF0dGVybiA9IC9bYS16MC05Li1dJC87XG4gICAgcmV0dXJuIHBhdHRlcm4udGVzdChpbmZvKTtcbiAgfVxuXG4gIGlzVmFsaWRTdWJzY3JpcHRpb25UeXBlKGluZm8pIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlzVmFsaWREYXRlKGluZm8pIHtcbiAgICBsZXQgaW5mb1NwbGl0ID0gaW5mby5zcGxpdCgnLycpO1xuICAgIGxldCBkYXkgPSBwYXJzZUludChpbmZvU3BsaXRbMF0pO1xuICAgIGxldCBtb250aCA9IHBhcnNlSW50KGluZm9TcGxpdFsxXSk7XG4gICAgbGV0IHllYXIgPSBwYXJzZUludChpbmZvU3BsaXRbMl0pO1xuXG4gICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aC0xLCBkYXkpO1xuICAgIGxldCBpc1ZhbGlkRm9ybWF0ID0gZGF0ZS5nZXRGdWxsWWVhcigpID09PSB5ZWFyICYmIGRhdGUuZ2V0TW9udGgoKSArIDEgPT09IG1vbnRoICYmIGRhdGUuZ2V0RGF0ZSgpID09PSBkYXk7XG4gICAgbGV0IGZvcm1hdHRlZERhdGUgPSBkYXRlLmdldERhdGUoKSArICcvJyArIChkYXRlLmdldE1vbnRoKCkgKyAxKSArICcvJyArIGRhdGUuZ2V0RnVsbFllYXIoKVxuICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGxldCB0b2RheSA9IG5vdy5nZXREYXRlKCkgKyAnLycgKyAobm93LmdldE1vbnRoKCkgKyAxKSArICcvJyArIG5vdy5nZXRGdWxsWWVhcigpO1xuXG4gICAgbGV0IGlzRnV0dXJlID0gZmFsc2U7XG4gICAgaWYgKGRhdGUuZ2V0RnVsbFllYXIoKSA+IG5vdy5nZXRGdWxsWWVhcigpKSB7XG4gICAgICBpc0Z1dHVyZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkYXRlLmdldEZ1bGxZZWFyKCkgPT0gbm93LmdldEZ1bGxZZWFyKCkpIHtcbiAgICAgICAgaWYgKChkYXRlLmdldE1vbnRoKCkgKyAxKSA+IChub3cuZ2V0TW9udGgoKSArIDEpKSB7XG4gICAgICAgICAgaXNGdXR1cmUgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICgoZGF0ZS5nZXRNb250aCgpICsgMSkgPT0gKG5vdy5nZXRNb250aCgpICsgMSkpIHtcbiAgICAgICAgICAgIGlmIChkYXRlLmdldERhdGUoKSA+PSAobm93LmdldERhdGUoKSkpIHtcbiAgICAgICAgICAgICAgaXNGdXR1cmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAoaXNWYWxpZEZvcm1hdCAmJiBpc0Z1dHVyZSk7XG4gIH1cblxuICBpc1ZhbGlkU2NvcGUoc2NvcGUpIHtcbiAgICByZXR1cm4gc2NvcGUgIT09ICcnO1xuICB9XG5cbiAgaXNWYWxpZFRpbWVzbG90KGluZm8pIHtcbiAgICBpZiAoIWluZm8pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IHNwbGl0SW5mbyA9IGluZm8uc3BsaXQoJyB0byAnKTsgLy8gWzEyOjAwLCAxMzowMF1cbiAgICBsZXQgdHdvVGltZXMgPSBzcGxpdEluZm8ubGVuZ3RoID09PSAyO1xuICAgIGlmICghdHdvVGltZXMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IHNwbGl0U3RhcnQgPSBzcGxpdEluZm9bMF0uc3BsaXQoJzonKTsgLy8gWzEyLCAwMF1cbiAgICBsZXQgc3BsaXRFbmQgPSBzcGxpdEluZm9bMV0uc3BsaXQoJzonKTsgLy8gWzEzLCAwMF1cbiAgICBpZiAoc3BsaXRTdGFydC5sZW5ndGggIT09IDIgfHwgc3BsaXRFbmQubGVuZ3RoICE9PSAyKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCBva1NpemUgPSAoc3BsaXRTdGFydFswXS5sZW5ndGggPT09IDIpICYmIChzcGxpdFN0YXJ0WzFdLmxlbmd0aCA9PT0gMikgJiYgKHNwbGl0RW5kWzBdLmxlbmd0aCA9PT0gMikgJiYgKHNwbGl0RW5kWzFdLmxlbmd0aCA9PT0gMik7XG4gICAgbGV0IGFyZUludGVnZXJzID0gKHNwbGl0U3RhcnRbMF0gPT0gcGFyc2VJbnQoc3BsaXRTdGFydFswXSwgMTApKSAmJiAoc3BsaXRTdGFydFsxXSA9PSBwYXJzZUludChzcGxpdFN0YXJ0WzFdLCAxMCkpICYmIChzcGxpdEVuZFswXSA9PSBwYXJzZUludChzcGxpdEVuZFswXSwgMTApKSAmJiAoc3BsaXRFbmRbMV0gPT0gcGFyc2VJbnQoc3BsaXRFbmRbMV0sIDEwKSk7XG4gICAgcmV0dXJuIHR3b1RpbWVzICYmIG9rU2l6ZSAmJiBhcmVJbnRlZ2VycztcbiAgfVxuXG4gIGdldEZvcm1hdHRlZFBvbGljaWVzKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCd1c2VyUG9saWNpZXMnLCB7fSkudGhlbigocG9saWNpZXNQRSkgPT4ge1xuICAgICAgICBsZXQgcG9saWNpZXNHVUkgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpIGluIHBvbGljaWVzUEUpIHtcbiAgICAgICAgICBsZXQgcG9saWN5ID0ge1xuICAgICAgICAgICAgdGl0bGU6IHBvbGljaWVzUEVbaV0ua2V5LFxuICAgICAgICAgICAgcnVsZXNUaXRsZXM6IFtdLFxuICAgICAgICAgICAgaWRzOiBbXVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwb2xpY2llc1BFW2ldLnJ1bGVzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgcG9saWNpZXNQRVtpXS5ydWxlcyA9IHBvbGljaWVzUEVbaV0uc29ydFJ1bGVzKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBqIGluIHBvbGljaWVzUEVbaV0ucnVsZXMpIHtcbiAgICAgICAgICAgICAgbGV0IHRpdGxlID0gX3RoaXMuX2dldFRpdGxlKHBvbGljaWVzUEVbaV0ucnVsZXNbal0pO1xuICAgICAgICAgICAgICBwb2xpY3kucnVsZXNUaXRsZXMucHVzaCh0aXRsZSk7XG4gICAgICAgICAgICAgIHBvbGljeS5pZHMucHVzaChwb2xpY3kudGl0bGUgKyAnOicgKyBwb2xpY2llc1BFW2ldLnJ1bGVzW2pdLnByaW9yaXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwb2xpY2llc0dVSS5wdXNoKHBvbGljeSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXNvbHZlKHBvbGljaWVzR1VJKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0UnVsZU9mUG9saWN5KHRpdGxlLCBwcmlvcml0eSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCd1c2VyUG9saWNpZXMnLCB7fSkudGhlbigocG9saWNpZXMpID0+IHtcbiAgICAgICAgbGV0IHBvbGljeSA9IHBvbGljaWVzW3RpdGxlXTtcbiAgICAgICAgcmVzb2x2ZShwb2xpY3kuZ2V0UnVsZUJ5UHJpb3JpdHkocHJpb3JpdHkpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX2dldFRpdGxlKHJ1bGUpIHtcbiAgICBsZXQgY29uZGl0aW9uID0gcnVsZS5jb25kaXRpb247XG4gICAgbGV0IGF1dGhvcmlzZSA9IChydWxlLmRlY2lzaW9uKSA/ICdhbGxvd2VkJyA6ICdibG9ja2VkJztcbiAgICBsZXQgdGFyZ2V0ID0gcnVsZS50YXJnZXQgPT09ICdnbG9iYWwnID8gJ0FsbCBpZGVudGl0aWVzIGFuZCBoeXBlcnRpZXMnIDogcnVsZS50YXJnZXQ7XG4gICAgbGV0IGF0dHJpYnV0ZSA9IGNvbmRpdGlvbi5hdHRyaWJ1dGU7XG4gICAgc3dpdGNoKGF0dHJpYnV0ZSkge1xuICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgIHJldHVybiAnRGF0ZSAnICsgY29uZGl0aW9uLnBhcmFtcyArICcgaXMgJyArIGF1dGhvcmlzZSArICcgKCcgKyB0YXJnZXQgKyAnKSc7XG4gICAgICBjYXNlICdkb21haW4nOlxuICAgICAgICByZXR1cm4gJ0RvbWFpbiBcXFwiJyArIGNvbmRpdGlvbi5wYXJhbXMgKyAnXFxcIiBpcyAnICsgYXV0aG9yaXNlICsgJyAoJyArIHRhcmdldCArICcpJztcbiAgICAgIGNhc2UgJ3NvdXJjZSc6XG4gICAgICAgIGlmIChjb25kaXRpb24ub3BlcmF0b3IgPT09ICdpbicpIHtcbiAgICAgICAgICByZXR1cm4gJ0dyb3VwIFxcXCInICsgY29uZGl0aW9uLnBhcmFtcyArICdcXFwiIGlzICcgKyBhdXRob3Jpc2UgKyAnICgnICsgdGFyZ2V0ICsgJyknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChjb25kaXRpb24ub3BlcmF0b3IgPT09ICdlcXVhbHMnKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1VzZXIgJyArIGNvbmRpdGlvbi5wYXJhbXMgKyAnIGlzICcgKyBhdXRob3Jpc2UgKyAnICgnICsgdGFyZ2V0ICsgJyknO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgY2FzZSAnc3Vic2NyaXB0aW9uJzpcbiAgICAgICAgaWYgKGNvbmRpdGlvbi5wYXJhbXMgPT09ICcqJykge1xuICAgICAgICAgIHJldHVybiAnU3Vic2NyaXB0aW9ucyBmcm9tIGFsbCBoeXBlcnRpZXMgYXJlICcgKyBhdXRob3Jpc2UgKyAnICgnICsgdGFyZ2V0ICsgJyknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChjb25kaXRpb24ucGFyYW1zID09PSAncHJlYXV0aG9yaXNlZCcpIHtcbiAgICAgICAgICAgIHJldHVybiAnU3Vic2NyaXB0aW9ucyBmcm9tIHByZXZpb3VzbHkgYXV0aG9yaXNlZCBoeXBlcnRpZXMgYXJlIGFsbG93ZWQgKCcgKyB0YXJnZXQgKyAnKSc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBjYXNlICd0aW1lJzpcbiAgICAgICAgbGV0IHN0YXJ0ID0gY29uZGl0aW9uLnBhcmFtc1swXVswXSArIGNvbmRpdGlvbi5wYXJhbXNbMF1bMV0gKyAnOicgKyBjb25kaXRpb24ucGFyYW1zWzBdWzJdICsgY29uZGl0aW9uLnBhcmFtc1swXVszXTtcbiAgICAgICAgbGV0IGVuZCA9IGNvbmRpdGlvbi5wYXJhbXNbMV1bMF0gKyBjb25kaXRpb24ucGFyYW1zWzFdWzFdICsgJzonICsgY29uZGl0aW9uLnBhcmFtc1sxXVsyXSArIGNvbmRpdGlvbi5wYXJhbXNbMV1bM107XG4gICAgICAgIHJldHVybiAnVGltZXNsb3QgZnJvbSAnICsgc3RhcnQgKyAnIHRvICcgKyBlbmQgKyAnIGlzICcgKyBhdXRob3Jpc2UgKyAnICgnICsgdGFyZ2V0ICsgJyknO1xuICAgICAgY2FzZSAnd2Vla2RheSc6XG4gICAgICAgIGxldCB3ZWVrZGF5cyA9IFsnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknXTtcbiAgICAgICAgbGV0IHdlZWtkYXlJRCA9IGNvbmRpdGlvbi5wYXJhbXM7XG4gICAgICAgIHJldHVybiAnV2Vla2RheSBcXFwiJyArIHdlZWtkYXlzW3dlZWtkYXlJRF0gKyAnXFxcIiBpcyAnICsgYXV0aG9yaXNlICsgJyAoJyArIHRhcmdldCArICcpJztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAnUnVsZSAnICsgcnVsZS5wcmlvcml0eSArICcgaXMgJyArIGF1dGhvcmlzZSArICcgKCcgKyB0YXJnZXQgKyAnKSc7XG4gICAgfVxuICB9XG5cbiAgZ2V0VmFyaWFibGVzKCkge1xuICAgIGxldCB2YXJpYWJsZXNUaXRsZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpIGluIHRoaXMudmFyaWFibGVzKSB7XG4gICAgICB2YXJpYWJsZXNUaXRsZXMucHVzaChpKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhcmlhYmxlc1RpdGxlcztcbiAgfVxuXG4gIGdldFZhcmlhYmxlSW5mbyh2YXJpYWJsZSkge1xuICAgIHJldHVybiB0aGlzLnZhcmlhYmxlc1t2YXJpYWJsZV07XG4gIH1cblxuICBnZXRNeUVtYWlscygpIHtcbiAgICByZXR1cm4gdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnZ2V0TXlFbWFpbHMnLCB7fSk7XG4gIH1cblxuICBnZXRNeUh5cGVydGllcygpIHtcbiAgICByZXR1cm4gdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnZ2V0TXlIeXBlcnRpZXMnLCB7fSk7XG4gIH1cblxuICAvL1RPRE8gSWYgdGhlcmUgaXMgYSBwcm9ibGVtIHdpdGggdGhlIGlucHV0LCBzaG93IGl0IHRvIHRoZSB1c2VyXG4gIHNldEluZm8odmFyaWFibGUsIHBvbGljeVRpdGxlLCBpbmZvLCBhdXRob3Jpc2UsIHNjb3BlLCB0YXJnZXQpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAoX3RoaXMudmFsaWRhdGlvblt2YXJpYWJsZV0oc2NvcGUsIGluZm8pKSB7XG4gICAgICAgIF90aGlzLmFkZGl0aW9uW3ZhcmlhYmxlXShbcG9saWN5VGl0bGUsIHNjb3BlLCB0YXJnZXQsIGluZm8sIGF1dGhvcmlzZV0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWplY3QoJ0ludmFsaWQgY29uZmlndXJhdGlvbicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlSW5mbyh2YXJpYWJsZSwgc2NvcGUsIHRhcmdldCwgaW5mbykge1xuICAgIGxldCBwYXJhbXMgPSBbc2NvcGUsIHRhcmdldCwgaW5mb107XG4gICAgaWYgKHZhcmlhYmxlID09PSAnbWVtYmVyJykge1xuICAgICAgbGV0IGNvbmRpdGlvblNwbGl0ID0gaW5mby5zcGxpdCgnICcpO1xuICAgICAgbGV0IGdyb3VwTmFtZSA9IGNvbmRpdGlvblNwbGl0WzJdO1xuICAgICAgcGFyYW1zID0gW3Njb3BlLCBncm91cE5hbWUsIGluZm9dO1xuICAgIH1cbiAgICB0aGlzLmRlbGV0aW9uW3ZhcmlhYmxlXShwYXJhbXMpO1xuICB9XG5cbiAgZ2V0R3JvdXBzKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdncm91cHMnLCB7fSkudGhlbigoZ3JvdXBzKSA9PiB7XG4gICAgICAgIGxldCBncm91cHNHVUkgPSB7XG4gICAgICAgICAgZ3JvdXBzTmFtZXM6IFtdLFxuICAgICAgICAgIG1lbWJlcnM6IFtdLFxuICAgICAgICAgIGlkczogW11cbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKGxldCBpIGluIGdyb3Vwcykge1xuICAgICAgICAgIGdyb3Vwc0dVSS5ncm91cHNOYW1lcy5wdXNoKGkpO1xuICAgICAgICAgIGdyb3Vwc0dVSS5tZW1iZXJzLnB1c2goZ3JvdXBzW2ldKTtcbiAgICAgICAgICBsZXQgaWRzID0gW107XG4gICAgICAgICAgZm9yIChsZXQgaiBpbiBncm91cHNbaV0pIHtcbiAgICAgICAgICAgIGlkcy5wdXNoKGkgKyAnOjonICsgZ3JvdXBzW2ldW2pdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZ3JvdXBzR1VJLmlkcy5wdXNoKGlkcyk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2NvbnNvbGUubG9nKCdUSUFHTyBncm91cHMnLCBncm91cHNHVUkpXG4gICAgICAgIHJlc29sdmUoZ3JvdXBzR1VJKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0R3JvdXBzTmFtZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ2dldEdyb3Vwc05hbWVzJywge30pO1xuICB9XG5cbiAgcmVtb3ZlRnJvbUdyb3VwKGdyb3VwTmFtZSwgdXNlcikge1xuICAgIHJldHVybiB0aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdyZW1vdmVGcm9tR3JvdXAnLCB7Z3JvdXBOYW1lOiBncm91cE5hbWUsIHVzZXJFbWFpbDogdXNlcn0pO1xuICB9XG5cbiAgdXBkYXRlUG9saWN5KHBvbGljeVRpdGxlLCBydWxlLCBuZXdEZWNpc2lvbiwgbmV3U3Vic2NyaXB0aW9uVHlwZSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCd1c2VyUG9saWNpZXMnLCB7fSkudGhlbigodXNlclBvbGljaWVzKSA9PiB7XG4gICAgICAgIHVzZXJQb2xpY2llc1twb2xpY3lUaXRsZV0uZGVsZXRlUnVsZShydWxlKTtcbiAgICAgICAgaWYgKCFuZXdTdWJzY3JpcHRpb25UeXBlKSB7XG4gICAgICAgICAgdXNlclBvbGljaWVzW3BvbGljeVRpdGxlXS5jcmVhdGVSdWxlKG5ld0RlY2lzaW9uLCBydWxlLmNvbmRpdGlvbiwgcnVsZS5zY29wZSwgcnVsZS50YXJnZXQsIHJ1bGUucHJpb3JpdHkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCBvcGVyYXRvciA9IChuZXdTdWJzY3JpcHRpb25UeXBlID09PSAnKicpID8gJ2VxdWFscycgOiAnaW4nO1xuICAgICAgICAgIHVzZXJQb2xpY2llc1twb2xpY3lUaXRsZV0uY3JlYXRlUnVsZShuZXdEZWNpc2lvbiwgW3sgYXR0cmlidXRlOiAnc3Vic2NyaXB0aW9uJywgb3BlYXRvcjogb3BlcmF0b3IsIHBhcmFtczogbmV3U3Vic2NyaXB0aW9uVHlwZSB9XSwgcnVsZS5zY29wZSwgcnVsZS50YXJnZXQsIHJ1bGUucHJpb3JpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3NhdmVBY3RpdmVQb2xpY3knLCB7fSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9saWNpZXNNYW5hZ2VyO1xuIl19"}