{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/admin/PoliciesGUI.js","src/admin/PoliciesManager.js"],"names":[],"mappings":"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","file":"policies-gui.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import PoliciesManager from './PoliciesManager';\n\nclass PoliciesGUI {\n\n  constructor(pepGuiURL, pepURL, messageBus) {\n    let _this = this;\n    _this.policiesManager = new PoliciesManager(pepGuiURL, pepURL, messageBus);\n    // assume prepareAttributes is called after this\n  }\n\n  prepareAttributes() {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.policiesManager.prepareAttributes().then(() => {\n        _this.elements = _this._setElements();\n        _this._setListeners();\n        resolve();\n      });\n    });\n  }\n\n  _addMember() {\n    let _this = this;\n    let group = event.target.id;\n    $('.member-new-intro').html('<h5>Add a member to a group</h5><p>Insert a user email below to add to the \"' + group + '\" group.</p>');\n    $('.member-new-modal').openModal();\n    $('.member-new-ok').off();\n    $('.member-new-ok').on('click', (event) => {\n      let member = $('#member-new').val();\n      $('#member-new').val('');\n      _this.policiesManager.addToGroup(group, member).then(() => {\n        $('.member-new-modal').closeModal();\n        _this._manageGroups();\n      });\n    });\n  }\n\n  _createGroup() {\n    let _this = this;\n    $('#group-new-name').val('');\n    $('.group-new-modal').openModal();\n    $('.group-new-ok').on('click', (event) => {\n      let groupName = $('#group-new-name').val();\n      _this.policiesManager.createGroup(groupName).then(() => {\n        _this._manageGroups();\n      });\n    });\n  }\n\n  _addPolicy() {\n    let _this = this;\n    $('#policy-new-title').val('');\n    $('.combining').html('');\n    let algorithms = ['Block overrides', 'Allow overrides', 'First applicable'];\n    $('.combining').append(this._getOptions('comb-algorithm', 'Choose a combining algorithm', algorithms));\n    $('.policy-new').openModal();\n\n    $('.policy-new-ok').off();\n    $('.policy-new-ok').on('click', (event) => {\n      let policyTitle = $('#policy-new-title').val();\n      if (!policyTitle) {\n        Materialize.toast('Invalid policy title', 4000);\n      } else {\n        let combiningAlgorithm = $('#comb-algorithm').val();\n        _this.policiesManager.addPolicy(policyTitle, combiningAlgorithm).then(() => {\n          $('.help-menu').addClass('hide');\n          $('.policy-new').closeModal();\n          _this._goHome();\n        });\n      }\n    });\n    $('.help-btn').off();\n    $('.help-btn').on('click', (event) => {\n      $('.help-menu').removeClass('hide');\n    });\n  }\n\n  _decreaseRulePriority() {\n    let _this = this;\n    let id = event.target.closest('tr').id;\n    let splitId = id.split(':');\n    let thisPriority = parseInt(splitId[splitId.length - 1]);\n    splitId.pop();\n    let policyTitle = splitId.join(':');\n    _this.policiesManager.getPolicy(policyTitle).then((policy) => {\n      let lastPriority = policy.getLastPriority();\n      if (lastPriority != thisPriority) {\n        let newPriority = parseInt(thisPriority + 1);\n        _this.policiesManager.decreaseRulePriority(policyTitle, thisPriority, newPriority).then(() => {\n          _this._goHome();\n        });\n      }\n    });\n  }\n\n  _deleteMember() {\n    let _this = this;\n    let id = event.target.closest('tr').id;\n    let splitId = id.split('::');\n    let member = splitId[splitId.length - 1];\n    splitId.pop();\n    let group = splitId.join('::');\n    _this.policiesManager.removeFromGroup(group, member).then(() => {\n      _this._manageGroups();\n    });\n  }\n\n  _deleteGroup() {\n    let _this = this;\n    let groupName = event.target.closest('tr').children[0].id;\n    _this.policiesManager.deleteGroup(groupName).then(() => {\n      _this._manageGroups();\n    });\n  }\n\n  _deletePolicy() {\n    let _this = this;\n    let policyTitle = event.target.closest('tr').id;\n    _this.policiesManager.deletePolicy(policyTitle).then(() => {\n      _this._goHome();\n    });\n  }\n\n  _deleteRule() {\n    let _this = this;\n    let id = event.target.closest('tr').id;\n    let splitId = id.split(':');\n    let priority = splitId[splitId.length - 1];\n    splitId.pop();\n    let policyTitle = splitId.join(':');\n    let rule = _this.policiesManager.getRuleOfPolicy(policyTitle, priority);\n\n    _this.policiesManager.deleteRule(policyTitle, rule).then(() => {\n      _this._goHome();\n    });\n  }\n\n  _getActivePolicy() {\n    let _this = this;\n    _this.policiesManager.getActivePolicy().then((activeUserPolicy) => {\n      $('.policy-active').html('');\n      _this.policiesManager.getPoliciesTitles().then((policies) => {\n        policies.push('Deactivate all policies');\n\n        $('.policy-active').append(_this._getOptions('policies-list', 'Click to activate a policy', policies, activeUserPolicy));\n\n        $('#policies-list').on('click', (event) => {\n          let policyTitle = $('#policies-list').find(\":selected\")[0].textContent;\n          if (policyTitle === 'Deactivate all policies') {\n            policyTitle = undefined;\n          }\n          _this.policiesManager.updateActivePolicy(policyTitle);\n        });\n      });\n    });\n  }\n\n  _getGroupOptions(title, keys, scopes, lists) {\n    let list = '<option disabled selected>' + title + '</option>';\n\n    for (let i in keys) {\n      list += '<optgroup label=' + keys[i] + '>';\n      for (let j in lists[i]) {\n        list += '<option id=\"' + scopes[i] + '\">' + lists[i][j] + '</option>';\n      }\n    }\n\n    return list;\n  }\n\n  _getInfo(variable) {\n    let info;\n\n    switch(variable) {\n      case 'Date':\n        info = $('.config').find('input').val();\n        if (info.indexOf(',') !== -1) { //20 July, 2016\n          let splitInfo = info.split(' '); //['20', 'July,',' '2016']\n          splitInfo[1] = splitInfo[1].substring(0, splitInfo[1].length - 1); //'July'\n          let months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n          info = splitInfo[0] + '/' + (months.indexOf(splitInfo[1]) + 1) + '/' + splitInfo[2];\n        } else { // 2016-07-20\n          let splitInfo = info.split('-');\n          info = splitInfo[2] + '/' + splitInfo[1] + '/' + splitInfo[0];\n        }\n        break;\n      case 'Group of users':\n        info = $('#group').find(\":selected\").text();\n        break;\n      case 'Subscription preferences':\n        if (info = $(\"input[name='rule-new-subscription']:checked\")[0] !== undefined) {\n          info = $(\"input[name='rule-new-subscription']:checked\")[0].id;\n        }\n        break;\n      case 'Weekday':\n        info = $('#weekday').find(\":selected\").text();\n        break;\n      default:\n        info = $('.config').find('input').val();\n        break;\n    }\n\n    return info;\n  }\n\n  _getList(items) {\n      let list = '';\n      let numItems = items.length;\n\n      for (let i = 0; i < numItems; i++) {\n        list += '<li class=\"divider\"></li>';\n        list += '<li><a class=\"center-align\">' + items[i] + '</a></li>';\n      }\n\n      return list;\n    }\n\n  _getOptions(id, title, list, selected) {\n    let options = '<select id=\"' + id + '\" class=\"browser-default\"><option disabled selected>' + title + '</option>';\n    for (let i in list) {\n      if (selected !== undefined & selected === list[i]) {\n        options += '<option selected id=\"' + id + '\">' + list[i] + '</option>';\n      } else {\n        options += '<option id=\"' + id + '\">' + list[i] + '</option>';\n      }\n    }\n    options += '</select>';\n\n    return options;\n  }\n\n  _getPoliciesTable() {\n    let _this = this;\n\n    _this.policiesManager.getFormattedPolicies().then((policies) => {\n      $('.policies-no').addClass('hide');\n      $('.policies-current').html('');\n\n      let policiesTitles = [];\n      let rulesTitles = [];\n      let ids = [];\n\n      for (let i in policies) {\n        policiesTitles.push(policies[i].title);\n        rulesTitles.push(policies[i].rulesTitles);\n        ids.push(policies[i].ids);\n      }\n\n      let table = '<table>';\n      let isEmpty = policiesTitles.length === 0;\n\n      for (let i in policiesTitles) {\n        table += '<thead><tr id=\"' + policiesTitles[i] + '\"><td></td><td></td><th class=\"center-align\">' + policiesTitles[i] + '</th><td><i class=\"material-icons clickable-cell policy-delete\" style=\"cursor: pointer; vertical-align: middle\">delete_forever</i></td></tr></thead><tbody>';\n\n        for (let j in rulesTitles[i]) {\n          table += '<tr id=\"' + ids[i][j] + '\" ><td><i class=\"material-icons clickable-cell rule-priority-increase\" style=\"cursor: pointer; vertical-align: middle\">arrow_upward</i></td><td><i class=\"material-icons clickable-cell rule-priority-decrease\" style=\"cursor: pointer; vertical-align: middle\">arrow_downward</i></td><td class=\"rule-show clickable-cell\" style=\"cursor: pointer\">' + rulesTitles[i][j] + '</td><td><i class=\"material-icons clickable-cell rule-delete\" style=\"cursor: pointer; vertical-align: middle\">clear</i></td></tr>';\n        }\n        table += '<tr id=\"' + policiesTitles[i] + '\"></td><td></td><td></td><td style=\"text-align:center\"><i class=\"material-icons clickable-cell center-align rule-add\" style=\"cursor: pointer\">add_circle</i></td></tr>';\n      }\n      if (!isEmpty) {\n        table += '</tbody></table>';\n        $('.policies-current').append(table);\n      } else {\n        $('.policies-no').removeClass('hide');\n      }\n      $('.rule-add').on('click', (event) => { _this._showVariablesTypes(); });\n      $('.rule-delete').on('click', (event) => { _this._deleteRule(); });\n      $('.rule-show').on('click', (event) => { _this._showRule(); });\n      $('.rule-priority-increase').on('click', (event) => { _this._increaseRulePriority(); });\n      $('.rule-priority-decrease').on('click', (event) => { _this._decreaseRulePriority(); });\n      $('.policy-add').off();\n      $('.policy-add').on('click', (event) => { _this._addPolicy(); });\n      $('.policy-delete').on('click', (event) => { _this._deletePolicy(); });\n    });\n  }\n\n  _goHome() {\n    this._getActivePolicy();\n    this._getPoliciesTable();\n  }\n\n  _increaseRulePriority() {\n    let _this = this;\n    let id = event.target.closest('tr').id;\n    let splitId = id.split(':');\n    let thisPriority = parseInt(splitId[splitId.length - 1]);\n    if (thisPriority !== 0) {\n      splitId.pop();\n      let policyTitle = splitId.join(':');\n      let newPriority = thisPriority - 1;\n\n      _this.policiesManager.increaseRulePriority(policyTitle, thisPriority, newPriority).then(() => {\n        _this._goHome();\n      });\n    }\n  }\n\n  _manageGroups() {\n    let _this = this;\n    _this.policiesManager.getGroups().then((groupsPE) => {\n      $('.groups-current').html('');\n      let groups = groupsPE.groupsNames;\n      let members = groupsPE.members;\n      let ids = groupsPE.ids;\n\n      let table = '<table>';\n      let isEmpty = groups.length === 0;\n\n      for (let i in groups) {\n        table += '<thead><tr><th id=\"' + groups[i] + '\">' + groups[i] + '</th><td style=\"text-align:right\"><i class=\"material-icons clickable-cell group-delete\" style=\"cursor: pointer; vertical-align: middle\">delete_forever</i></td></tr></thead><tbody>';\n        for (let j in members[i]) {\n          table += '<tr id=\"' + ids[i][j] + '\" ><td style=\"cursor: pointer\">' + members[i][j] + '</td><td style=\"text-align:right\"><i class=\"material-icons clickable-cell member-delete\" style=\"cursor: pointer; vertical-align: middle\">clear</i></td></tr>';\n        }\n\n        table += '<tr id=\"' + groups[i] + '\"><td><i class=\"material-icons clickable-cell member-add\" id=\"' + groups[i] + '\" style=\"cursor: pointer\">add_circle</i></td></tr>';\n      }\n\n      if (!isEmpty) {\n        table += '</tbody></table>';\n        $('.groups-current').append(table);\n      } else {\n        $('.groups-current').append('<p>There are no groups set.</p>');\n      }\n\n      $('.member-add').off();\n      $('.member-add').on('click', (event) => { _this._addMember(); });\n      $('.member-delete').on('click', (event) => { _this._deleteMember(); });\n      $('.group-add').off();\n      $('.group-add').on('click', (event) => { _this._createGroup(); });\n      $('.group-delete').on('click', (event) => { _this._deleteGroup(); });\n    });\n  }\n\n  _parseFileContent(content) {\n    let parsedContent = JSON.parse(content);\n    for (let i in parsedContent) {\n      this.policiesManager.addPolicy(i, undefined, parsedContent[i]);\n    }\n    $('.policy-new').closeModal();\n  }\n\n  _setElements() {\n    return {\n      date: (params) => { return '<input type=\"date\" class=\"datepicker\">'; },\n      select: (params) => { return this._getOptions(params[0], params[1], params[2]); },\n      form: (params) => { return '<form><input type=\"text\" placeholder=\"' + params + '\"></input></form>'; }\n    };\n  }\n\n  _showNewConfigurationPanel(policyTitle) {\n    let variable = event.target.text;\n    $('.variable').html(this._getNewConfiguration(policyTitle, variable));\n    $('.scopes').empty().html('');\n\n    let keys = ['Email', 'Hyperty', 'All'];\n    let scopes = ['identity', 'hyperty', 'global'];\n    let lists = [];\n\n    this.policiesManager.getMyEmails().then((emails) => {\n      lists.push(emails);\n      this.policiesManager.getMyHyperties().then((hyperties) => {\n        lists.push(hyperties);\n        lists.push(['All identities and hyperties']);\n        $('.scopes').append(this._getGroupOptions('Apply this configuration to:', keys, scopes, lists));\n        $('.variable').removeClass('hide');\n      });\n    });\n  }\n\n  _showVariablesTypes(event) {\n    let policyTitle = event.target.closest('tr').id;\n\n    $('#variables-types').empty().html('');\n    let variables = this.policiesManager.getVariables();\n    $('#variables-types').append(this._getList(variables));\n    $('.variable').addClass('hide');\n    $('.rule-new').openModal();\n    $('#variables-types').off();\n    $('#variables-types').on('click', (event) => { this._showNewConfigurationPanel(policyTitle); });\n  }\n\n  _getNewConfiguration(policyTitle, variable) {\n    let _this = this;\n    let info = _this.policiesManager.getVariableInfo(variable);\n    $('.rule-new-title').html(info.title);\n    $('.description').html(info.description);\n    $('.config').html('');\n\n    if (variable === 'Subscription preferences') {\n      $('.subscription-type').removeClass('hide');\n    } else {\n      $('.subscription-type').addClass('hide');\n      let tags = info.input;\n      for (let i in tags) {\n        _this.policiesManager.getGroupsNames().then((groupsNames) => {\n          if (variable === 'Group of users') {\n            tags[i][1].push(groupsNames);\n          }\n          $('.config').append(_this.elements[tags[i][0]](tags[i][1]));\n          if (variable === 'Group of users') {\n            tags[i][1].pop();\n          }\n        });\n      }\n      if (variable ==='date') {\n        $('.datepicker').pickadate({\n          selectMonths: true,\n          selectYears: 15\n        });\n      }\n    }\n    document.getElementById('allow').checked = false;\n    document.getElementById('block').checked = false;\n    $('.ok-btn').off();\n    $('.ok-btn').on('click', (event) => {\n      if ($(\"input[name='rule-new-decision']:checked\")[0] !== undefined) {\n        let info = _this._getInfo(variable);\n        let decision = $(\"input[name='rule-new-decision']:checked\")[0].id;\n        decision = decision === 'allow';\n        let scope = $('.scopes').find(\":selected\")[0].id;\n        let target = $('.scopes').find(\":selected\")[0].textContent;\n        target = (target === 'All identities and hyperties') ? 'global' : target;\n        _this.policiesManager.setInfo(variable, policyTitle, info, decision, scope, target).then(() => {\n          $('.rule-new').closeModal();\n          _this._goHome();\n        });\n      } else {\n        throw Error('INFORMATION MISSING: please specify an authorisation decision.');\n      }\n    });\n  }\n\n  _deleteInfo(resourceType) {\n    let id = event.target.closest('tr').id;\n    let splitId = id.split(':');\n    let scope = splitId[0];\n    splitId.shift();\n    let target = splitId.join('');\n    let condition = event.target.closest('tr').children[0].id;\n    this.policiesManager.deleteInfo(resourceType, scope, target, condition);\n    this._goHome();\n  }\n\n  _setListeners() {\n    $('.settings-btn').on('click', (event) => {\n      parent.postMessage({ body: { method: 'showAdminPage' }, to: 'runtime:gui-manager' }, '*');\n      $('.admin-page').removeClass('hide');\n      // document.getElementsByTagName('body')[0].style = 'background-color:white;';\n    });\n\n    $('.policies-page-show').on('click', (event) => {\n      $('.policies-section').removeClass('hide');\n      $('.identities-section').addClass('hide');\n      this._goHome();\n      this._manageGroups();\n    });\n\n    $('.admin-page-exit').on('click', (event) => {\n      parent.postMessage({ body: { method: 'hideAdminPage' }, to: 'runtime:gui-manager' }, '*');\n      $('.admin-page').addClass('hide');\n      // document.getElementsByTagName('body')[0].style = 'background-color:transparent;';\n    });\n\n    $('.exit-btn').on('click', (event) => {\n      $('.subscription-type').addClass('hide');\n      $('.help-menu').addClass('hide');\n    });\n\n    $('#policy-file').on('change', (event) => {\n      let file = event.target.files[0];\n      let reader = new FileReader();\n      reader.readAsText(file, \"UTF-8\");\n      reader.onload = (event) => {\n        this._parseFileContent(event.target.result);\n        this._goHome();\n      }\n      reader.onerror = (event) => {\n        throw Error(\"Error reading the file\");\n      }\n    });\n  }\n\n  _showRule(event) {\n    let ruleTitle = event.target.textContent;\n    let id = event.target.closest('tr').id;\n    let splitId = id.split(':');\n    let priority = splitId[splitId.length - 1];\n    splitId.pop();\n    let policyTitle = splitId.join(':');\n    this.policiesManager.getRuleOfPolicy(policyTitle, priority).then((rule) => {\n      if (rule.condition.attribute === 'subscription' && rule.condition.params === 'preauthorised') {\n        $('.authorise-btns').addClass('hide');\n      } else {\n        let element;\n        if (rule.decision) {\n          element = document.getElementById('btn-allow');\n        } else {\n          element = document.getElementById('btn-block');\n        }\n        element.checked = true;\n        $('.authorise-btns').removeClass('hide');\n      }\n      $('.member-add').addClass('hide');\n      $('.member-new-btn').addClass('hide');\n\n      $('.rule-details').openModal();\n      $('.rule-title').html('<h5><b>' + ruleTitle + '</b></h5>');\n      if (rule.condition.attribute === 'subscription') {\n        $('.subscription-type').removeClass('hide');\n      }\n      $('.subscription-decision').on('click', (event) => { this._updateRule('subscription', policyTitle, rule); });\n      $('.decision').off();\n      $('.decision').on('click', (event) => { this._updateRule('authorisation', policyTitle, rule);});\n    });\n  }\n\n  _updateRule(type, policyTitle, rule) {\n    let _this = this;\n    let title = $('.rule-title').text();\n    let splitTitle = title.split(' ');\n    let index = splitTitle.indexOf('is');\n    if (index === -1) {\n      index = splitTitle.indexOf('are');\n    }\n    switch (type) {\n      case 'authorisation':\n        let newDecision = $(\"input[name='rule-update-decision']:checked\")[0].id;\n\n        if (newDecision === 'btn-allow') {\n          splitTitle[index + 1] = 'allowed';\n          newDecision = true;\n        } else {\n          splitTitle[index + 1] = 'blocked';\n          newDecision = false;\n        }\n        title = splitTitle.join(' ');\n        $('.rule-title').html('<h5><b>' + title + '</b></h5>');\n        _this.policiesManager.updatePolicy(policyTitle, rule, newDecision).then(() => {\n          _this._goHome();\n        });\n        break;\n      case 'subscription':\n        let newSubscriptionType = event.target.labels[0].textContent;\n\n        let decision = splitTitle[index + 1];\n        splitTitle = title.split('hyperties are');\n        if (newSubscriptionType === 'All subscribers') {\n          $('.authorise-btns').removeClass('hide');\n          newDecision = rule.decision;\n          newSubscriptionType = '*';\n          title = 'Subscriptions from all hyperties are' + splitTitle[1];\n        } else {\n          $('.authorise-btns').addClass('hide');\n          newDecision = true;\n          newSubscriptionType = 'preauthorised';\n          title = 'Subscriptions from previously authorised hyperties are' + splitTitle[1];\n        }\n\n        $('.rule-title').html('<h5><b>' + title + '</b></h5>');\n        _this.policiesManager.updatePolicy(policyTitle, rule, newDecision, newSubscriptionType).then(() => {\n          _this._goHome();\n        });\n        break;\n    }\n  }\n}\n\nexport default PoliciesGUI;\n","class PoliciesManager {\n\n  constructor(pepGuiURL, pepURL, messageBus) {\n    let _this = this;\n    _this._guiURL = pepGuiURL;\n    _this._pepURL = pepURL;\n    _this._messageBus = messageBus;\n\n    // assume prepare attributes is called after this\n  }\n\n  callPolicyEngineFunc(methodName, parameters) {\n    let _this = this;\n    let message;\n\n    return new Promise((resolve, reject) => {\n      message = { type: 'execute', to: _this._pepURL, from: _this._guiURL,\n        body: { resource: 'policy', method: methodName, params: parameters }, };\n      _this._messageBus.postMessage(message, (res) => {\n        let result = res.body.value;\n        resolve(result);\n      });\n    });\n  }\n\n  prepareAttributes() {\n    return new Promise((resolve, reject) => {\n      let _this = this;\n      _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n        _this.policies = userPolicies;\n        _this.variables = _this.setVariables();\n        _this.addition = _this.setAdditionMethods();\n        _this.validation = _this.setValidationMethods();\n        resolve();\n      });\n    });\n  }\n\n  addToGroup(groupName, user) {\n    return this.callPolicyEngineFunc('addToGroup', {groupName: groupName, userEmail: user});\n  }\n\n  createGroup(groupName) {\n    return this.callPolicyEngineFunc('createGroup', {groupName: groupName});\n  }\n\n  addPolicy(title, combiningAlgorithm, policy) {\n    if (policy === undefined) {\n      switch (combiningAlgorithm) {\n        case 'Block overrides':\n          combiningAlgorithm = 'blockOverrides';\n          break;\n        case 'Allow overrides':\n          combiningAlgorithm = 'allowOverrides';\n          break;\n        case 'First applicable':\n          combiningAlgorithm = 'firstApplicable';\n          break;\n        default:\n          combiningAlgorithm = undefined;\n      }\n    }\n\n    return this.callPolicyEngineFunc('addPolicy',\n      {source: 'USER', key: title, policy: policy, combiningAlgorithm: combiningAlgorithm});\n  }\n\n  decreaseRulePriority(policyTitle, thisPriority, newPriority) {\n    this.getRuleOfPolicy(policyTitle, newPriority).priority = thisPriority;\n    this.getRuleOfPolicy(policyTitle, thisPriority).priority = newPriority;\n    return this.callPolicyEngineFunc('savePolicies', {source: 'USER'});\n  }\n\n  deleteGroup(groupName) {\n    return this.callPolicyEngineFunc('deleteGroup', {groupName: groupName});\n  }\n\n  deletePolicy(title) {\n    return this.callPolicyEngineFunc('removePolicy', {source: 'USER', key: title});\n  }\n\n  deleteRule(policyTitle, rule) {\n    let _this = this;\n\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n        userPolicies[policyTitle].deleteRule(rule);\n        _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n          resolve();\n        });\n      });\n    });\n  }\n\n  getActivePolicy() {\n    return this.callPolicyEngineFunc('activeUserPolicy', {});\n  }\n\n  getPolicy(key) {\n    return this.callPolicyEngineFunc('userPolicy', {key: key});\n  }\n\n  getPoliciesTitles() {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('userPolicies', {}).then((policies) => {\n        let titles = [];\n\n        for (let i in policies) {\n          titles.push(i);\n        }\n\n        resolve(titles);\n      });\n    });\n  }\n\n  getTargets(scope) {\n    let targets = [];\n\n    for (let i in this.policies[scope]) {\n      if (targets.indexOf(i) === -1) {\n        targets.push(i);\n      }\n    }\n\n    return targets;\n  }\n\n  increaseRulePriority(policyTitle, thisPriority, newPriority) {\n    let _this = this;\n    _this.getRuleOfPolicy(policyTitle, thisPriority).priority = newPriority;\n    _this.getRuleOfPolicy(policyTitle, newPriority).priority = thisPriority;\n    return _this.callPolicyEngineFunc('savePolicies', {source: 'USER'});\n  }\n\n  setVariables() {\n    return {\n      'Date': {\n        title: '<br><h5>Updating date related configurations</h5><p>Incoming communications in the introduced date will be allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>',\n        description: '<p>Date:</p>',\n        input: [\n          ['date', []]\n        ]\n      },\n      'Domain': {\n        title: '<br><h5>Updating domain configurations</h5><p>Incoming communications from a user whose identity is from the introduced domain allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>',\n        description: '<p>Domain:</p>',\n        input: [\n          ['form', []]\n        ]\n      },\n      'Group of users': {\n        title: '<br><h5>Updating groups configurations</h5><p>Incoming communications from a user whose identity is in the introduced group will be allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>',\n        description: '<p>Group name:</p>',\n        input: [\n          ['select', ['group', 'Select a group:']]\n        ]\n      },\n      'Subscription preferences': {\n        title: '<br><h5>Updating subscriptions configurations</h5><p>The acceptance of subscriptions to your hyperties will be allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>',\n        input: []\n      },\n      'Time of the day': {\n        title: '<br><h5>Updating time configurations</h5><p>Incoming communications in the introduced timeslot will be blocked, but this can be changed in the preferences page.</p><p>Please introduce a new timeslot in the following format:</p><p class=\"center-align\">&lt;START-HOUR&gt;:&lt;START-MINUTES&gt; to &lt;END-HOUR&gt;:&lt;END-MINUTES&gt;</p><br>',\n        description: '<p>Timeslot:</p>',\n        input: [\n          ['form', []]\n        ]\n      },\n      Weekday: {\n        title: '<br><h5>Updating weekday configurations</h5><p>Incoming communications in the introduced weekday will be allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>',\n        description: '<p>Weekday:</p>',\n        input: [\n          ['select', ['weekday', 'Select a weekday:', ['Saturday', 'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday']]]\n        ]\n      }\n    };\n  }\n\n  setAdditionMethods() {\n    let _this = this;\n    return {\n      Date: (params) => {\n        return new Promise((resolve, reject) => {\n          let policyTitle = params[0];\n          _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n            userPolicies[policyTitle].createRule(params[4], { attribute: 'date', operator: 'equals', params: params[3] }, params[1], params[2]);\n            _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n              resolve();\n            });\n          });\n        });\n      },\n      Domain: (params) => {\n        return new Promise((resolve, reject) => {\n          let policyTitle = params[0];\n          _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n            userPolicies[policyTitle].createRule(params[4], { attribute: 'domain', operator: 'equals', params: params[3] }, params[1], params[2]);\n            _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n              resolve();\n            });\n          });\n        });\n      },\n      'Group of users': (params) => {\n        return new Promise((resolve, reject) => {\n          let policyTitle = params[0];\n          _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n            userPolicies[policyTitle].createRule(params[4], { attribute: 'source', operator: 'in', params: params[3] }, params[1], params[2]);\n            _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n              resolve();\n            });\n          });\n        });\n      },\n      'Subscription preferences': (params) => {\n        return new Promise((resolve, reject) => {\n          let policyTitle = params[0];\n          _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n            let operator = 'equals';\n            if (params[3] === 'preauthorised') {\n              operator = 'in';\n            }\n\n            // TIAGO: this is giving me an error...\n            userPolicies[policyTitle].createRule(params[4], { attribute: 'subscription', operator: operator, params: params[3] }, params[1], params[2]);\n            _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n              resolve();\n            });\n          });\n        });\n      },\n      'Time of the day': (params) => {\n        return new Promise((resolve, reject) => {\n          let policyTitle = params[0];\n          _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n            params[3] = params[3].split(' to ');\n            let start = params[3][0].split(':');\n            start = start.join('');\n            let end = params[3][1].split(':');\n            end = end.join('');\n            userPolicies[policyTitle].createRule(params[4], { attribute: 'time', operator: 'between', params: [start, end] }, params[1], params[2]);\n            _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n              resolve();\n            });\n          });\n        });\n      },\n\n      Weekday: (params) => {\n        return new Promise((resolve, reject) => {\n          let weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n          params[3] = weekdays.indexOf(params[3]);\n          let policyTitle = params[0];\n          _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n            userPolicies[policyTitle].createRule(params[4], { attribute: 'weekday', operator: 'equals', params: params[3] }, params[1], params[2]);\n            _this.callPolicyEngineFunc('savePolicies', {source: 'USER'}).then(() => {\n              resolve();\n            });\n          });\n        });\n      }\n    };\n  }\n\n  setValidationMethods() {\n    return {\n      Date: (scope, info) => { return this.isValidDate(info) & this.isValidScope(scope); },\n      'Group of users': (scope, info) => { return this.isValidString(info) & this.isValidScope(scope); },\n      Domain: (scope, info) => { return this.isValidDomain(info) & this.isValidScope(scope); },\n      Weekday: (scope, info) => { return true & this.isValidScope(scope); },\n      'Subscription preferences': (scope, info) => { return this.isValidSubscriptionType(info) & this.isValidScope(scope); },\n      'Time of the day': (scope, info) => { return this.isValidTimeslot(info) & this.isValidScope(scope); }\n    };\n  }\n\n  updateActivePolicy(title) {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('activeUserPolicy', {userPolicy: title}).then(() => {\n        _this.callPolicyEngineFunc('saveActivePolicy', {}).then(() => {\n          resolve();\n        });\n      });\n    });\n  }\n\n  isValidEmail(info) {\n    let pattern = /[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$/;\n    return pattern.test(info);\n  }\n\n  isValidDomain(info) {\n    let pattern = /[a-z0-9.-]+\\.[a-z]{2,3}$/;\n    return pattern.test(info);\n  }\n\n  isValidString(info) {\n    let pattern = /[a-z0-9.-]$/;\n    return pattern.test(info);\n  }\n\n  isValidSubscriptionType(info) {\n    return true;\n  }\n\n  isValidDate(info) {\n    let infoSplit = info.split('/');\n    let day = parseInt(infoSplit[0]);\n    let month = parseInt(infoSplit[1]);\n    let year = parseInt(infoSplit[2]);\n\n    let date = new Date(year, month-1, day);\n    let isValidFormat = date.getFullYear() === year && date.getMonth() + 1 === month && date.getDate() === day;\n    let formattedDate = date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear()\n    let now = new Date();\n    let today = now.getDate() + '/' + (now.getMonth() + 1) + '/' + now.getFullYear();\n\n    let isFuture = false;\n    if (date.getFullYear() > now.getFullYear()) {\n      isFuture = true;\n    } else {\n      if (date.getFullYear() == now.getFullYear()) {\n        if ((date.getMonth() + 1) > (now.getMonth() + 1)) {\n          isFuture = true;\n        } else {\n          if ((date.getMonth() + 1) == (now.getMonth() + 1)) {\n            if (date.getDate() >= (now.getDate())) {\n              isFuture = true;\n            }\n          }\n        }\n      }\n    }\n\n    return (isValidFormat && isFuture);\n  }\n\n  isValidScope(scope) {\n    return scope !== '';\n  }\n\n  isValidTimeslot(info) {\n    if (!info) {\n      return false;\n    }\n    let splitInfo = info.split(' to '); // [12:00, 13:00]\n    let twoTimes = splitInfo.length === 2;\n    if (!twoTimes) {\n      return false;\n    }\n    let splitStart = splitInfo[0].split(':'); // [12, 00]\n    let splitEnd = splitInfo[1].split(':'); // [13, 00]\n    if (splitStart.length !== 2 || splitEnd.length !== 2) {\n      return false;\n    }\n    let okSize = (splitStart[0].length === 2) && (splitStart[1].length === 2) && (splitEnd[0].length === 2) && (splitEnd[1].length === 2);\n    let areIntegers = (splitStart[0] == parseInt(splitStart[0], 10)) && (splitStart[1] == parseInt(splitStart[1], 10)) && (splitEnd[0] == parseInt(splitEnd[0], 10)) && (splitEnd[1] == parseInt(splitEnd[1], 10));\n    return twoTimes && okSize && areIntegers;\n  }\n\n  getFormattedPolicies() {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('userPolicies', {}).then((policiesPE) => {\n        let policiesGUI = [];\n\n        for (let i in policiesPE) {\n          let policy = {\n            title: policiesPE[i].key,\n            rulesTitles: [],\n            ids: []\n          }\n\n          if (policiesPE[i].rules.length !== 0) {\n            policiesPE[i].rules = policiesPE[i].sortRules();\n            for (let j in policiesPE[i].rules) {\n              let title = _this._getTitle(policiesPE[i].rules[j]);\n              policy.rulesTitles.push(title);\n              policy.ids.push(policy.title + ':' + policiesPE[i].rules[j].priority);\n            }\n          }\n\n          policiesGUI.push(policy);\n        }\n\n        resolve(policiesGUI);\n      });\n    });\n  }\n\n  getRuleOfPolicy(title, priority) {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('userPolicies', {}).then((policies) => {\n        let policy = policies[title];\n        resolve(policy.getRuleByPriority(priority));\n      });\n    });\n  }\n\n  _getTitle(rule) {\n    let condition = rule.condition;\n    let authorise = (rule.decision) ? 'allowed' : 'blocked';\n    let target = rule.target === 'global' ? 'All identities and hyperties' : rule.target;\n    let attribute = condition.attribute;\n    switch(attribute) {\n      case 'date':\n        return 'Date ' + condition.params + ' is ' + authorise + ' (' + target + ')';\n      case 'domain':\n        return 'Domain \\\"' + condition.params + '\\\" is ' + authorise + ' (' + target + ')';\n      case 'source':\n        if (condition.operator === 'in') {\n          return 'Group \\\"' + condition.params + '\\\" is ' + authorise + ' (' + target + ')';\n        } else {\n          if (condition.operator === 'equals') {\n            return 'User ' + condition.params + ' is ' + authorise + ' (' + target + ')';\n          }\n        }\n      case 'subscription':\n        if (condition.params === '*') {\n          return 'Subscriptions from all hyperties are ' + authorise + ' (' + target + ')';\n        } else {\n          if (condition.params === 'preauthorised') {\n            return 'Subscriptions from previously authorised hyperties are allowed (' + target + ')';\n          }\n        }\n      case 'time':\n        let start = condition.params[0][0] + condition.params[0][1] + ':' + condition.params[0][2] + condition.params[0][3];\n        let end = condition.params[1][0] + condition.params[1][1] + ':' + condition.params[1][2] + condition.params[1][3];\n        return 'Timeslot from ' + start + ' to ' + end + ' is ' + authorise + ' (' + target + ')';\n      case 'weekday':\n        let weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n        let weekdayID = condition.params;\n        return 'Weekday \\\"' + weekdays[weekdayID] + '\\\" is ' + authorise + ' (' + target + ')';\n      default:\n        return 'Rule ' + rule.priority + ' is ' + authorise + ' (' + target + ')';\n    }\n  }\n\n  getVariables() {\n    let variablesTitles = [];\n    for (let i in this.variables) {\n      variablesTitles.push(i);\n    }\n    return variablesTitles;\n  }\n\n  getVariableInfo(variable) {\n    return this.variables[variable];\n  }\n\n  getMyEmails() {\n    return this.callPolicyEngineFunc('getMyEmails', {});\n  }\n\n  getMyHyperties() {\n    return this.callPolicyEngineFunc('getMyHyperties', {});\n  }\n\n  //TODO If there is a problem with the input, show it to the user\n  setInfo(variable, policyTitle, info, authorise, scope, target) {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      if (_this.validation[variable](scope, info)) {\n        _this.addition[variable]([policyTitle, scope, target, info, authorise]).then(() => {\n          resolve();\n        });\n      } else {\n        reject('Invalid configuration');\n      }\n    });\n  }\n\n  deleteInfo(variable, scope, target, info) {\n    let params = [scope, target, info];\n    if (variable === 'member') {\n      let conditionSplit = info.split(' ');\n      let groupName = conditionSplit[2];\n      params = [scope, groupName, info];\n    }\n    this.deletion[variable](params);\n  }\n\n  getGroups() {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('groups', {}).then((groups) => {\n        let groupsGUI = {\n          groupsNames: [],\n          members: [],\n          ids: []\n        };\n\n        for (let i in groups) {\n          groupsGUI.groupsNames.push(i);\n          groupsGUI.members.push(groups[i]);\n          let ids = [];\n          for (let j in groups[i]) {\n            ids.push(i + '::' + groups[i][j]);\n          }\n          groupsGUI.ids.push(ids);\n        }\n\n        //console.log('TIAGO groups', groupsGUI)\n        resolve(groupsGUI);\n      });\n    });\n  }\n\n  getGroupsNames() {\n    return this.callPolicyEngineFunc('getGroupsNames', {});\n  }\n\n  removeFromGroup(groupName, user) {\n    return this.callPolicyEngineFunc('removeFromGroup', {groupName: groupName, userEmail: user});\n  }\n\n  updatePolicy(policyTitle, rule, newDecision, newSubscriptionType) {\n    let _this = this;\n    return new Promise((resolve, reject) => {\n      _this.callPolicyEngineFunc('userPolicies', {}).then((userPolicies) => {\n        userPolicies[policyTitle].deleteRule(rule);\n        if (!newSubscriptionType) {\n          userPolicies[policyTitle].createRule(newDecision, rule.condition, rule.scope, rule.target, rule.priority);\n        } else {\n          let operator = (newSubscriptionType === '*') ? 'equals' : 'in';\n          userPolicies[policyTitle].createRule(newDecision, [{ attribute: 'subscription', opeator: operator, params: newSubscriptionType }], rule.scope, rule.target, rule.priority);\n        }\n\n        _this.callPolicyEngineFunc('saveActivePolicy', {}).then(() => {\n          resolve();\n        });\n      });\n    });\n  }\n\n}\n\nexport default PoliciesManager;\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYWRtaW4vUG9saWNpZXNHVUkuanMiLCJzcmMvYWRtaW4vUG9saWNpZXNNYW5hZ2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7SUFFTSxXO0FBRUosdUJBQVksU0FBWixFQUF1QixNQUF2QixFQUErQixVQUEvQixFQUEyQztBQUFBOztBQUN6QyxRQUFJLFFBQVEsSUFBWjtBQUNBLFVBQU0sZUFBTixHQUF3QixJQUFJLHlCQUFKLENBQW9CLFNBQXBCLEVBQStCLE1BQS9CLEVBQXVDLFVBQXZDLENBQXhCO0FBQ0E7QUFDRDs7Ozt3Q0FFbUI7QUFDbEIsVUFBSSxRQUFRLElBQVo7QUFDQSxhQUFPLElBQUksT0FBSixDQUFZLFVBQUMsT0FBRCxFQUFVLE1BQVYsRUFBcUI7QUFDdEMsY0FBTSxlQUFOLENBQXNCLGlCQUF0QixHQUEwQyxJQUExQyxDQUErQyxZQUFNO0FBQ25ELGdCQUFNLFFBQU4sR0FBaUIsTUFBTSxZQUFOLEVBQWpCO0FBQ0EsZ0JBQU0sYUFBTjtBQUNBO0FBQ0QsU0FKRDtBQUtELE9BTk0sQ0FBUDtBQU9EOzs7aUNBRVk7QUFDWCxVQUFJLFFBQVEsSUFBWjtBQUNBLFVBQUksUUFBUSxNQUFNLE1BQU4sQ0FBYSxFQUF6QjtBQUNBLFFBQUUsbUJBQUYsRUFBdUIsSUFBdkIsQ0FBNEIsaUZBQWlGLEtBQWpGLEdBQXlGLGNBQXJIO0FBQ0EsUUFBRSxtQkFBRixFQUF1QixTQUF2QjtBQUNBLFFBQUUsZ0JBQUYsRUFBb0IsR0FBcEI7QUFDQSxRQUFFLGdCQUFGLEVBQW9CLEVBQXBCLENBQXVCLE9BQXZCLEVBQWdDLFVBQUMsS0FBRCxFQUFXO0FBQ3pDLFlBQUksU0FBUyxFQUFFLGFBQUYsRUFBaUIsR0FBakIsRUFBYjtBQUNBLFVBQUUsYUFBRixFQUFpQixHQUFqQixDQUFxQixFQUFyQjtBQUNBLGNBQU0sZUFBTixDQUFz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QTNDLEVBQStDLElBQS9DLENBQW9ELFVBQUMsWUFBRCxFQUFrQjtBQUNwRSx1QkFBYSxXQUFiLEVBQTBCLFVBQTFCLENBQXFDLElBQXJDO0FBQ0EsY0FBSSxDQUFDLG1CQUFMLEVBQTBCO0FBQ3hCLHlCQUFhLFdBQWIsRUFBMEIsVUFBMUIsQ0FBcUMsV0FBckMsRUFBa0QsS0FBSyxTQUF2RCxFQUFrRSxLQUFLLEtBQXZFLEVBQThFLEtBQUssTUFBbkYsRUFBMkYsS0FBSyxRQUFoRztBQUNELFdBRkQsTUFFTztBQUNMLGdCQUFJLFdBQVksd0JBQXdCLEdBQXpCLEdBQWdDLFFBQWhDLEdBQTJDLElBQTFEO0FBQ0EseUJBQWEsV0FBYixFQUEwQixVQUExQixDQUFxQyxXQUFyQyxFQUFrRCxDQUFDLEVBQUUsV0FBVyxjQUFiLEVBQTZCLFNBQVMsUUFBdEMsRUFBZ0QsUUFBUSxtQkFBeEQsRUFBRCxDQUFsRCxFQUFtSSxLQUFLLEtBQXhJLEVBQStJLEtBQUssTUFBcEosRUFBNEosS0FBSyxRQUFqSztBQUNEOztBQUVELGdCQUFNLG9CQUFOLENBQTJCLGtCQUEzQixFQUErQyxFQUEvQyxFQUFtRCxJQUFuRCxDQUF3RCxZQUFNO0FBQzVEO0FBQ0QsV0FGRDtBQUdELFNBWkQ7QUFhRCxPQWRNLENBQVA7QUFlRDs7Ozs7O2tCQUlZLGUiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbXBvcnQgUG9saWNpZXNNYW5hZ2VyIGZyb20gJy4vUG9saWNpZXNNYW5hZ2VyJztcblxuY2xhc3MgUG9saWNpZXNHVUkge1xuXG4gIGNvbnN0cnVjdG9yKHBlcEd1aVVSTCwgcGVwVVJMLCBtZXNzYWdlQnVzKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBfdGhpcy5wb2xpY2llc01hbmFnZXIgPSBuZXcgUG9saWNpZXNNYW5hZ2VyKHBlcEd1aVVSTCwgcGVwVVJMLCBtZXNzYWdlQnVzKTtcbiAgICAvLyBhc3N1bWUgcHJlcGFyZUF0dHJpYnV0ZXMgaXMgY2FsbGVkIGFmdGVyIHRoaXNcbiAgfVxuXG4gIHByZXBhcmVBdHRyaWJ1dGVzKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci5wcmVwYXJlQXR0cmlidXRlcygpLnRoZW4oKCkgPT4ge1xuICAgICAgICBfdGhpcy5lbGVtZW50cyA9IF90aGlzLl9zZXRFbGVtZW50cygpO1xuICAgICAgICBfdGhpcy5fc2V0TGlzdGVuZXJzKCk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX2FkZE1lbWJlcigpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBncm91cCA9IGV2ZW50LnRhcmdldC5pZDtcbiAgICAkKCcubWVtYmVyLW5ldy1pbnRybycpLmh0bWwoJzxoNT5BZGQgYSBtZW1iZXIgdG8gYSBncm91cDwvaDU+PHA+SW5zZXJ0IGEgdXNlciBlbWFpbCBiZWxvdyB0byBhZGQgdG8gdGhlIFwiJyArIGdyb3VwICsgJ1wiIGdyb3VwLjwvcD4nKTtcbiAgICAkKCcubWVtYmVyLW5ldy1tb2RhbCcpLm9wZW5Nb2RhbCgpO1xuICAgICQoJy5tZW1iZXItbmV3LW9rJykub2ZmKCk7XG4gICAgJCgnLm1lbWJlci1uZXctb2snKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGxldCBtZW1iZXIgPSAkKCcjbWVtYmVyLW5ldycpLnZhbCgpO1xuICAgICAgJCgnI21lbWJlci1uZXcnKS52YWwoJycpO1xuICAgICAgX3RoaXMucG9saWNpZXNNYW5hZ2VyLmFkZFRvR3JvdXAoZ3JvdXAsIG1lbWJlcikudGhlbigoKSA9PiB7XG4gICAgICAgICQoJy5tZW1iZXItbmV3LW1vZGFsJykuY2xvc2VNb2RhbCgpO1xuICAgICAgICBfdGhpcy5fbWFuYWdlR3JvdXBzKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9jcmVhdGVHcm91cCgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgICQoJyNncm91cC1uZXctbmFtZScpLnZhbCgnJyk7XG4gICAgJCgnLmdyb3VwLW5ldy1tb2RhbCcpLm9wZW5Nb2RhbCgpO1xuICAgICQoJy5ncm91cC1uZXctb2snKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGxldCBncm91cE5hbWUgPSAkKCcjZ3JvdXAtbmV3LW5hbWUnKS52YWwoKTtcbiAgICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci5jcmVhdGVHcm91cChncm91cE5hbWUpLnRoZW4oKCkgPT4ge1xuICAgICAgICBfdGhpcy5fbWFuYWdlR3JvdXBzKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9hZGRQb2xpY3koKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICAkKCcjcG9saWN5LW5ldy10aXRsZScpLnZhbCgnJyk7XG4gICAgJCgnLmNvbWJpbmluZycpLmh0bWwoJycpO1xuICAgIGxldCBhbGdvcml0aG1zID0gWydCbG9jayBvdmVycmlkZXMnLCAnQWxsb3cgb3ZlcnJpZGVzJywgJ0ZpcnN0IGFwcGxpY2FibGUnXTtcbiAgICAkKCcuY29tYmluaW5nJykuYXBwZW5kKHRoaXMuX2dldE9wdGlvbnMoJ2NvbWItYWxnb3JpdGhtJywgJ0Nob29zZSBhIGNvbWJpbmluZyBhbGdvcml0aG0nLCBhbGdvcml0aG1zKSk7XG4gICAgJCgnLnBvbGljeS1uZXcnKS5vcGVuTW9kYWwoKTtcblxuICAgICQoJy5wb2xpY3ktbmV3LW9rJykub2ZmKCk7XG4gICAgJCgnLnBvbGljeS1uZXctb2snKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGxldCBwb2xpY3lUaXRsZSA9ICQoJyNwb2xpY3ktbmV3LXRpdGxlJykudmFsKCk7XG4gICAgICBpZiAoIXBvbGljeVRpdGxlKSB7XG4gICAgICAgIE1hdGVyaWFsaXplLnRvYXN0KCdJbnZhbGlkIHBvbGljeSB0aXRsZScsIDQwMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGNvbWJpbmluZ0FsZ29yaXRobSA9ICQoJyNjb21iLWFsZ29yaXRobScpLnZhbCgpO1xuICAgICAgICBfdGhpcy5wb2xpY2llc01hbmFnZXIuYWRkUG9saWN5KHBvbGljeVRpdGxlLCBjb21iaW5pbmdBbGdvcml0aG0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICQoJy5oZWxwLW1lbnUnKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICAgICAgICQoJy5wb2xpY3ktbmV3JykuY2xvc2VNb2RhbCgpO1xuICAgICAgICAgIF90aGlzLl9nb0hvbWUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgJCgnLmhlbHAtYnRuJykub2ZmKCk7XG4gICAgJCgnLmhlbHAtYnRuJykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAkKCcuaGVscC1tZW51JykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9kZWNyZWFzZVJ1bGVQcmlvcml0eSgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBpZCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCd0cicpLmlkO1xuICAgIGxldCBzcGxpdElkID0gaWQuc3BsaXQoJzonKTtcbiAgICBsZXQgdGhpc1ByaW9yaXR5ID0gcGFyc2VJbnQoc3BsaXRJZFtzcGxpdElkLmxlbmd0aCAtIDFdKTtcbiAgICBzcGxpdElkLnBvcCgpO1xuICAgIGxldCBwb2xpY3lUaXRsZSA9IHNwbGl0SWQuam9pbignOicpO1xuICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci5nZXRQb2xpY3kocG9saWN5VGl0bGUpLnRoZW4oKHBvbGljeSkgPT4ge1xuICAgICAgbGV0IGxhc3RQcmlvcml0eSA9IHBvbGljeS5nZXRMYXN0UHJpb3JpdHkoKTtcbiAgICAgIGlmIChsYXN0UHJpb3JpdHkgIT0gdGhpc1ByaW9yaXR5KSB7XG4gICAgICAgIGxldCBuZXdQcmlvcml0eSA9IHBhcnNlSW50KHRoaXNQcmlvcml0eSArIDEpO1xuICAgICAgICBfdGhpcy5wb2xpY2llc01hbmFnZXIuZGVjcmVhc2VSdWxlUHJpb3JpdHkocG9saWN5VGl0bGUsIHRoaXNQcmlvcml0eSwgbmV3UHJpb3JpdHkpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIF90aGlzLl9nb0hvbWUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfZGVsZXRlTWVtYmVyKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGlkID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ3RyJykuaWQ7XG4gICAgbGV0IHNwbGl0SWQgPSBpZC5zcGxpdCgnOjonKTtcbiAgICBsZXQgbWVtYmVyID0gc3BsaXRJZFtzcGxpdElkLmxlbmd0aCAtIDFdO1xuICAgIHNwbGl0SWQucG9wKCk7XG4gICAgbGV0IGdyb3VwID0gc3BsaXRJZC5qb2luKCc6OicpO1xuICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci5yZW1vdmVGcm9tR3JvdXAoZ3JvdXAsIG1lbWJlcikudGhlbigoKSA9PiB7XG4gICAgICBfdGhpcy5fbWFuYWdlR3JvdXBzKCk7XG4gICAgfSk7XG4gIH1cblxuICBfZGVsZXRlR3JvdXAoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgZ3JvdXBOYW1lID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ3RyJykuY2hpbGRyZW5bMF0uaWQ7XG4gICAgX3RoaXMucG9saWNpZXNNYW5hZ2VyLmRlbGV0ZUdyb3VwKGdyb3VwTmFtZSkudGhlbigoKSA9PiB7XG4gICAgICBfdGhpcy5fbWFuYWdlR3JvdXBzKCk7XG4gICAgfSk7XG4gIH1cblxuICBfZGVsZXRlUG9saWN5KCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IHBvbGljeVRpdGxlID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ3RyJykuaWQ7XG4gICAgX3RoaXMucG9saWNpZXNNYW5hZ2VyLmRlbGV0ZVBvbGljeShwb2xpY3lUaXRsZSkudGhlbigoKSA9PiB7XG4gICAgICBfdGhpcy5fZ29Ib21lKCk7XG4gICAgfSk7XG4gIH1cblxuICBfZGVsZXRlUnVsZSgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBpZCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCd0cicpLmlkO1xuICAgIGxldCBzcGxpdElkID0gaWQuc3BsaXQoJzonKTtcbiAgICBsZXQgcHJpb3JpdHkgPSBzcGxpdElkW3NwbGl0SWQubGVuZ3RoIC0gMV07XG4gICAgc3BsaXRJZC5wb3AoKTtcbiAgICBsZXQgcG9saWN5VGl0bGUgPSBzcGxpdElkLmpvaW4oJzonKTtcbiAgICBsZXQgcnVsZSA9IF90aGlzLnBvbGljaWVzTWFuYWdlci5nZXRSdWxlT2ZQb2xpY3kocG9saWN5VGl0bGUsIHByaW9yaXR5KTtcblxuICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci5kZWxldGVSdWxlKHBvbGljeVRpdGxlLCBydWxlKS50aGVuKCgpID0+IHtcbiAgICAgIF90aGlzLl9nb0hvbWUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9nZXRBY3RpdmVQb2xpY3koKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBfdGhpcy5wb2xpY2llc01hbmFnZXIuZ2V0QWN0aXZlUG9saWN5KCkudGhlbigoYWN0aXZlVXNlclBvbGljeSkgPT4ge1xuICAgICAgJCgnLnBvbGljeS1hY3RpdmUnKS5odG1sKCcnKTtcbiAgICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci5nZXRQb2xpY2llc1RpdGxlcygpLnRoZW4oKHBvbGljaWVzKSA9PiB7XG4gICAgICAgIHBvbGljaWVzLnB1c2goJ0RlYWN0aXZhdGUgYWxsIHBvbGljaWVzJyk7XG5cbiAgICAgICAgJCgnLnBvbGljeS1hY3RpdmUnKS5hcHBlbmQoX3RoaXMuX2dldE9wdGlvbnMoJ3BvbGljaWVzLWxpc3QnLCAnQ2xpY2sgdG8gYWN0aXZhdGUgYSBwb2xpY3knLCBwb2xpY2llcywgYWN0aXZlVXNlclBvbGljeSkpO1xuXG4gICAgICAgICQoJyNwb2xpY2llcy1saXN0Jykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgbGV0IHBvbGljeVRpdGxlID0gJCgnI3BvbGljaWVzLWxpc3QnKS5maW5kKFwiOnNlbGVjdGVkXCIpWzBdLnRleHRDb250ZW50O1xuICAgICAgICAgIGlmIChwb2xpY3lUaXRsZSA9PT0gJ0RlYWN0aXZhdGUgYWxsIHBvbGljaWVzJykge1xuICAgICAgICAgICAgcG9saWN5VGl0bGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci51cGRhdGVBY3RpdmVQb2xpY3kocG9saWN5VGl0bGUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX2dldEdyb3VwT3B0aW9ucyh0aXRsZSwga2V5cywgc2NvcGVzLCBsaXN0cykge1xuICAgIGxldCBsaXN0ID0gJzxvcHRpb24gZGlzYWJsZWQgc2VsZWN0ZWQ+JyArIHRpdGxlICsgJzwvb3B0aW9uPic7XG5cbiAgICBmb3IgKGxldCBpIGluIGtleXMpIHtcbiAgICAgIGxpc3QgKz0gJzxvcHRncm91cCBsYWJlbD0nICsga2V5c1tpXSArICc+JztcbiAgICAgIGZvciAobGV0IGogaW4gbGlzdHNbaV0pIHtcbiAgICAgICAgbGlzdCArPSAnPG9wdGlvbiBpZD1cIicgKyBzY29wZXNbaV0gKyAnXCI+JyArIGxpc3RzW2ldW2pdICsgJzwvb3B0aW9uPic7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cblxuICBfZ2V0SW5mbyh2YXJpYWJsZSkge1xuICAgIGxldCBpbmZvO1xuXG4gICAgc3dpdGNoKHZhcmlhYmxlKSB7XG4gICAgICBjYXNlICdEYXRlJzpcbiAgICAgICAgaW5mbyA9ICQoJy5jb25maWcnKS5maW5kKCdpbnB1dCcpLnZhbCgpO1xuICAgICAgICBpZiAoaW5mby5pbmRleE9mKCcsJykgIT09IC0xKSB7IC8vMjAgSnVseSwgMjAxNlxuICAgICAgICAgIGxldCBzcGxpdEluZm8gPSBpbmZvLnNwbGl0KCcgJyk7IC8vWycyMCcsICdKdWx5LCcsJyAnMjAxNiddXG4gICAgICAgICAgc3BsaXRJbmZvWzFdID0gc3BsaXRJbmZvWzFdLnN1YnN0cmluZygwLCBzcGxpdEluZm9bMV0ubGVuZ3RoIC0gMSk7IC8vJ0p1bHknXG4gICAgICAgICAgbGV0IG1vbnRocyA9IFsnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddO1xuICAgICAgICAgIGluZm8gPSBzcGxpdEluZm9bMF0gKyAnLycgKyAobW9udGhzLmluZGV4T2Yoc3BsaXRJbmZvWzFdKSArIDEpICsgJy8nICsgc3BsaXRJbmZvWzJdO1xuICAgICAgICB9IGVsc2UgeyAvLyAyMDE2LTA3LTIwXG4gICAgICAgICAgbGV0IHNwbGl0SW5mbyA9IGluZm8uc3BsaXQoJy0nKTtcbiAgICAgICAgICBpbmZvID0gc3BsaXRJbmZvWzJdICsgJy8nICsgc3BsaXRJbmZvWzFdICsgJy8nICsgc3BsaXRJbmZvWzBdO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnR3JvdXAgb2YgdXNlcnMnOlxuICAgICAgICBpbmZvID0gJCgnI2dyb3VwJykuZmluZChcIjpzZWxlY3RlZFwiKS50ZXh0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnU3Vic2NyaXB0aW9uIHByZWZlcmVuY2VzJzpcbiAgICAgICAgaWYgKGluZm8gPSAkKFwiaW5wdXRbbmFtZT0ncnVsZS1uZXctc3Vic2NyaXB0aW9uJ106Y2hlY2tlZFwiKVswXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaW5mbyA9ICQoXCJpbnB1dFtuYW1lPSdydWxlLW5ldy1zdWJzY3JpcHRpb24nXTpjaGVja2VkXCIpWzBdLmlkO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnV2Vla2RheSc6XG4gICAgICAgIGluZm8gPSAkKCcjd2Vla2RheScpLmZpbmQoXCI6c2VsZWN0ZWRcIikudGV4dCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGluZm8gPSAkKCcuY29uZmlnJykuZmluZCgnaW5wdXQnKS52YWwoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZm87XG4gIH1cblxuICBfZ2V0TGlzdChpdGVtcykge1xuICAgICAgbGV0IGxpc3QgPSAnJztcbiAgICAgIGxldCBudW1JdGVtcyA9IGl0ZW1zLmxlbmd0aDtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1JdGVtczsgaSsrKSB7XG4gICAgICAgIGxpc3QgKz0gJzxsaSBjbGFzcz1cImRpdmlkZXJcIj48L2xpPic7XG4gICAgICAgIGxpc3QgKz0gJzxsaT48YSBjbGFzcz1cImNlbnRlci1hbGlnblwiPicgKyBpdGVtc1tpXSArICc8L2E+PC9saT4nO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgX2dldE9wdGlvbnMoaWQsIHRpdGxlLCBsaXN0LCBzZWxlY3RlZCkge1xuICAgIGxldCBvcHRpb25zID0gJzxzZWxlY3QgaWQ9XCInICsgaWQgKyAnXCIgY2xhc3M9XCJicm93c2VyLWRlZmF1bHRcIj48b3B0aW9uIGRpc2FibGVkIHNlbGVjdGVkPicgKyB0aXRsZSArICc8L29wdGlvbj4nO1xuICAgIGZvciAobGV0IGkgaW4gbGlzdCkge1xuICAgICAgaWYgKHNlbGVjdGVkICE9PSB1bmRlZmluZWQgJiBzZWxlY3RlZCA9PT0gbGlzdFtpXSkge1xuICAgICAgICBvcHRpb25zICs9ICc8b3B0aW9uIHNlbGVjdGVkIGlkPVwiJyArIGlkICsgJ1wiPicgKyBsaXN0W2ldICsgJzwvb3B0aW9uPic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zICs9ICc8b3B0aW9uIGlkPVwiJyArIGlkICsgJ1wiPicgKyBsaXN0W2ldICsgJzwvb3B0aW9uPic7XG4gICAgICB9XG4gICAgfVxuICAgIG9wdGlvbnMgKz0gJzwvc2VsZWN0Pic7XG5cbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfVxuXG4gIF9nZXRQb2xpY2llc1RhYmxlKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5wb2xpY2llc01hbmFnZXIuZ2V0Rm9ybWF0dGVkUG9saWNpZXMoKS50aGVuKChwb2xpY2llcykgPT4ge1xuICAgICAgJCgnLnBvbGljaWVzLW5vJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICQoJy5wb2xpY2llcy1jdXJyZW50JykuaHRtbCgnJyk7XG5cbiAgICAgIGxldCBwb2xpY2llc1RpdGxlcyA9IFtdO1xuICAgICAgbGV0IHJ1bGVzVGl0bGVzID0gW107XG4gICAgICBsZXQgaWRzID0gW107XG5cbiAgICAgIGZvciAobGV0IGkgaW4gcG9saWNpZXMpIHtcbiAgICAgICAgcG9saWNpZXNUaXRsZXMucHVzaChwb2xpY2llc1tpXS50aXRsZSk7XG4gICAgICAgIHJ1bGVzVGl0bGVzLnB1c2gocG9saWNpZXNbaV0ucnVsZXNUaXRsZXMpO1xuICAgICAgICBpZHMucHVzaChwb2xpY2llc1tpXS5pZHMpO1xuICAgICAgfVxuXG4gICAgICBsZXQgdGFibGUgPSAnPHRhYmxlPic7XG4gICAgICBsZXQgaXNFbXB0eSA9IHBvbGljaWVzVGl0bGVzLmxlbmd0aCA9PT0gMDtcblxuICAgICAgZm9yIChsZXQgaSBpbiBwb2xpY2llc1RpdGxlcykge1xuICAgICAgICB0YWJsZSArPSAnPHRoZWFkPjx0ciBpZD1cIicgKyBwb2xpY2llc1RpdGxlc1tpXSArICdcIj48dGQ+PC90ZD48dGQ+PC90ZD48dGggY2xhc3M9XCJjZW50ZXItYWxpZ25cIj4nICsgcG9saWNpZXNUaXRsZXNbaV0gKyAnPC90aD48dGQ+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBjbGlja2FibGUtY2VsbCBwb2xpY3ktZGVsZXRlXCIgc3R5bGU9XCJjdXJzb3I6IHBvaW50ZXI7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGVcIj5kZWxldGVfZm9yZXZlcjwvaT48L3RkPjwvdHI+PC90aGVhZD48dGJvZHk+JztcblxuICAgICAgICBmb3IgKGxldCBqIGluIHJ1bGVzVGl0bGVzW2ldKSB7XG4gICAgICAgICAgdGFibGUgKz0gJzx0ciBpZD1cIicgKyBpZHNbaV1bal0gKyAnXCIgPjx0ZD48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zIGNsaWNrYWJsZS1jZWxsIHJ1bGUtcHJpb3JpdHktaW5jcmVhc2VcIiBzdHlsZT1cImN1cnNvcjogcG9pbnRlcjsgdmVydGljYWwtYWxpZ246IG1pZGRsZVwiPmFycm93X3Vwd2FyZDwvaT48L3RkPjx0ZD48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zIGNsaWNrYWJsZS1jZWxsIHJ1bGUtcHJpb3JpdHktZGVjcmVhc2VcIiBzdHlsZT1cImN1cnNvcjogcG9pbnRlcjsgdmVydGljYWwtYWxpZ246IG1pZGRsZVwiPmFycm93X2Rvd253YXJkPC9pPjwvdGQ+PHRkIGNsYXNzPVwicnVsZS1zaG93IGNsaWNrYWJsZS1jZWxsXCIgc3R5bGU9XCJjdXJzb3I6IHBvaW50ZXJcIj4nICsgcnVsZXNUaXRsZXNbaV1bal0gKyAnPC90ZD48dGQ+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBjbGlja2FibGUtY2VsbCBydWxlLWRlbGV0ZVwiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlXCI+Y2xlYXI8L2k+PC90ZD48L3RyPic7XG4gICAgICAgIH1cbiAgICAgICAgdGFibGUgKz0gJzx0ciBpZD1cIicgKyBwb2xpY2llc1RpdGxlc1tpXSArICdcIj48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjx0ZCBzdHlsZT1cInRleHQtYWxpZ246Y2VudGVyXCI+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBjbGlja2FibGUtY2VsbCBjZW50ZXItYWxpZ24gcnVsZS1hZGRcIiBzdHlsZT1cImN1cnNvcjogcG9pbnRlclwiPmFkZF9jaXJjbGU8L2k+PC90ZD48L3RyPic7XG4gICAgICB9XG4gICAgICBpZiAoIWlzRW1wdHkpIHtcbiAgICAgICAgdGFibGUgKz0gJzwvdGJvZHk+PC90YWJsZT4nO1xuICAgICAgICAkKCcucG9saWNpZXMtY3VycmVudCcpLmFwcGVuZCh0YWJsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCcucG9saWNpZXMtbm8nKS5yZW1vdmVDbGFzcygnaGlkZScpO1xuICAgICAgfVxuICAgICAgJCgnLnJ1bGUtYWRkJykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7IF90aGlzLl9zaG93VmFyaWFibGVzVHlwZXMoKTsgfSk7XG4gICAgICAkKCcucnVsZS1kZWxldGUnKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHsgX3RoaXMuX2RlbGV0ZVJ1bGUoKTsgfSk7XG4gICAgICAkKCcucnVsZS1zaG93Jykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7IF90aGlzLl9zaG93UnVsZSgpOyB9KTtcbiAgICAgICQoJy5ydWxlLXByaW9yaXR5LWluY3JlYXNlJykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7IF90aGlzLl9pbmNyZWFzZVJ1bGVQcmlvcml0eSgpOyB9KTtcbiAgICAgICQoJy5ydWxlLXByaW9yaXR5LWRlY3JlYXNlJykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7IF90aGlzLl9kZWNyZWFzZVJ1bGVQcmlvcml0eSgpOyB9KTtcbiAgICAgICQoJy5wb2xpY3ktYWRkJykub2ZmKCk7XG4gICAgICAkKCcucG9saWN5LWFkZCcpLm9uKCdjbGljaycsIChldmVudCkgPT4geyBfdGhpcy5fYWRkUG9saWN5KCk7IH0pO1xuICAgICAgJCgnLnBvbGljeS1kZWxldGUnKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHsgX3RoaXMuX2RlbGV0ZVBvbGljeSgpOyB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9nb0hvbWUoKSB7XG4gICAgdGhpcy5fZ2V0QWN0aXZlUG9saWN5KCk7XG4gICAgdGhpcy5fZ2V0UG9saWNpZXNUYWJsZSgpO1xuICB9XG5cbiAgX2luY3JlYXNlUnVsZVByaW9yaXR5KCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGlkID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ3RyJykuaWQ7XG4gICAgbGV0IHNwbGl0SWQgPSBpZC5zcGxpdCgnOicpO1xuICAgIGxldCB0aGlzUHJpb3JpdHkgPSBwYXJzZUludChzcGxpdElkW3NwbGl0SWQubGVuZ3RoIC0gMV0pO1xuICAgIGlmICh0aGlzUHJpb3JpdHkgIT09IDApIHtcbiAgICAgIHNwbGl0SWQucG9wKCk7XG4gICAgICBsZXQgcG9saWN5VGl0bGUgPSBzcGxpdElkLmpvaW4oJzonKTtcbiAgICAgIGxldCBuZXdQcmlvcml0eSA9IHRoaXNQcmlvcml0eSAtIDE7XG5cbiAgICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci5pbmNyZWFzZVJ1bGVQcmlvcml0eShwb2xpY3lUaXRsZSwgdGhpc1ByaW9yaXR5LCBuZXdQcmlvcml0eSkudGhlbigoKSA9PiB7XG4gICAgICAgIF90aGlzLl9nb0hvbWUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIF9tYW5hZ2VHcm91cHMoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBfdGhpcy5wb2xpY2llc01hbmFnZXIuZ2V0R3JvdXBzKCkudGhlbigoZ3JvdXBzUEUpID0+IHtcbiAgICAgICQoJy5ncm91cHMtY3VycmVudCcpLmh0bWwoJycpO1xuICAgICAgbGV0IGdyb3VwcyA9IGdyb3Vwc1BFLmdyb3Vwc05hbWVzO1xuICAgICAgbGV0IG1lbWJlcnMgPSBncm91cHNQRS5tZW1iZXJzO1xuICAgICAgbGV0IGlkcyA9IGdyb3Vwc1BFLmlkcztcblxuICAgICAgbGV0IHRhYmxlID0gJzx0YWJsZT4nO1xuICAgICAgbGV0IGlzRW1wdHkgPSBncm91cHMubGVuZ3RoID09PSAwO1xuXG4gICAgICBmb3IgKGxldCBpIGluIGdyb3Vwcykge1xuICAgICAgICB0YWJsZSArPSAnPHRoZWFkPjx0cj48dGggaWQ9XCInICsgZ3JvdXBzW2ldICsgJ1wiPicgKyBncm91cHNbaV0gKyAnPC90aD48dGQgc3R5bGU9XCJ0ZXh0LWFsaWduOnJpZ2h0XCI+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBjbGlja2FibGUtY2VsbCBncm91cC1kZWxldGVcIiBzdHlsZT1cImN1cnNvcjogcG9pbnRlcjsgdmVydGljYWwtYWxpZ246IG1pZGRsZVwiPmRlbGV0ZV9mb3JldmVyPC9pPjwvdGQ+PC90cj48L3RoZWFkPjx0Ym9keT4nO1xuICAgICAgICBmb3IgKGxldCBqIGluIG1lbWJlcnNbaV0pIHtcbiAgICAgICAgICB0YWJsZSArPSAnPHRyIGlkPVwiJyArIGlkc1tpXVtqXSArICdcIiA+PHRkIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyXCI+JyArIG1lbWJlcnNbaV1bal0gKyAnPC90ZD48dGQgc3R5bGU9XCJ0ZXh0LWFsaWduOnJpZ2h0XCI+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBjbGlja2FibGUtY2VsbCBtZW1iZXItZGVsZXRlXCIgc3R5bGU9XCJjdXJzb3I6IHBvaW50ZXI7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGVcIj5jbGVhcjwvaT48L3RkPjwvdHI+JztcbiAgICAgICAgfVxuXG4gICAgICAgIHRhYmxlICs9ICc8dHIgaWQ9XCInICsgZ3JvdXBzW2ldICsgJ1wiPjx0ZD48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zIGNsaWNrYWJsZS1jZWxsIG1lbWJlci1hZGRcIiBpZD1cIicgKyBncm91cHNbaV0gKyAnXCIgc3R5bGU9XCJjdXJzb3I6IHBvaW50ZXJcIj5hZGRfY2lyY2xlPC9pPjwvdGQ+PC90cj4nO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzRW1wdHkpIHtcbiAgICAgICAgdGFibGUgKz0gJzwvdGJvZHk+PC90YWJsZT4nO1xuICAgICAgICAkKCcuZ3JvdXBzLWN1cnJlbnQnKS5hcHBlbmQodGFibGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCgnLmdyb3Vwcy1jdXJyZW50JykuYXBwZW5kKCc8cD5UaGVyZSBhcmUgbm8gZ3JvdXBzIHNldC48L3A+Jyk7XG4gICAgICB9XG5cbiAgICAgICQoJy5tZW1iZXItYWRkJykub2ZmKCk7XG4gICAgICAkKCcubWVtYmVyLWFkZCcpLm9uKCdjbGljaycsIChldmVudCkgPT4geyBfdGhpcy5fYWRkTWVtYmVyKCk7IH0pO1xuICAgICAgJCgnLm1lbWJlci1kZWxldGUnKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHsgX3RoaXMuX2RlbGV0ZU1lbWJlcigpOyB9KTtcbiAgICAgICQoJy5ncm91cC1hZGQnKS5vZmYoKTtcbiAgICAgICQoJy5ncm91cC1hZGQnKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHsgX3RoaXMuX2NyZWF0ZUdyb3VwKCk7IH0pO1xuICAgICAgJCgnLmdyb3VwLWRlbGV0ZScpLm9uKCdjbGljaycsIChldmVudCkgPT4geyBfdGhpcy5fZGVsZXRlR3JvdXAoKTsgfSk7XG4gICAgfSk7XG4gIH1cblxuICBfcGFyc2VGaWxlQ29udGVudChjb250ZW50KSB7XG4gICAgbGV0IHBhcnNlZENvbnRlbnQgPSBKU09OLnBhcnNlKGNvbnRlbnQpO1xuICAgIGZvciAobGV0IGkgaW4gcGFyc2VkQ29udGVudCkge1xuICAgICAgdGhpcy5wb2xpY2llc01hbmFnZXIuYWRkUG9saWN5KGksIHVuZGVmaW5lZCwgcGFyc2VkQ29udGVudFtpXSk7XG4gICAgfVxuICAgICQoJy5wb2xpY3ktbmV3JykuY2xvc2VNb2RhbCgpO1xuICB9XG5cbiAgX3NldEVsZW1lbnRzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBkYXRlOiAocGFyYW1zKSA9PiB7IHJldHVybiAnPGlucHV0IHR5cGU9XCJkYXRlXCIgY2xhc3M9XCJkYXRlcGlja2VyXCI+JzsgfSxcbiAgICAgIHNlbGVjdDogKHBhcmFtcykgPT4geyByZXR1cm4gdGhpcy5fZ2V0T3B0aW9ucyhwYXJhbXNbMF0sIHBhcmFtc1sxXSwgcGFyYW1zWzJdKTsgfSxcbiAgICAgIGZvcm06IChwYXJhbXMpID0+IHsgcmV0dXJuICc8Zm9ybT48aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIicgKyBwYXJhbXMgKyAnXCI+PC9pbnB1dD48L2Zvcm0+JzsgfVxuICAgIH07XG4gIH1cblxuICBfc2hvd05ld0NvbmZpZ3VyYXRpb25QYW5lbChwb2xpY3lUaXRsZSkge1xuICAgIGxldCB2YXJpYWJsZSA9IGV2ZW50LnRhcmdldC50ZXh0O1xuICAgICQoJy52YXJpYWJsZScpLmh0bWwodGhpcy5fZ2V0TmV3Q29uZmlndXJhdGlvbihwb2xpY3lUaXRsZSwgdmFyaWFibGUpKTtcbiAgICAkKCcuc2NvcGVzJykuZW1wdHkoKS5odG1sKCcnKTtcblxuICAgIGxldCBrZXlzID0gWydFbWFpbCcsICdIeXBlcnR5JywgJ0FsbCddO1xuICAgIGxldCBzY29wZXMgPSBbJ2lkZW50aXR5JywgJ2h5cGVydHknLCAnZ2xvYmFsJ107XG4gICAgbGV0IGxpc3RzID0gW107XG5cbiAgICB0aGlzLnBvbGljaWVzTWFuYWdlci5nZXRNeUVtYWlscygpLnRoZW4oKGVtYWlscykgPT4ge1xuICAgICAgbGlzdHMucHVzaChlbWFpbHMpO1xuICAgICAgdGhpcy5wb2xpY2llc01hbmFnZXIuZ2V0TXlIeXBlcnRpZXMoKS50aGVuKChoeXBlcnRpZXMpID0+IHtcbiAgICAgICAgbGlzdHMucHVzaChoeXBlcnRpZXMpO1xuICAgICAgICBsaXN0cy5wdXNoKFsnQWxsIGlkZW50aXRpZXMgYW5kIGh5cGVydGllcyddKTtcbiAgICAgICAgJCgnLnNjb3BlcycpLmFwcGVuZCh0aGlzLl9nZXRHcm91cE9wdGlvbnMoJ0FwcGx5IHRoaXMgY29uZmlndXJhdGlvbiB0bzonLCBrZXlzLCBzY29wZXMsIGxpc3RzKSk7XG4gICAgICAgICQoJy52YXJpYWJsZScpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9zaG93VmFyaWFibGVzVHlwZXMoZXZlbnQpIHtcbiAgICBsZXQgcG9saWN5VGl0bGUgPSBldmVudC50YXJnZXQuY2xvc2VzdCgndHInKS5pZDtcblxuICAgICQoJyN2YXJpYWJsZXMtdHlwZXMnKS5lbXB0eSgpLmh0bWwoJycpO1xuICAgIGxldCB2YXJpYWJsZXMgPSB0aGlzLnBvbGljaWVzTWFuYWdlci5nZXRWYXJpYWJsZXMoKTtcbiAgICAkKCcjdmFyaWFibGVzLXR5cGVzJykuYXBwZW5kKHRoaXMuX2dldExpc3QodmFyaWFibGVzKSk7XG4gICAgJCgnLnZhcmlhYmxlJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAkKCcucnVsZS1uZXcnKS5vcGVuTW9kYWwoKTtcbiAgICAkKCcjdmFyaWFibGVzLXR5cGVzJykub2ZmKCk7XG4gICAgJCgnI3ZhcmlhYmxlcy10eXBlcycpLm9uKCdjbGljaycsIChldmVudCkgPT4geyB0aGlzLl9zaG93TmV3Q29uZmlndXJhdGlvblBhbmVsKHBvbGljeVRpdGxlKTsgfSk7XG4gIH1cblxuICBfZ2V0TmV3Q29uZmlndXJhdGlvbihwb2xpY3lUaXRsZSwgdmFyaWFibGUpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBpbmZvID0gX3RoaXMucG9saWNpZXNNYW5hZ2VyLmdldFZhcmlhYmxlSW5mbyh2YXJpYWJsZSk7XG4gICAgJCgnLnJ1bGUtbmV3LXRpdGxlJykuaHRtbChpbmZvLnRpdGxlKTtcbiAgICAkKCcuZGVzY3JpcHRpb24nKS5odG1sKGluZm8uZGVzY3JpcHRpb24pO1xuICAgICQoJy5jb25maWcnKS5odG1sKCcnKTtcblxuICAgIGlmICh2YXJpYWJsZSA9PT0gJ1N1YnNjcmlwdGlvbiBwcmVmZXJlbmNlcycpIHtcbiAgICAgICQoJy5zdWJzY3JpcHRpb24tdHlwZScpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5zdWJzY3JpcHRpb24tdHlwZScpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgICBsZXQgdGFncyA9IGluZm8uaW5wdXQ7XG4gICAgICBmb3IgKGxldCBpIGluIHRhZ3MpIHtcbiAgICAgICAgX3RoaXMucG9saWNpZXNNYW5hZ2VyLmdldEdyb3Vwc05hbWVzKCkudGhlbigoZ3JvdXBzTmFtZXMpID0+IHtcbiAgICAgICAgICBpZiAodmFyaWFibGUgPT09ICdHcm91cCBvZiB1c2VycycpIHtcbiAgICAgICAgICAgIHRhZ3NbaV1bMV0ucHVzaChncm91cHNOYW1lcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgICQoJy5jb25maWcnKS5hcHBlbmQoX3RoaXMuZWxlbWVudHNbdGFnc1tpXVswXV0odGFnc1tpXVsxXSkpO1xuICAgICAgICAgIGlmICh2YXJpYWJsZSA9PT0gJ0dyb3VwIG9mIHVzZXJzJykge1xuICAgICAgICAgICAgdGFnc1tpXVsxXS5wb3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHZhcmlhYmxlID09PSdkYXRlJykge1xuICAgICAgICAkKCcuZGF0ZXBpY2tlcicpLnBpY2thZGF0ZSh7XG4gICAgICAgICAgc2VsZWN0TW9udGhzOiB0cnVlLFxuICAgICAgICAgIHNlbGVjdFllYXJzOiAxNVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsbG93JykuY2hlY2tlZCA9IGZhbHNlO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdibG9jaycpLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAkKCcub2stYnRuJykub2ZmKCk7XG4gICAgJCgnLm9rLWJ0bicpLm9uKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKCQoXCJpbnB1dFtuYW1lPSdydWxlLW5ldy1kZWNpc2lvbiddOmNoZWNrZWRcIilbMF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsZXQgaW5mbyA9IF90aGlzLl9nZXRJbmZvKHZhcmlhYmxlKTtcbiAgICAgICAgbGV0IGRlY2lzaW9uID0gJChcImlucHV0W25hbWU9J3J1bGUtbmV3LWRlY2lzaW9uJ106Y2hlY2tlZFwiKVswXS5pZDtcbiAgICAgICAgZGVjaXNpb24gPSBkZWNpc2lvbiA9PT0gJ2FsbG93JztcbiAgICAgICAgbGV0IHNjb3BlID0gJCgnLnNjb3BlcycpLmZpbmQoXCI6c2VsZWN0ZWRcIilbMF0uaWQ7XG4gICAgICAgIGxldCB0YXJnZXQgPSAkKCcuc2NvcGVzJykuZmluZChcIjpzZWxlY3RlZFwiKVswXS50ZXh0Q29udGVudDtcbiAgICAgICAgdGFyZ2V0ID0gKHRhcmdldCA9PT0gJ0FsbCBpZGVudGl0aWVzIGFuZCBoeXBlcnRpZXMnKSA/ICdnbG9iYWwnIDogdGFyZ2V0O1xuICAgICAgICBfdGhpcy5wb2xpY2llc01hbmFnZXIuc2V0SW5mbyh2YXJpYWJsZSwgcG9saWN5VGl0bGUsIGluZm8sIGRlY2lzaW9uLCBzY29wZSwgdGFyZ2V0KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAkKCcucnVsZS1uZXcnKS5jbG9zZU1vZGFsKCk7XG4gICAgICAgICAgX3RoaXMuX2dvSG9tZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKCdJTkZPUk1BVElPTiBNSVNTSU5HOiBwbGVhc2Ugc3BlY2lmeSBhbiBhdXRob3Jpc2F0aW9uIGRlY2lzaW9uLicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2RlbGV0ZUluZm8ocmVzb3VyY2VUeXBlKSB7XG4gICAgbGV0IGlkID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ3RyJykuaWQ7XG4gICAgbGV0IHNwbGl0SWQgPSBpZC5zcGxpdCgnOicpO1xuICAgIGxldCBzY29wZSA9IHNwbGl0SWRbMF07XG4gICAgc3BsaXRJZC5zaGlmdCgpO1xuICAgIGxldCB0YXJnZXQgPSBzcGxpdElkLmpvaW4oJycpO1xuICAgIGxldCBjb25kaXRpb24gPSBldmVudC50YXJnZXQuY2xvc2VzdCgndHInKS5jaGlsZHJlblswXS5pZDtcbiAgICB0aGlzLnBvbGljaWVzTWFuYWdlci5kZWxldGVJbmZvKHJlc291cmNlVHlwZSwgc2NvcGUsIHRhcmdldCwgY29uZGl0aW9uKTtcbiAgICB0aGlzLl9nb0hvbWUoKTtcbiAgfVxuXG4gIF9zZXRMaXN0ZW5lcnMoKSB7XG4gICAgJCgnLnNldHRpbmdzLWJ0bicpLm9uKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgcGFyZW50LnBvc3RNZXNzYWdlKHsgYm9keTogeyBtZXRob2Q6ICdzaG93QWRtaW5QYWdlJyB9LCB0bzogJ3J1bnRpbWU6Z3VpLW1hbmFnZXInIH0sICcqJyk7XG4gICAgICAkKCcuYWRtaW4tcGFnZScpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG4gICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLnN0eWxlID0gJ2JhY2tncm91bmQtY29sb3I6d2hpdGU7JztcbiAgICB9KTtcblxuICAgICQoJy5wb2xpY2llcy1wYWdlLXNob3cnKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICQoJy5wb2xpY2llcy1zZWN0aW9uJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICQoJy5pZGVudGl0aWVzLXNlY3Rpb24nKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICAgdGhpcy5fZ29Ib21lKCk7XG4gICAgICB0aGlzLl9tYW5hZ2VHcm91cHMoKTtcbiAgICB9KTtcblxuICAgICQoJy5hZG1pbi1wYWdlLWV4aXQnKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIHBhcmVudC5wb3N0TWVzc2FnZSh7IGJvZHk6IHsgbWV0aG9kOiAnaGlkZUFkbWluUGFnZScgfSwgdG86ICdydW50aW1lOmd1aS1tYW5hZ2VyJyB9LCAnKicpO1xuICAgICAgJCgnLmFkbWluLXBhZ2UnKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5zdHlsZSA9ICdiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50Oyc7XG4gICAgfSk7XG5cbiAgICAkKCcuZXhpdC1idG4nKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICQoJy5zdWJzY3JpcHRpb24tdHlwZScpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgICAkKCcuaGVscC1tZW51JykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICB9KTtcblxuICAgICQoJyNwb2xpY3ktZmlsZScpLm9uKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgIGxldCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdO1xuICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlLCBcIlVURi04XCIpO1xuICAgICAgcmVhZGVyLm9ubG9hZCA9IChldmVudCkgPT4ge1xuICAgICAgICB0aGlzLl9wYXJzZUZpbGVDb250ZW50KGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuICAgICAgICB0aGlzLl9nb0hvbWUoKTtcbiAgICAgIH1cbiAgICAgIHJlYWRlci5vbmVycm9yID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHRocm93IEVycm9yKFwiRXJyb3IgcmVhZGluZyB0aGUgZmlsZVwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9zaG93UnVsZShldmVudCkge1xuICAgIGxldCBydWxlVGl0bGUgPSBldmVudC50YXJnZXQudGV4dENvbnRlbnQ7XG4gICAgbGV0IGlkID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ3RyJykuaWQ7XG4gICAgbGV0IHNwbGl0SWQgPSBpZC5zcGxpdCgnOicpO1xuICAgIGxldCBwcmlvcml0eSA9IHNwbGl0SWRbc3BsaXRJZC5sZW5ndGggLSAxXTtcbiAgICBzcGxpdElkLnBvcCgpO1xuICAgIGxldCBwb2xpY3lUaXRsZSA9IHNwbGl0SWQuam9pbignOicpO1xuICAgIHRoaXMucG9saWNpZXNNYW5hZ2VyLmdldFJ1bGVPZlBvbGljeShwb2xpY3lUaXRsZSwgcHJpb3JpdHkpLnRoZW4oKHJ1bGUpID0+IHtcbiAgICAgIGlmIChydWxlLmNvbmRpdGlvbi5hdHRyaWJ1dGUgPT09ICdzdWJzY3JpcHRpb24nICYmIHJ1bGUuY29uZGl0aW9uLnBhcmFtcyA9PT0gJ3ByZWF1dGhvcmlzZWQnKSB7XG4gICAgICAgICQoJy5hdXRob3Jpc2UtYnRucycpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZWxlbWVudDtcbiAgICAgICAgaWYgKHJ1bGUuZGVjaXNpb24pIHtcbiAgICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1hbGxvdycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLWJsb2NrJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudC5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgJCgnLmF1dGhvcmlzZS1idG5zJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAgIH1cbiAgICAgICQoJy5tZW1iZXItYWRkJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICQoJy5tZW1iZXItbmV3LWJ0bicpLmFkZENsYXNzKCdoaWRlJyk7XG5cbiAgICAgICQoJy5ydWxlLWRldGFpbHMnKS5vcGVuTW9kYWwoKTtcbiAgICAgICQoJy5ydWxlLXRpdGxlJykuaHRtbCgnPGg1PjxiPicgKyBydWxlVGl0bGUgKyAnPC9iPjwvaDU+Jyk7XG4gICAgICBpZiAocnVsZS5jb25kaXRpb24uYXR0cmlidXRlID09PSAnc3Vic2NyaXB0aW9uJykge1xuICAgICAgICAkKCcuc3Vic2NyaXB0aW9uLXR5cGUnKS5yZW1vdmVDbGFzcygnaGlkZScpO1xuICAgICAgfVxuICAgICAgJCgnLnN1YnNjcmlwdGlvbi1kZWNpc2lvbicpLm9uKCdjbGljaycsIChldmVudCkgPT4geyB0aGlzLl91cGRhdGVSdWxlKCdzdWJzY3JpcHRpb24nLCBwb2xpY3lUaXRsZSwgcnVsZSk7IH0pO1xuICAgICAgJCgnLmRlY2lzaW9uJykub2ZmKCk7XG4gICAgICAkKCcuZGVjaXNpb24nKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHsgdGhpcy5fdXBkYXRlUnVsZSgnYXV0aG9yaXNhdGlvbicsIHBvbGljeVRpdGxlLCBydWxlKTt9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF91cGRhdGVSdWxlKHR5cGUsIHBvbGljeVRpdGxlLCBydWxlKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgdGl0bGUgPSAkKCcucnVsZS10aXRsZScpLnRleHQoKTtcbiAgICBsZXQgc3BsaXRUaXRsZSA9IHRpdGxlLnNwbGl0KCcgJyk7XG4gICAgbGV0IGluZGV4ID0gc3BsaXRUaXRsZS5pbmRleE9mKCdpcycpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIGluZGV4ID0gc3BsaXRUaXRsZS5pbmRleE9mKCdhcmUnKTtcbiAgICB9XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdhdXRob3Jpc2F0aW9uJzpcbiAgICAgICAgbGV0IG5ld0RlY2lzaW9uID0gJChcImlucHV0W25hbWU9J3J1bGUtdXBkYXRlLWRlY2lzaW9uJ106Y2hlY2tlZFwiKVswXS5pZDtcblxuICAgICAgICBpZiAobmV3RGVjaXNpb24gPT09ICdidG4tYWxsb3cnKSB7XG4gICAgICAgICAgc3BsaXRUaXRsZVtpbmRleCArIDFdID0gJ2FsbG93ZWQnO1xuICAgICAgICAgIG5ld0RlY2lzaW9uID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzcGxpdFRpdGxlW2luZGV4ICsgMV0gPSAnYmxvY2tlZCc7XG4gICAgICAgICAgbmV3RGVjaXNpb24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aXRsZSA9IHNwbGl0VGl0bGUuam9pbignICcpO1xuICAgICAgICAkKCcucnVsZS10aXRsZScpLmh0bWwoJzxoNT48Yj4nICsgdGl0bGUgKyAnPC9iPjwvaDU+Jyk7XG4gICAgICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci51cGRhdGVQb2xpY3kocG9saWN5VGl0bGUsIHJ1bGUsIG5ld0RlY2lzaW9uKS50aGVuKCgpID0+IHtcbiAgICAgICAgICBfdGhpcy5fZ29Ib21lKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3N1YnNjcmlwdGlvbic6XG4gICAgICAgIGxldCBuZXdTdWJzY3JpcHRpb25UeXBlID0gZXZlbnQudGFyZ2V0LmxhYmVsc1swXS50ZXh0Q29udGVudDtcblxuICAgICAgICBsZXQgZGVjaXNpb24gPSBzcGxpdFRpdGxlW2luZGV4ICsgMV07XG4gICAgICAgIHNwbGl0VGl0bGUgPSB0aXRsZS5zcGxpdCgnaHlwZXJ0aWVzIGFyZScpO1xuICAgICAgICBpZiAobmV3U3Vic2NyaXB0aW9uVHlwZSA9PT0gJ0FsbCBzdWJzY3JpYmVycycpIHtcbiAgICAgICAgICAkKCcuYXV0aG9yaXNlLWJ0bnMnKS5yZW1vdmVDbGFzcygnaGlkZScpO1xuICAgICAgICAgIG5ld0RlY2lzaW9uID0gcnVsZS5kZWNpc2lvbjtcbiAgICAgICAgICBuZXdTdWJzY3JpcHRpb25UeXBlID0gJyonO1xuICAgICAgICAgIHRpdGxlID0gJ1N1YnNjcmlwdGlvbnMgZnJvbSBhbGwgaHlwZXJ0aWVzIGFyZScgKyBzcGxpdFRpdGxlWzFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoJy5hdXRob3Jpc2UtYnRucycpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgICAgICAgbmV3RGVjaXNpb24gPSB0cnVlO1xuICAgICAgICAgIG5ld1N1YnNjcmlwdGlvblR5cGUgPSAncHJlYXV0aG9yaXNlZCc7XG4gICAgICAgICAgdGl0bGUgPSAnU3Vic2NyaXB0aW9ucyBmcm9tIHByZXZpb3VzbHkgYXV0aG9yaXNlZCBoeXBlcnRpZXMgYXJlJyArIHNwbGl0VGl0bGVbMV07XG4gICAgICAgIH1cblxuICAgICAgICAkKCcucnVsZS10aXRsZScpLmh0bWwoJzxoNT48Yj4nICsgdGl0bGUgKyAnPC9iPjwvaDU+Jyk7XG4gICAgICAgIF90aGlzLnBvbGljaWVzTWFuYWdlci51cGRhdGVQb2xpY3kocG9saWN5VGl0bGUsIHJ1bGUsIG5ld0RlY2lzaW9uLCBuZXdTdWJzY3JpcHRpb25UeXBlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICBfdGhpcy5fZ29Ib21lKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9saWNpZXNHVUk7XG4iLCJjbGFzcyBQb2xpY2llc01hbmFnZXIge1xuXG4gIGNvbnN0cnVjdG9yKHBlcEd1aVVSTCwgcGVwVVJMLCBtZXNzYWdlQnVzKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBfdGhpcy5fZ3VpVVJMID0gcGVwR3VpVVJMO1xuICAgIF90aGlzLl9wZXBVUkwgPSBwZXBVUkw7XG4gICAgX3RoaXMuX21lc3NhZ2VCdXMgPSBtZXNzYWdlQnVzO1xuXG4gICAgLy8gYXNzdW1lIHByZXBhcmUgYXR0cmlidXRlcyBpcyBjYWxsZWQgYWZ0ZXIgdGhpc1xuICB9XG5cbiAgY2FsbFBvbGljeUVuZ2luZUZ1bmMobWV0aG9kTmFtZSwgcGFyYW1ldGVycykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IG1lc3NhZ2U7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbWVzc2FnZSA9IHsgdHlwZTogJ2V4ZWN1dGUnLCB0bzogX3RoaXMuX3BlcFVSTCwgZnJvbTogX3RoaXMuX2d1aVVSTCxcbiAgICAgICAgYm9keTogeyByZXNvdXJjZTogJ3BvbGljeScsIG1ldGhvZDogbWV0aG9kTmFtZSwgcGFyYW1zOiBwYXJhbWV0ZXJzIH0sIH07XG4gICAgICBfdGhpcy5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtZXNzYWdlLCAocmVzKSA9PiB7XG4gICAgICAgIGxldCByZXN1bHQgPSByZXMuYm9keS52YWx1ZTtcbiAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcmVwYXJlQXR0cmlidXRlcygpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IF90aGlzID0gdGhpcztcbiAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCd1c2VyUG9saWNpZXMnLCB7fSkudGhlbigodXNlclBvbGljaWVzKSA9PiB7XG4gICAgICAgIF90aGlzLnBvbGljaWVzID0gdXNlclBvbGljaWVzO1xuICAgICAgICBfdGhpcy52YXJpYWJsZXMgPSBfdGhpcy5zZXRWYXJpYWJsZXMoKTtcbiAgICAgICAgX3RoaXMuYWRkaXRpb24gPSBfdGhpcy5zZXRBZGRpdGlvbk1ldGhvZHMoKTtcbiAgICAgICAgX3RoaXMudmFsaWRhdGlvbiA9IF90aGlzLnNldFZhbGlkYXRpb25NZXRob2RzKCk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkVG9Hcm91cChncm91cE5hbWUsIHVzZXIpIHtcbiAgICByZXR1cm4gdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnYWRkVG9Hcm91cCcsIHtncm91cE5hbWU6IGdyb3VwTmFtZSwgdXNlckVtYWlsOiB1c2VyfSk7XG4gIH1cblxuICBjcmVhdGVHcm91cChncm91cE5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnY3JlYXRlR3JvdXAnLCB7Z3JvdXBOYW1lOiBncm91cE5hbWV9KTtcbiAgfVxuXG4gIGFkZFBvbGljeSh0aXRsZSwgY29tYmluaW5nQWxnb3JpdGhtLCBwb2xpY3kpIHtcbiAgICBpZiAocG9saWN5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHN3aXRjaCAoY29tYmluaW5nQWxnb3JpdGhtKSB7XG4gICAgICAgIGNhc2UgJ0Jsb2NrIG92ZXJyaWRlcyc6XG4gICAgICAgICAgY29tYmluaW5nQWxnb3JpdGhtID0gJ2Jsb2NrT3ZlcnJpZGVzJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQWxsb3cgb3ZlcnJpZGVzJzpcbiAgICAgICAgICBjb21iaW5pbmdBbGdvcml0aG0gPSAnYWxsb3dPdmVycmlkZXMnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdGaXJzdCBhcHBsaWNhYmxlJzpcbiAgICAgICAgICBjb21iaW5pbmdBbGdvcml0aG0gPSAnZmlyc3RBcHBsaWNhYmxlJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb21iaW5pbmdBbGdvcml0aG0gPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ2FkZFBvbGljeScsXG4gICAgICB7c291cmNlOiAnVVNFUicsIGtleTogdGl0bGUsIHBvbGljeTogcG9saWN5LCBjb21iaW5pbmdBbGdvcml0aG06IGNvbWJpbmluZ0FsZ29yaXRobX0pO1xuICB9XG5cbiAgZGVjcmVhc2VSdWxlUHJpb3JpdHkocG9saWN5VGl0bGUsIHRoaXNQcmlvcml0eSwgbmV3UHJpb3JpdHkpIHtcbiAgICB0aGlzLmdldFJ1bGVPZlBvbGljeShwb2xpY3lUaXRsZSwgbmV3UHJpb3JpdHkpLnByaW9yaXR5ID0gdGhpc1ByaW9yaXR5O1xuICAgIHRoaXMuZ2V0UnVsZU9mUG9saWN5KHBvbGljeVRpdGxlLCB0aGlzUHJpb3JpdHkpLnByaW9yaXR5ID0gbmV3UHJpb3JpdHk7XG4gICAgcmV0dXJuIHRoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3NhdmVQb2xpY2llcycsIHtzb3VyY2U6ICdVU0VSJ30pO1xuICB9XG5cbiAgZGVsZXRlR3JvdXAoZ3JvdXBOYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ2RlbGV0ZUdyb3VwJywge2dyb3VwTmFtZTogZ3JvdXBOYW1lfSk7XG4gIH1cblxuICBkZWxldGVQb2xpY3kodGl0bGUpIHtcbiAgICByZXR1cm4gdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygncmVtb3ZlUG9saWN5Jywge3NvdXJjZTogJ1VTRVInLCBrZXk6IHRpdGxlfSk7XG4gIH1cblxuICBkZWxldGVSdWxlKHBvbGljeVRpdGxlLCBydWxlKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygndXNlclBvbGljaWVzJywge30pLnRoZW4oKHVzZXJQb2xpY2llcykgPT4ge1xuICAgICAgICB1c2VyUG9saWNpZXNbcG9saWN5VGl0bGVdLmRlbGV0ZVJ1bGUocnVsZSk7XG4gICAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdzYXZlUG9saWNpZXMnLCB7c291cmNlOiAnVVNFUid9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRBY3RpdmVQb2xpY3koKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ2FjdGl2ZVVzZXJQb2xpY3knLCB7fSk7XG4gIH1cblxuICBnZXRQb2xpY3koa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3VzZXJQb2xpY3knLCB7a2V5OiBrZXl9KTtcbiAgfVxuXG4gIGdldFBvbGljaWVzVGl0bGVzKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCd1c2VyUG9saWNpZXMnLCB7fSkudGhlbigocG9saWNpZXMpID0+IHtcbiAgICAgICAgbGV0IHRpdGxlcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgaW4gcG9saWNpZXMpIHtcbiAgICAgICAgICB0aXRsZXMucHVzaChpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc29sdmUodGl0bGVzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0VGFyZ2V0cyhzY29wZSkge1xuICAgIGxldCB0YXJnZXRzID0gW107XG5cbiAgICBmb3IgKGxldCBpIGluIHRoaXMucG9saWNpZXNbc2NvcGVdKSB7XG4gICAgICBpZiAodGFyZ2V0cy5pbmRleE9mKGkpID09PSAtMSkge1xuICAgICAgICB0YXJnZXRzLnB1c2goaSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldHM7XG4gIH1cblxuICBpbmNyZWFzZVJ1bGVQcmlvcml0eShwb2xpY3lUaXRsZSwgdGhpc1ByaW9yaXR5LCBuZXdQcmlvcml0eSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgX3RoaXMuZ2V0UnVsZU9mUG9saWN5KHBvbGljeVRpdGxlLCB0aGlzUHJpb3JpdHkpLnByaW9yaXR5ID0gbmV3UHJpb3JpdHk7XG4gICAgX3RoaXMuZ2V0UnVsZU9mUG9saWN5KHBvbGljeVRpdGxlLCBuZXdQcmlvcml0eSkucHJpb3JpdHkgPSB0aGlzUHJpb3JpdHk7XG4gICAgcmV0dXJuIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdzYXZlUG9saWNpZXMnLCB7c291cmNlOiAnVVNFUid9KTtcbiAgfVxuXG4gIHNldFZhcmlhYmxlcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgJ0RhdGUnOiB7XG4gICAgICAgIHRpdGxlOiAnPGJyPjxoNT5VcGRhdGluZyBkYXRlIHJlbGF0ZWQgY29uZmlndXJhdGlvbnM8L2g1PjxwPkluY29taW5nIGNvbW11bmljYXRpb25zIGluIHRoZSBpbnRyb2R1Y2VkIGRhdGUgd2lsbCBiZSBhbGxvd2VkIG9yIGJsb2NrZWQgYWNjb3JkaW5nIHRvIHlvdXIgY29uZmlndXJhdGlvbnMsIHdoaWNoIGNhbiBiZSBjaGFuZ2VkIGluIHRoZSBwcmVmZXJlbmNlcyBwYWdlLjwvcD48YnI+JyxcbiAgICAgICAgZGVzY3JpcHRpb246ICc8cD5EYXRlOjwvcD4nLFxuICAgICAgICBpbnB1dDogW1xuICAgICAgICAgIFsnZGF0ZScsIFtdXVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgJ0RvbWFpbic6IHtcbiAgICAgICAgdGl0bGU6ICc8YnI+PGg1PlVwZGF0aW5nIGRvbWFpbiBjb25maWd1cmF0aW9uczwvaDU+PHA+SW5jb21pbmcgY29tbXVuaWNhdGlvbnMgZnJvbSBhIHVzZXIgd2hvc2UgaWRlbnRpdHkgaXMgZnJvbSB0aGUgaW50cm9kdWNlZCBkb21haW4gYWxsb3dlZCBvciBibG9ja2VkIGFjY29yZGluZyB0byB5b3VyIGNvbmZpZ3VyYXRpb25zLCB3aGljaCBjYW4gYmUgY2hhbmdlZCBpbiB0aGUgcHJlZmVyZW5jZXMgcGFnZS48L3A+PGJyPicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnPHA+RG9tYWluOjwvcD4nLFxuICAgICAgICBpbnB1dDogW1xuICAgICAgICAgIFsnZm9ybScsIFtdXVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgJ0dyb3VwIG9mIHVzZXJzJzoge1xuICAgICAgICB0aXRsZTogJzxicj48aDU+VXBkYXRpbmcgZ3JvdXBzIGNvbmZpZ3VyYXRpb25zPC9oNT48cD5JbmNvbWluZyBjb21tdW5pY2F0aW9ucyBmcm9tIGEgdXNlciB3aG9zZSBpZGVudGl0eSBpcyBpbiB0aGUgaW50cm9kdWNlZCBncm91cCB3aWxsIGJlIGFsbG93ZWQgb3IgYmxvY2tlZCBhY2NvcmRpbmcgdG8geW91ciBjb25maWd1cmF0aW9ucywgd2hpY2ggY2FuIGJlIGNoYW5nZWQgaW4gdGhlIHByZWZlcmVuY2VzIHBhZ2UuPC9wPjxicj4nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJzxwPkdyb3VwIG5hbWU6PC9wPicsXG4gICAgICAgIGlucHV0OiBbXG4gICAgICAgICAgWydzZWxlY3QnLCBbJ2dyb3VwJywgJ1NlbGVjdCBhIGdyb3VwOiddXVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgJ1N1YnNjcmlwdGlvbiBwcmVmZXJlbmNlcyc6IHtcbiAgICAgICAgdGl0bGU6ICc8YnI+PGg1PlVwZGF0aW5nIHN1YnNjcmlwdGlvbnMgY29uZmlndXJhdGlvbnM8L2g1PjxwPlRoZSBhY2NlcHRhbmNlIG9mIHN1YnNjcmlwdGlvbnMgdG8geW91ciBoeXBlcnRpZXMgd2lsbCBiZSBhbGxvd2VkIG9yIGJsb2NrZWQgYWNjb3JkaW5nIHRvIHlvdXIgY29uZmlndXJhdGlvbnMsIHdoaWNoIGNhbiBiZSBjaGFuZ2VkIGluIHRoZSBwcmVmZXJlbmNlcyBwYWdlLjwvcD48YnI+JyxcbiAgICAgICAgaW5wdXQ6IFtdXG4gICAgICB9LFxuICAgICAgJ1RpbWUgb2YgdGhlIGRheSc6IHtcbiAgICAgICAgdGl0bGU6ICc8YnI+PGg1PlVwZGF0aW5nIHRpbWUgY29uZmlndXJhdGlvbnM8L2g1PjxwPkluY29taW5nIGNvbW11bmljYXRpb25zIGluIHRoZSBpbnRyb2R1Y2VkIHRpbWVzbG90IHdpbGwgYmUgYmxvY2tlZCwgYnV0IHRoaXMgY2FuIGJlIGNoYW5nZWQgaW4gdGhlIHByZWZlcmVuY2VzIHBhZ2UuPC9wPjxwPlBsZWFzZSBpbnRyb2R1Y2UgYSBuZXcgdGltZXNsb3QgaW4gdGhlIGZvbGxvd2luZyBmb3JtYXQ6PC9wPjxwIGNsYXNzPVwiY2VudGVyLWFsaWduXCI+Jmx0O1NUQVJULUhPVVImZ3Q7OiZsdDtTVEFSVC1NSU5VVEVTJmd0OyB0byAmbHQ7RU5ELUhPVVImZ3Q7OiZsdDtFTkQtTUlOVVRFUyZndDs8L3A+PGJyPicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnPHA+VGltZXNsb3Q6PC9wPicsXG4gICAgICAgIGlucHV0OiBbXG4gICAgICAgICAgWydmb3JtJywgW11dXG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICBXZWVrZGF5OiB7XG4gICAgICAgIHRpdGxlOiAnPGJyPjxoNT5VcGRhdGluZyB3ZWVrZGF5IGNvbmZpZ3VyYXRpb25zPC9oNT48cD5JbmNvbWluZyBjb21tdW5pY2F0aW9ucyBpbiB0aGUgaW50cm9kdWNlZCB3ZWVrZGF5IHdpbGwgYmUgYWxsb3dlZCBvciBibG9ja2VkIGFjY29yZGluZyB0byB5b3VyIGNvbmZpZ3VyYXRpb25zLCB3aGljaCBjYW4gYmUgY2hhbmdlZCBpbiB0aGUgcHJlZmVyZW5jZXMgcGFnZS48L3A+PGJyPicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnPHA+V2Vla2RheTo8L3A+JyxcbiAgICAgICAgaW5wdXQ6IFtcbiAgICAgICAgICBbJ3NlbGVjdCcsIFsnd2Vla2RheScsICdTZWxlY3QgYSB3ZWVrZGF5OicsIFsnU2F0dXJkYXknLCAnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknXV1dXG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgc2V0QWRkaXRpb25NZXRob2RzKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIHtcbiAgICAgIERhdGU6IChwYXJhbXMpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBsZXQgcG9saWN5VGl0bGUgPSBwYXJhbXNbMF07XG4gICAgICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3VzZXJQb2xpY2llcycsIHt9KS50aGVuKCh1c2VyUG9saWNpZXMpID0+IHtcbiAgICAgICAgICAgIHVzZXJQb2xpY2llc1twb2xpY3lUaXRsZV0uY3JlYXRlUnVsZShwYXJhbXNbNF0sIHsgYXR0cmlidXRlOiAnZGF0ZScsIG9wZXJhdG9yOiAnZXF1YWxzJywgcGFyYW1zOiBwYXJhbXNbM10gfSwgcGFyYW1zWzFdLCBwYXJhbXNbMl0pO1xuICAgICAgICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3NhdmVQb2xpY2llcycsIHtzb3VyY2U6ICdVU0VSJ30pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgRG9tYWluOiAocGFyYW1zKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgbGV0IHBvbGljeVRpdGxlID0gcGFyYW1zWzBdO1xuICAgICAgICAgIF90aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCd1c2VyUG9saWNpZXMnLCB7fSkudGhlbigodXNlclBvbGljaWVzKSA9PiB7XG4gICAgICAgICAgICB1c2VyUG9saWNpZXNbcG9saWN5VGl0bGVdLmNyZWF0ZVJ1bGUocGFyYW1zWzRdLCB7IGF0dHJpYnV0ZTogJ2RvbWFpbicsIG9wZXJhdG9yOiAnZXF1YWxzJywgcGFyYW1zOiBwYXJhbXNbM10gfSwgcGFyYW1zWzFdLCBwYXJhbXNbMl0pO1xuICAgICAgICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3NhdmVQb2xpY2llcycsIHtzb3VyY2U6ICdVU0VSJ30pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgJ0dyb3VwIG9mIHVzZXJzJzogKHBhcmFtcykgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGxldCBwb2xpY3lUaXRsZSA9IHBhcmFtc1swXTtcbiAgICAgICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygndXNlclBvbGljaWVzJywge30pLnRoZW4oKHVzZXJQb2xpY2llcykgPT4ge1xuICAgICAgICAgICAgdXNlclBvbGljaWVzW3BvbGljeVRpdGxlXS5jcmVhdGVSdWxlKHBhcmFtc1s0XSwgeyBhdHRyaWJ1dGU6ICdzb3VyY2UnLCBvcGVyYXRvcjogJ2luJywgcGFyYW1zOiBwYXJhbXNbM10gfSwgcGFyYW1zWzFdLCBwYXJhbXNbMl0pO1xuICAgICAgICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3NhdmVQb2xpY2llcycsIHtzb3VyY2U6ICdVU0VSJ30pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgJ1N1YnNjcmlwdGlvbiBwcmVmZXJlbmNlcyc6IChwYXJhbXMpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBsZXQgcG9saWN5VGl0bGUgPSBwYXJhbXNbMF07XG4gICAgICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3VzZXJQb2xpY2llcycsIHt9KS50aGVuKCh1c2VyUG9saWNpZXMpID0+IHtcbiAgICAgICAgICAgIGxldCBvcGVyYXRvciA9ICdlcXVhbHMnO1xuICAgICAgICAgICAgaWYgKHBhcmFtc1szXSA9PT0gJ3ByZWF1dGhvcmlzZWQnKSB7XG4gICAgICAgICAgICAgIG9wZXJhdG9yID0gJ2luJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVElBR086IHRoaXMgaXMgZ2l2aW5nIG1lIGFuIGVycm9yLi4uXG4gICAgICAgICAgICB1c2VyUG9saWNpZXNbcG9saWN5VGl0bGVdLmNyZWF0ZVJ1bGUocGFyYW1zWzRdLCB7IGF0dHJpYnV0ZTogJ3N1YnNjcmlwdGlvbicsIG9wZXJhdG9yOiBvcGVyYXRvciwgcGFyYW1zOiBwYXJhbXNbM10gfSwgcGFyYW1zWzFdLCBwYXJhbXNbMl0pO1xuICAgICAgICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3NhdmVQb2xpY2llcycsIHtzb3VyY2U6ICdVU0VSJ30pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgJ1RpbWUgb2YgdGhlIGRheSc6IChwYXJhbXMpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBsZXQgcG9saWN5VGl0bGUgPSBwYXJhbXNbMF07XG4gICAgICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3VzZXJQb2xpY2llcycsIHt9KS50aGVuKCh1c2VyUG9saWNpZXMpID0+IHtcbiAgICAgICAgICAgIHBhcmFtc1szXSA9IHBhcmFtc1szXS5zcGxpdCgnIHRvICcpO1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gcGFyYW1zWzNdWzBdLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICBzdGFydCA9IHN0YXJ0LmpvaW4oJycpO1xuICAgICAgICAgICAgbGV0IGVuZCA9IHBhcmFtc1szXVsxXS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgZW5kID0gZW5kLmpvaW4oJycpO1xuICAgICAgICAgICAgdXNlclBvbGljaWVzW3BvbGljeVRpdGxlXS5jcmVhdGVSdWxlKHBhcmFtc1s0XSwgeyBhdHRyaWJ1dGU6ICd0aW1lJywgb3BlcmF0b3I6ICdiZXR3ZWVuJywgcGFyYW1zOiBbc3RhcnQsIGVuZF0gfSwgcGFyYW1zWzFdLCBwYXJhbXNbMl0pO1xuICAgICAgICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3NhdmVQb2xpY2llcycsIHtzb3VyY2U6ICdVU0VSJ30pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBXZWVrZGF5OiAocGFyYW1zKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgbGV0IHdlZWtkYXlzID0gWydTdW5kYXknLCAnTW9uZGF5JywgJ1R1ZXNkYXknLCAnV2VkbmVzZGF5JywgJ1RodXJzZGF5JywgJ0ZyaWRheScsICdTYXR1cmRheSddO1xuICAgICAgICAgIHBhcmFtc1szXSA9IHdlZWtkYXlzLmluZGV4T2YocGFyYW1zWzNdKTtcbiAgICAgICAgICBsZXQgcG9saWN5VGl0bGUgPSBwYXJhbXNbMF07XG4gICAgICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3VzZXJQb2xpY2llcycsIHt9KS50aGVuKCh1c2VyUG9saWNpZXMpID0+IHtcbiAgICAgICAgICAgIHVzZXJQb2xpY2llc1twb2xpY3lUaXRsZV0uY3JlYXRlUnVsZShwYXJhbXNbNF0sIHsgYXR0cmlidXRlOiAnd2Vla2RheScsIG9wZXJhdG9yOiAnZXF1YWxzJywgcGFyYW1zOiBwYXJhbXNbM10gfSwgcGFyYW1zWzFdLCBwYXJhbXNbMl0pO1xuICAgICAgICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3NhdmVQb2xpY2llcycsIHtzb3VyY2U6ICdVU0VSJ30pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHNldFZhbGlkYXRpb25NZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBEYXRlOiAoc2NvcGUsIGluZm8pID0+IHsgcmV0dXJuIHRoaXMuaXNWYWxpZERhdGUoaW5mbykgJiB0aGlzLmlzVmFsaWRTY29wZShzY29wZSk7IH0sXG4gICAgICAnR3JvdXAgb2YgdXNlcnMnOiAoc2NvcGUsIGluZm8pID0+IHsgcmV0dXJuIHRoaXMuaXNWYWxpZFN0cmluZyhpbmZvKSAmIHRoaXMuaXNWYWxpZFNjb3BlKHNjb3BlKTsgfSxcbiAgICAgIERvbWFpbjogKHNjb3BlLCBpbmZvKSA9PiB7IHJldHVybiB0aGlzLmlzVmFsaWREb21haW4oaW5mbykgJiB0aGlzLmlzVmFsaWRTY29wZShzY29wZSk7IH0sXG4gICAgICBXZWVrZGF5OiAoc2NvcGUsIGluZm8pID0+IHsgcmV0dXJuIHRydWUgJiB0aGlzLmlzVmFsaWRTY29wZShzY29wZSk7IH0sXG4gICAgICAnU3Vic2NyaXB0aW9uIHByZWZlcmVuY2VzJzogKHNjb3BlLCBpbmZvKSA9PiB7IHJldHVybiB0aGlzLmlzVmFsaWRTdWJzY3JpcHRpb25UeXBlKGluZm8pICYgdGhpcy5pc1ZhbGlkU2NvcGUoc2NvcGUpOyB9LFxuICAgICAgJ1RpbWUgb2YgdGhlIGRheSc6IChzY29wZSwgaW5mbykgPT4geyByZXR1cm4gdGhpcy5pc1ZhbGlkVGltZXNsb3QoaW5mbykgJiB0aGlzLmlzVmFsaWRTY29wZShzY29wZSk7IH1cbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlQWN0aXZlUG9saWN5KHRpdGxlKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ2FjdGl2ZVVzZXJQb2xpY3knLCB7dXNlclBvbGljeTogdGl0bGV9KS50aGVuKCgpID0+IHtcbiAgICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3NhdmVBY3RpdmVQb2xpY3knLCB7fSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgaXNWYWxpZEVtYWlsKGluZm8pIHtcbiAgICBsZXQgcGF0dGVybiA9IC9bYS16MC05Ll8lKy1dK0BbYS16MC05Li1dK1xcLlthLXpdezIsM30kLztcbiAgICByZXR1cm4gcGF0dGVybi50ZXN0KGluZm8pO1xuICB9XG5cbiAgaXNWYWxpZERvbWFpbihpbmZvKSB7XG4gICAgbGV0IHBhdHRlcm4gPSAvW2EtejAtOS4tXStcXC5bYS16XXsyLDN9JC87XG4gICAgcmV0dXJuIHBhdHRlcm4udGVzdChpbmZvKTtcbiAgfVxuXG4gIGlzVmFsaWRTdHJpbmcoaW5mbykge1xuICAgIGxldCBwYXR0ZXJuID0gL1thLXowLTkuLV0kLztcbiAgICByZXR1cm4gcGF0dGVybi50ZXN0KGluZm8pO1xuICB9XG5cbiAgaXNWYWxpZFN1YnNjcmlwdGlvblR5cGUoaW5mbykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaXNWYWxpZERhdGUoaW5mbykge1xuICAgIGxldCBpbmZvU3BsaXQgPSBpbmZvLnNwbGl0KCcvJyk7XG4gICAgbGV0IGRheSA9IHBhcnNlSW50KGluZm9TcGxpdFswXSk7XG4gICAgbGV0IG1vbnRoID0gcGFyc2VJbnQoaW5mb1NwbGl0WzFdKTtcbiAgICBsZXQgeWVhciA9IHBhcnNlSW50KGluZm9TcGxpdFsyXSk7XG5cbiAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLTEsIGRheSk7XG4gICAgbGV0IGlzVmFsaWRGb3JtYXQgPSBkYXRlLmdldEZ1bGxZZWFyKCkgPT09IHllYXIgJiYgZGF0ZS5nZXRNb250aCgpICsgMSA9PT0gbW9udGggJiYgZGF0ZS5nZXREYXRlKCkgPT09IGRheTtcbiAgICBsZXQgZm9ybWF0dGVkRGF0ZSA9IGRhdGUuZ2V0RGF0ZSgpICsgJy8nICsgKGRhdGUuZ2V0TW9udGgoKSArIDEpICsgJy8nICsgZGF0ZS5nZXRGdWxsWWVhcigpXG4gICAgbGV0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgbGV0IHRvZGF5ID0gbm93LmdldERhdGUoKSArICcvJyArIChub3cuZ2V0TW9udGgoKSArIDEpICsgJy8nICsgbm93LmdldEZ1bGxZZWFyKCk7XG5cbiAgICBsZXQgaXNGdXR1cmUgPSBmYWxzZTtcbiAgICBpZiAoZGF0ZS5nZXRGdWxsWWVhcigpID4gbm93LmdldEZ1bGxZZWFyKCkpIHtcbiAgICAgIGlzRnV0dXJlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRhdGUuZ2V0RnVsbFllYXIoKSA9PSBub3cuZ2V0RnVsbFllYXIoKSkge1xuICAgICAgICBpZiAoKGRhdGUuZ2V0TW9udGgoKSArIDEpID4gKG5vdy5nZXRNb250aCgpICsgMSkpIHtcbiAgICAgICAgICBpc0Z1dHVyZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKChkYXRlLmdldE1vbnRoKCkgKyAxKSA9PSAobm93LmdldE1vbnRoKCkgKyAxKSkge1xuICAgICAgICAgICAgaWYgKGRhdGUuZ2V0RGF0ZSgpID49IChub3cuZ2V0RGF0ZSgpKSkge1xuICAgICAgICAgICAgICBpc0Z1dHVyZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIChpc1ZhbGlkRm9ybWF0ICYmIGlzRnV0dXJlKTtcbiAgfVxuXG4gIGlzVmFsaWRTY29wZShzY29wZSkge1xuICAgIHJldHVybiBzY29wZSAhPT0gJyc7XG4gIH1cblxuICBpc1ZhbGlkVGltZXNsb3QoaW5mbykge1xuICAgIGlmICghaW5mbykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgc3BsaXRJbmZvID0gaW5mby5zcGxpdCgnIHRvICcpOyAvLyBbMTI6MDAsIDEzOjAwXVxuICAgIGxldCB0d29UaW1lcyA9IHNwbGl0SW5mby5sZW5ndGggPT09IDI7XG4gICAgaWYgKCF0d29UaW1lcykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgc3BsaXRTdGFydCA9IHNwbGl0SW5mb1swXS5zcGxpdCgnOicpOyAvLyBbMTIsIDAwXVxuICAgIGxldCBzcGxpdEVuZCA9IHNwbGl0SW5mb1sxXS5zcGxpdCgnOicpOyAvLyBbMTMsIDAwXVxuICAgIGlmIChzcGxpdFN0YXJ0Lmxlbmd0aCAhPT0gMiB8fCBzcGxpdEVuZC5sZW5ndGggIT09IDIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IG9rU2l6ZSA9IChzcGxpdFN0YXJ0WzBdLmxlbmd0aCA9PT0gMikgJiYgKHNwbGl0U3RhcnRbMV0ubGVuZ3RoID09PSAyKSAmJiAoc3BsaXRFbmRbMF0ubGVuZ3RoID09PSAyKSAmJiAoc3BsaXRFbmRbMV0ubGVuZ3RoID09PSAyKTtcbiAgICBsZXQgYXJlSW50ZWdlcnMgPSAoc3BsaXRTdGFydFswXSA9PSBwYXJzZUludChzcGxpdFN0YXJ0WzBdLCAxMCkpICYmIChzcGxpdFN0YXJ0WzFdID09IHBhcnNlSW50KHNwbGl0U3RhcnRbMV0sIDEwKSkgJiYgKHNwbGl0RW5kWzBdID09IHBhcnNlSW50KHNwbGl0RW5kWzBdLCAxMCkpICYmIChzcGxpdEVuZFsxXSA9PSBwYXJzZUludChzcGxpdEVuZFsxXSwgMTApKTtcbiAgICByZXR1cm4gdHdvVGltZXMgJiYgb2tTaXplICYmIGFyZUludGVnZXJzO1xuICB9XG5cbiAgZ2V0Rm9ybWF0dGVkUG9saWNpZXMoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3VzZXJQb2xpY2llcycsIHt9KS50aGVuKChwb2xpY2llc1BFKSA9PiB7XG4gICAgICAgIGxldCBwb2xpY2llc0dVSSA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgaW4gcG9saWNpZXNQRSkge1xuICAgICAgICAgIGxldCBwb2xpY3kgPSB7XG4gICAgICAgICAgICB0aXRsZTogcG9saWNpZXNQRVtpXS5rZXksXG4gICAgICAgICAgICBydWxlc1RpdGxlczogW10sXG4gICAgICAgICAgICBpZHM6IFtdXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHBvbGljaWVzUEVbaV0ucnVsZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICBwb2xpY2llc1BFW2ldLnJ1bGVzID0gcG9saWNpZXNQRVtpXS5zb3J0UnVsZXMoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogaW4gcG9saWNpZXNQRVtpXS5ydWxlcykge1xuICAgICAgICAgICAgICBsZXQgdGl0bGUgPSBfdGhpcy5fZ2V0VGl0bGUocG9saWNpZXNQRVtpXS5ydWxlc1tqXSk7XG4gICAgICAgICAgICAgIHBvbGljeS5ydWxlc1RpdGxlcy5wdXNoKHRpdGxlKTtcbiAgICAgICAgICAgICAgcG9saWN5Lmlkcy5wdXNoKHBvbGljeS50aXRsZSArICc6JyArIHBvbGljaWVzUEVbaV0ucnVsZXNbal0ucHJpb3JpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHBvbGljaWVzR1VJLnB1c2gocG9saWN5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc29sdmUocG9saWNpZXNHVUkpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRSdWxlT2ZQb2xpY3kodGl0bGUsIHByaW9yaXR5KSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3VzZXJQb2xpY2llcycsIHt9KS50aGVuKChwb2xpY2llcykgPT4ge1xuICAgICAgICBsZXQgcG9saWN5ID0gcG9saWNpZXNbdGl0bGVdO1xuICAgICAgICByZXNvbHZlKHBvbGljeS5nZXRSdWxlQnlQcmlvcml0eShwcmlvcml0eSkpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBfZ2V0VGl0bGUocnVsZSkge1xuICAgIGxldCBjb25kaXRpb24gPSBydWxlLmNvbmRpdGlvbjtcbiAgICBsZXQgYXV0aG9yaXNlID0gKHJ1bGUuZGVjaXNpb24pID8gJ2FsbG93ZWQnIDogJ2Jsb2NrZWQnO1xuICAgIGxldCB0YXJnZXQgPSBydWxlLnRhcmdldCA9PT0gJ2dsb2JhbCcgPyAnQWxsIGlkZW50aXRpZXMgYW5kIGh5cGVydGllcycgOiBydWxlLnRhcmdldDtcbiAgICBsZXQgYXR0cmlidXRlID0gY29uZGl0aW9uLmF0dHJpYnV0ZTtcbiAgICBzd2l0Y2goYXR0cmlidXRlKSB7XG4gICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgcmV0dXJuICdEYXRlICcgKyBjb25kaXRpb24ucGFyYW1zICsgJyBpcyAnICsgYXV0aG9yaXNlICsgJyAoJyArIHRhcmdldCArICcpJztcbiAgICAgIGNhc2UgJ2RvbWFpbic6XG4gICAgICAgIHJldHVybiAnRG9tYWluIFxcXCInICsgY29uZGl0aW9uLnBhcmFtcyArICdcXFwiIGlzICcgKyBhdXRob3Jpc2UgKyAnICgnICsgdGFyZ2V0ICsgJyknO1xuICAgICAgY2FzZSAnc291cmNlJzpcbiAgICAgICAgaWYgKGNvbmRpdGlvbi5vcGVyYXRvciA9PT0gJ2luJykge1xuICAgICAgICAgIHJldHVybiAnR3JvdXAgXFxcIicgKyBjb25kaXRpb24ucGFyYW1zICsgJ1xcXCIgaXMgJyArIGF1dGhvcmlzZSArICcgKCcgKyB0YXJnZXQgKyAnKSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGNvbmRpdGlvbi5vcGVyYXRvciA9PT0gJ2VxdWFscycpIHtcbiAgICAgICAgICAgIHJldHVybiAnVXNlciAnICsgY29uZGl0aW9uLnBhcmFtcyArICcgaXMgJyArIGF1dGhvcmlzZSArICcgKCcgKyB0YXJnZXQgKyAnKSc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBjYXNlICdzdWJzY3JpcHRpb24nOlxuICAgICAgICBpZiAoY29uZGl0aW9uLnBhcmFtcyA9PT0gJyonKSB7XG4gICAgICAgICAgcmV0dXJuICdTdWJzY3JpcHRpb25zIGZyb20gYWxsIGh5cGVydGllcyBhcmUgJyArIGF1dGhvcmlzZSArICcgKCcgKyB0YXJnZXQgKyAnKSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGNvbmRpdGlvbi5wYXJhbXMgPT09ICdwcmVhdXRob3Jpc2VkJykge1xuICAgICAgICAgICAgcmV0dXJuICdTdWJzY3JpcHRpb25zIGZyb20gcHJldmlvdXNseSBhdXRob3Jpc2VkIGh5cGVydGllcyBhcmUgYWxsb3dlZCAoJyArIHRhcmdldCArICcpJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ3RpbWUnOlxuICAgICAgICBsZXQgc3RhcnQgPSBjb25kaXRpb24ucGFyYW1zWzBdWzBdICsgY29uZGl0aW9uLnBhcmFtc1swXVsxXSArICc6JyArIGNvbmRpdGlvbi5wYXJhbXNbMF1bMl0gKyBjb25kaXRpb24ucGFyYW1zWzBdWzNdO1xuICAgICAgICBsZXQgZW5kID0gY29uZGl0aW9uLnBhcmFtc1sxXVswXSArIGNvbmRpdGlvbi5wYXJhbXNbMV1bMV0gKyAnOicgKyBjb25kaXRpb24ucGFyYW1zWzFdWzJdICsgY29uZGl0aW9uLnBhcmFtc1sxXVszXTtcbiAgICAgICAgcmV0dXJuICdUaW1lc2xvdCBmcm9tICcgKyBzdGFydCArICcgdG8gJyArIGVuZCArICcgaXMgJyArIGF1dGhvcmlzZSArICcgKCcgKyB0YXJnZXQgKyAnKSc7XG4gICAgICBjYXNlICd3ZWVrZGF5JzpcbiAgICAgICAgbGV0IHdlZWtkYXlzID0gWydTdW5kYXknLCAnTW9uZGF5JywgJ1R1ZXNkYXknLCAnV2VkbmVzZGF5JywgJ1RodXJzZGF5JywgJ0ZyaWRheScsICdTYXR1cmRheSddO1xuICAgICAgICBsZXQgd2Vla2RheUlEID0gY29uZGl0aW9uLnBhcmFtcztcbiAgICAgICAgcmV0dXJuICdXZWVrZGF5IFxcXCInICsgd2Vla2RheXNbd2Vla2RheUlEXSArICdcXFwiIGlzICcgKyBhdXRob3Jpc2UgKyAnICgnICsgdGFyZ2V0ICsgJyknO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICdSdWxlICcgKyBydWxlLnByaW9yaXR5ICsgJyBpcyAnICsgYXV0aG9yaXNlICsgJyAoJyArIHRhcmdldCArICcpJztcbiAgICB9XG4gIH1cblxuICBnZXRWYXJpYWJsZXMoKSB7XG4gICAgbGV0IHZhcmlhYmxlc1RpdGxlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgaW4gdGhpcy52YXJpYWJsZXMpIHtcbiAgICAgIHZhcmlhYmxlc1RpdGxlcy5wdXNoKGkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFyaWFibGVzVGl0bGVzO1xuICB9XG5cbiAgZ2V0VmFyaWFibGVJbmZvKHZhcmlhYmxlKSB7XG4gICAgcmV0dXJuIHRoaXMudmFyaWFibGVzW3ZhcmlhYmxlXTtcbiAgfVxuXG4gIGdldE15RW1haWxzKCkge1xuICAgIHJldHVybiB0aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdnZXRNeUVtYWlscycsIHt9KTtcbiAgfVxuXG4gIGdldE15SHlwZXJ0aWVzKCkge1xuICAgIHJldHVybiB0aGlzLmNhbGxQb2xpY3lFbmdpbmVGdW5jKCdnZXRNeUh5cGVydGllcycsIHt9KTtcbiAgfVxuXG4gIC8vVE9ETyBJZiB0aGVyZSBpcyBhIHByb2JsZW0gd2l0aCB0aGUgaW5wdXQsIHNob3cgaXQgdG8gdGhlIHVzZXJcbiAgc2V0SW5mbyh2YXJpYWJsZSwgcG9saWN5VGl0bGUsIGluZm8sIGF1dGhvcmlzZSwgc2NvcGUsIHRhcmdldCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmIChfdGhpcy52YWxpZGF0aW9uW3ZhcmlhYmxlXShzY29wZSwgaW5mbykpIHtcbiAgICAgICAgX3RoaXMuYWRkaXRpb25bdmFyaWFibGVdKFtwb2xpY3lUaXRsZSwgc2NvcGUsIHRhcmdldCwgaW5mbywgYXV0aG9yaXNlXSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlamVjdCgnSW52YWxpZCBjb25maWd1cmF0aW9uJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVJbmZvKHZhcmlhYmxlLCBzY29wZSwgdGFyZ2V0LCBpbmZvKSB7XG4gICAgbGV0IHBhcmFtcyA9IFtzY29wZSwgdGFyZ2V0LCBpbmZvXTtcbiAgICBpZiAodmFyaWFibGUgPT09ICdtZW1iZXInKSB7XG4gICAgICBsZXQgY29uZGl0aW9uU3BsaXQgPSBpbmZvLnNwbGl0KCcgJyk7XG4gICAgICBsZXQgZ3JvdXBOYW1lID0gY29uZGl0aW9uU3BsaXRbMl07XG4gICAgICBwYXJhbXMgPSBbc2NvcGUsIGdyb3VwTmFtZSwgaW5mb107XG4gICAgfVxuICAgIHRoaXMuZGVsZXRpb25bdmFyaWFibGVdKHBhcmFtcyk7XG4gIH1cblxuICBnZXRHcm91cHMoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ2dyb3VwcycsIHt9KS50aGVuKChncm91cHMpID0+IHtcbiAgICAgICAgbGV0IGdyb3Vwc0dVSSA9IHtcbiAgICAgICAgICBncm91cHNOYW1lczogW10sXG4gICAgICAgICAgbWVtYmVyczogW10sXG4gICAgICAgICAgaWRzOiBbXVxuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAobGV0IGkgaW4gZ3JvdXBzKSB7XG4gICAgICAgICAgZ3JvdXBzR1VJLmdyb3Vwc05hbWVzLnB1c2goaSk7XG4gICAgICAgICAgZ3JvdXBzR1VJLm1lbWJlcnMucHVzaChncm91cHNbaV0pO1xuICAgICAgICAgIGxldCBpZHMgPSBbXTtcbiAgICAgICAgICBmb3IgKGxldCBqIGluIGdyb3Vwc1tpXSkge1xuICAgICAgICAgICAgaWRzLnB1c2goaSArICc6OicgKyBncm91cHNbaV1bal0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBncm91cHNHVUkuaWRzLnB1c2goaWRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vY29uc29sZS5sb2coJ1RJQUdPIGdyb3VwcycsIGdyb3Vwc0dVSSlcbiAgICAgICAgcmVzb2x2ZShncm91cHNHVUkpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRHcm91cHNOYW1lcygpIHtcbiAgICByZXR1cm4gdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnZ2V0R3JvdXBzTmFtZXMnLCB7fSk7XG4gIH1cblxuICByZW1vdmVGcm9tR3JvdXAoZ3JvdXBOYW1lLCB1c2VyKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3JlbW92ZUZyb21Hcm91cCcsIHtncm91cE5hbWU6IGdyb3VwTmFtZSwgdXNlckVtYWlsOiB1c2VyfSk7XG4gIH1cblxuICB1cGRhdGVQb2xpY3kocG9saWN5VGl0bGUsIHJ1bGUsIG5ld0RlY2lzaW9uLCBuZXdTdWJzY3JpcHRpb25UeXBlKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgX3RoaXMuY2FsbFBvbGljeUVuZ2luZUZ1bmMoJ3VzZXJQb2xpY2llcycsIHt9KS50aGVuKCh1c2VyUG9saWNpZXMpID0+IHtcbiAgICAgICAgdXNlclBvbGljaWVzW3BvbGljeVRpdGxlXS5kZWxldGVSdWxlKHJ1bGUpO1xuICAgICAgICBpZiAoIW5ld1N1YnNjcmlwdGlvblR5cGUpIHtcbiAgICAgICAgICB1c2VyUG9saWNpZXNbcG9saWN5VGl0bGVdLmNyZWF0ZVJ1bGUobmV3RGVjaXNpb24sIHJ1bGUuY29uZGl0aW9uLCBydWxlLnNjb3BlLCBydWxlLnRhcmdldCwgcnVsZS5wcmlvcml0eSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IG9wZXJhdG9yID0gKG5ld1N1YnNjcmlwdGlvblR5cGUgPT09ICcqJykgPyAnZXF1YWxzJyA6ICdpbic7XG4gICAgICAgICAgdXNlclBvbGljaWVzW3BvbGljeVRpdGxlXS5jcmVhdGVSdWxlKG5ld0RlY2lzaW9uLCBbeyBhdHRyaWJ1dGU6ICdzdWJzY3JpcHRpb24nLCBvcGVhdG9yOiBvcGVyYXRvciwgcGFyYW1zOiBuZXdTdWJzY3JpcHRpb25UeXBlIH1dLCBydWxlLnNjb3BlLCBydWxlLnRhcmdldCwgcnVsZS5wcmlvcml0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5jYWxsUG9saWN5RW5naW5lRnVuYygnc2F2ZUFjdGl2ZVBvbGljeScsIHt9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBQb2xpY2llc01hbmFnZXI7XG4iXX0="}